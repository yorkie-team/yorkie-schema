var p2=Object.defineProperty;var m2=(n,e,t)=>e in n?p2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var te=(n,e,t)=>m2(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();class je{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=po(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),kr.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=po(this,e,t);let r=[];return this.decompose(e,t,r,0),kr.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new al(this),o=new al(e);for(let s=t,l=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new al(this,e)}iterRange(e,t=this.length){return new bx(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Ax(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?je.empty:e.length<=32?new et(e):kr.from(et.split(e,[]))}}class et extends je{constructor(e,t=g2(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],l=i+s.length;if((t?r:l)>=e)return new x2(i,l,r,s);i=l+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new et(Vp(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),l=Qa(o.text,s.text.slice(),0,o.length);if(l.length<=32)r.push(new et(l,s.length+o.length));else{let a=l.length>>1;r.push(new et(l.slice(0,a)),new et(l.slice(a)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof et))return super.replace(e,t,r);[e,t]=po(this,e,t);let i=Qa(this.text,Qa(r.text,Vp(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new et(i,o):kr.from(et.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=po(this,e,t);let i="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&t>o&&(i+=l.slice(Math.max(0,e-o),t-o)),o=a+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new et(r,i)),r=[],i=-1);return i>-1&&t.push(new et(r,i)),t}}class kr extends je{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],l=i+s.length,a=r+s.lines-1;if((t?a:l)>=e)return s.lineInner(e,t,r,i);i=l+1,r=a+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&t>=s){let u=i&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!u?r.push(l):l.decompose(e-s,t-s,r,u)}s=a+1}}replace(e,t,r){if([e,t]=po(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(e>=o&&t<=l){let a=s.replace(e-o,t-o,r),u=this.lines-s.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let c=this.children.slice();return c[i]=a,new kr(c,this.length-(t-e)+r.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=po(this,e,t);let i="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&t>s&&(i+=l.sliceString(e-s,t-s,r)),s=a+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof kr))return 0;let r=0,[i,o,s,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==l)return r;let a=this.children[i],u=e.children[o];if(a!=u)return r+a.scanIdentical(u,t);r+=a.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new et(d,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,l=[],a=0,u=-1,c=[];function h(d){let p;if(d.lines>o&&d instanceof kr)for(let v of d.children)h(v);else d.lines>s&&(a>s||!a)?(f(),l.push(d)):d instanceof et&&a&&(p=c[c.length-1])instanceof et&&d.lines+p.lines<=32?(a+=d.lines,u+=d.length+1,c[c.length-1]=new et(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>i&&f(),a+=d.lines,u+=d.length+1,c.push(d))}function f(){a!=0&&(l.push(c.length==1?c[0]:kr.from(c,u)),u=-1,a=c.length=0)}for(let d of e)h(d);return f(),l.length==1?l[0]:new kr(l,t)}}je.empty=new et([""],0);function g2(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Qa(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let l=n[o],a=i+l.length;a>=t&&(a>r&&(l=l.slice(0,r-i)),i<t&&(l=l.slice(t-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=a+1}return e}function Vp(n,e,t){return Qa(n,[""],e,t)}class al{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof et?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,l=i instanceof et?i.text.length:i.children.length;if(s==(t>0?l:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof et){let a=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[s+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof et?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class bx{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new al(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Ax{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(je.prototype[Symbol.iterator]=function(){return this.iter()},al.prototype[Symbol.iterator]=bx.prototype[Symbol.iterator]=Ax.prototype[Symbol.iterator]=function(){return this});class x2{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function po(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}let oo="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<oo.length;n++)oo[n]+=oo[n-1];function y2(n){for(let e=1;e<oo.length;e+=2)if(oo[e]>n)return oo[e-1]<=n;return!1}function Wp(n){return n>=127462&&n<=127487}const Kp=8205;function At(n,e,t=!0,r=!0){return(t?_x:v2)(n,e,r)}function _x(n,e,t){if(e==n.length)return e;e&&Tx(n.charCodeAt(e))&&Ex(n.charCodeAt(e-1))&&e--;let r=yt(n,e);for(e+=ar(r);e<n.length;){let i=yt(n,e);if(r==Kp||i==Kp||t&&y2(i))e+=ar(i),r=i;else if(Wp(i)){let o=0,s=e-2;for(;s>=0&&Wp(yt(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function v2(n,e,t){for(;e>0;){let r=_x(n,e-2,t);if(r<e)return r;e--}return 0}function Tx(n){return n>=56320&&n<57344}function Ex(n){return n>=55296&&n<56320}function yt(n,e){let t=n.charCodeAt(e);if(!Ex(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Tx(r)?(t-55296<<10)+(r-56320)+65536:t}function Bd(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ar(n){return n<65536?1:2}const yf=/\r\n?|\n/;var It=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(It||(It={}));class $r{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){vf(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new $r(e)}composeDesc(e){return this.empty?e:e.empty?this:Cx(this,e)}mapDesc(e,t=!1){return e.empty?this:Sf(this,e,t)}mapPos(e,t=-1,r=It.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],u=i+l;if(a<0){if(u>e)return o+(e-i);o+=l}else{if(r!=It.Simple&&u>=e&&(r==It.TrackDel&&i<e&&u>e||r==It.TrackBefore&&i<e||r==It.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!l)return e==i||t<0?o:o+a;o+=a}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=this.sections[r++],s=this.sections[r++],l=i+o;if(s>=0&&i<=t&&l>=e)return i<e&&l>t?"cover":!0;i=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $r(e)}static create(e){return new $r(e)}}class at extends $r{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return vf(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return Sf(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],l=t[i+1];if(l>=0){t[i]=l,t[i+1]=s;let a=i>>1;for(;r.length<a;)r.push(je.empty);r.push(s?e.slice(o,o+s):je.empty)}o+=s}return new at(t,r)}compose(e){return this.empty?e:e.empty?this:Cx(this,e,!0)}map(e,t=!1){return e.empty?this:Sf(this,e,t,!0)}iterChanges(e,t=!1){vf(this,e,t)}get desc(){return $r.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new dl(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,a-l);Ot(i,c,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;Ot(t,c,h),h>0&&Dn(r,t,o.text),o.forward(c),l+=c}let u=e[s++];for(;l<u;){if(o.done)break e;let c=Math.min(o.len,u-l);Ot(t,c,-1),Ot(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),l+=c}}return{changes:new at(t,r),filtered:$r.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,l=null;function a(c=!1){if(!c&&!i.length)return;s<t&&Ot(i,t-s,-1);let h=new at(i,o);l=l?l.compose(h.map(l)):h,i=[],o=[],s=0}function u(c){if(Array.isArray(c))for(let h of c)u(h);else if(c instanceof at){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);a(),l=l?l.compose(c.map(l)):c}else{let{from:h,to:f=h,insert:d}=c;if(h>f||h<0||f>t)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${t})`);let p=d?typeof d=="string"?je.of(d.split(r||yf)):d:je.empty,v=p.length;if(h==f&&v==0)return;h<s&&a(),h>s&&Ot(i,h-s,-1),Ot(i,f-h,v),Dn(o,i,p),s=f}}return u(e),a(!l),l}static empty(e){return new at(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(je.empty);r[i]=je.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new at(t,r)}static createSet(e,t){return new at(e,t)}}function Ot(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Dn(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(je.empty);n.push(t)}}function vf(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let l=n.sections[s++],a=n.sections[s++];if(a<0)i+=l,o+=l;else{let u=i,c=o,h=je.empty;for(;u+=l,c+=a,a&&r&&(h=h.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)l=n.sections[s++],a=n.sections[s++];e(i,u,o,c,h),i=u,o=c}}}function Sf(n,e,t,r=!1){let i=[],o=r?[]:null,s=new dl(n),l=new dl(e);for(let a=-1;;)if(s.ins==-1&&l.ins==-1){let u=Math.min(s.len,l.len);Ot(i,u,-1),s.forward(u),l.forward(u)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!t))){let u=l.len;for(Ot(i,l.ins,-1);u;){let c=Math.min(s.len,u);s.ins>=0&&a<s.i&&s.len<=c&&(Ot(i,0,s.ins),o&&Dn(o,i,s.text),a=s.i),s.forward(c),u-=c}l.next()}else if(s.ins>=0){let u=0,c=s.len;for(;c;)if(l.ins==-1){let h=Math.min(c,l.len);u+=h,c-=h,l.forward(h)}else if(l.ins==0&&l.len<c)c-=l.len,l.next();else break;Ot(i,u,a<s.i?s.ins:0),o&&a<s.i&&Dn(o,i,s.text),a=s.i,s.forward(s.len-c)}else{if(s.done&&l.done)return o?at.createSet(i,o):$r.create(i);throw new Error("Mismatched change set lengths")}}function Cx(n,e,t=!1){let r=[],i=t?[]:null,o=new dl(n),s=new dl(e);for(let l=!1;;){if(o.done&&s.done)return i?at.createSet(r,i):$r.create(r);if(o.ins==0)Ot(r,o.len,0,l),o.next();else if(s.len==0&&!s.done)Ot(r,0,s.ins,l),i&&Dn(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),u=r.length;if(o.ins==-1){let c=s.ins==-1?-1:s.off?0:s.ins;Ot(r,a,c,l),i&&c&&Dn(i,r,s.text)}else s.ins==-1?(Ot(r,o.off?0:o.len,a,l),i&&Dn(i,r,o.textBit(a))):(Ot(r,o.off?0:o.len,s.off?0:s.ins,l),i&&!s.off&&Dn(i,r,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||r.length>u),o.forward2(a),s.forward(a)}}}}class dl{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?je.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?je.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class si{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new si(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return re.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return re.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return re.range(e.anchor,e.head)}static create(e,t,r){return new si(e,t,r)}}class re{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:re.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new re([this.main],0)}addRange(e,t=!0){return re.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,re.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new re(e.ranges.map(t=>si.fromJSON(t)),e.main)}static single(e,t=e){return new re([re.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return re.normalized(e.slice(),t);r=o.to}return new re(e,t)}static cursor(e,t=0,r,i){return si.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?si.create(t,e,48|o):si.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?re.range(a,l):re.range(l,a))}}return new re(e,t)}}function wx(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let jd=0;class he{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=jd++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new he(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:$d),!!e.static,e.enables)}of(e){return new Za([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Za(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Za(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function $d(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Za{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=jd++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,u=!1,c=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?u=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||c.push(e[h.id]);return{create(h){return h.values[s]=r(h),1},update(h,f){if(a&&f.docChanged||u&&(f.docChanged||f.selection)||bf(h,c)){let d=r(h);if(l?!Gp(d,h.values[s],i):!i(d,h.values[s]))return h.values[s]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[o];if(p!=null){let v=yu(f,p);if(this.dependencies.every(m=>m instanceof he?f.facet(m)===h.facet(m):m instanceof ft?f.field(m,!1)==h.field(m,!1):!0)||(l?Gp(d=r(h),v,i):i(d=r(h),v)))return h.values[s]=v,0}else d=r(h);return h.values[s]=d,1}}}}function Gp(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function bf(n,e){let t=!1;for(let r of e)ul(n,r)&1&&(t=!0);return t}function S2(n,e,t){let r=t.map(a=>n[a.id]),i=t.map(a=>a.type),o=r.filter(a=>!(a&1)),s=n[e.id]>>1;function l(a){let u=[];for(let c=0;c<r.length;c++){let h=yu(a,r[c]);if(i[c]==2)for(let f of h)u.push(f);else u.push(h)}return e.combine(u)}return{create(a){for(let u of r)ul(a,u);return a.values[s]=l(a),1},update(a,u){if(!bf(a,o))return 0;let c=l(a);return e.compare(c,a.values[s])?0:(a.values[s]=c,1)},reconfigure(a,u){let c=bf(a,r),h=u.config.facets[e.id],f=u.facet(e);if(h&&!c&&$d(t,h))return a.values[s]=f,0;let d=l(a);return e.compare(d,f)?(a.values[s]=f,0):(a.values[s]=d,1)}}}const Xp=he.define({static:!0});class ft{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new ft(jd++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Xp).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,Xp.of({field:this,create:e})]}get extension(){return this}}const ni={lowest:4,low:3,default:2,high:1,highest:0};function Yo(n){return e=>new Ox(e,n)}const Li={highest:Yo(ni.highest),high:Yo(ni.high),default:Yo(ni.default),low:Yo(ni.low),lowest:Yo(ni.lowest)};class Ox{constructor(e,t){this.inner=e,this.prec=t}}class Gu{of(e){return new Af(this,e)}reconfigure(e){return Gu.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Af{constructor(e,t){this.compartment=e,this.inner=t}}class xu{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let f of b2(e,t,s))f instanceof ft?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let l=Object.create(null),a=[],u=[];for(let f of i)l[f.id]=u.length<<1,u.push(d=>f.slot(d));let c=r==null?void 0:r.config.facets;for(let f in o){let d=o[f],p=d[0].facet,v=c&&c[f]||[];if(d.every(m=>m.type==0))if(l[p.id]=a.length<<1|1,$d(v,d))a.push(r.facet(p));else{let m=p.combine(d.map(y=>y.value));a.push(r&&p.compare(m,r.facet(p))?r.facet(p):m)}else{for(let m of d)m.type==0?(l[m.id]=a.length<<1|1,a.push(m.value)):(l[m.id]=u.length<<1,u.push(y=>m.dynamicSlot(y)));l[p.id]=u.length<<1,u.push(m=>S2(m,p,d))}}let h=u.map(f=>f(l));return new xu(e,s,h,l,a,o)}}function b2(n,e,t){let r=[[],[],[],[],[]],i=new Map;function o(s,l){let a=i.get(s);if(a!=null){if(a<=l)return;let u=r[a].indexOf(s);u>-1&&r[a].splice(u,1),s instanceof Af&&t.delete(s.compartment)}if(i.set(s,l),Array.isArray(s))for(let u of s)o(u,l);else if(s instanceof Af){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(s.compartment)||s.inner;t.set(s.compartment,u),o(u,l)}else if(s instanceof Ox)o(s.inner,s.prec);else if(s instanceof ft)r[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof Za)r[l].push(s),s.facet.extensions&&o(s.facet.extensions,ni.default);else{let u=s.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,l)}}return o(n,ni.default),r.reduce((s,l)=>s.concat(l))}function ul(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function yu(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Nx=he.define(),_f=he.define({combine:n=>n.some(e=>e),static:!0}),Dx=he.define({combine:n=>n.length?n[0]:void 0,static:!0}),Px=he.define(),Rx=he.define(),Lx=he.define(),kx=he.define({combine:n=>n.length?n[0]:!1});class fn{constructor(e,t){this.type=e,this.value=t}static define(){return new A2}}class A2{of(e){return new fn(this,e)}}class _2{constructor(e){this.map=e}of(e){return new Oe(this,e)}}class Oe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Oe(this.type,t)}is(e){return this.type==e}static define(e={}){return new _2(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}Oe.reconfigure=Oe.define();Oe.appendConfig=Oe.define();class ct{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&wx(r,t.newLength),o.some(l=>l.type==ct.time)||(this.annotations=o.concat(ct.time.of(Date.now())))}static create(e,t,r,i,o,s){return new ct(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ct.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ct.time=fn.define();ct.userEvent=fn.define();ct.addToHistory=fn.define();ct.remote=fn.define();function T2(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else if(i<e.length)o=e[i++],s=e[i++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function Ix(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=at.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Oe.mapEffects(n.effects,i).concat(Oe.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Tf(n,e,t){let r=e.selection,i=so(e.annotations);return e.userEvent&&(i=i.concat(ct.userEvent.of(e.userEvent))),{changes:e.changes instanceof at?e.changes:at.of(e.changes||[],t,n.facet(Dx)),selection:r&&(r instanceof re?r:re.single(r.anchor,r.head)),effects:so(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Fx(n,e,t){let r=Tf(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=Ix(r,Tf(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=ct.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return C2(t?E2(i):i)}function E2(n){let e=n.startState,t=!0;for(let i of e.facet(Px)){let o=i(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:T2(t,o))}if(t!==!0){let i,o;if(t===!1)o=n.changes.invertedDesc,i=at.empty(e.doc.length);else{let s=n.changes.filter(t);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=ct.create(e,i,n.selection&&n.selection.map(o),Oe.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let r=e.facet(Rx);for(let i=r.length-1;i>=0;i--){let o=r[i](n);o instanceof ct?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof ct?n=o[0]:n=Fx(e,so(o),!1)}return n}function C2(n){let e=n.startState,t=e.facet(Lx),r=n;for(let i=t.length-1;i>=0;i--){let o=t[i](n);o&&Object.keys(o).length&&(r=Ix(r,Tf(e,o,n.changes.newLength),!0))}return r==n?n:ct.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const w2=[];function so(n){return n==null?w2:Array.isArray(n)?n:[n]}var Xe=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Xe||(Xe={}));const O2=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ef;try{Ef=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function N2(n){if(Ef)return Ef.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||O2.test(t)))return!0}return!1}function D2(n){return e=>{if(!/\S/.test(e))return Xe.Space;if(N2(e))return Xe.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Xe.Word;return Xe.Other}}class Me{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)ul(this,l<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return ul(this,r),yu(this,r)}update(...e){return Fx(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let l of e.effects)l.is(Gu.reconfigure)?(t&&(i=new Map,t.compartments.forEach((a,u)=>i.set(u,a)),t=null),i.set(l.value.compartment,l.value.extension)):l.is(Oe.reconfigure)?(t=null,r=l.value):l.is(Oe.appendConfig)&&(t=null,r=so(r).concat(l.value));let o;t?o=e.startState.values.slice():(t=xu.resolve(r,i,this),o=new Me(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,u)=>u.reconfigure(a,this),null).values);let s=e.startState.facet(_f)?e.newSelection:e.newSelection.asSingle();new Me(t,e.newDoc,s,o,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:re.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=so(r.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),u=this.changes(a.changes),c=u.map(i);for(let f=0;f<l;f++)o[f]=o[f].map(c);let h=i.mapDesc(u,!0);o.push(a.range.map(h)),i=i.compose(c),s=Oe.mapEffects(s,c).concat(Oe.mapEffects(so(a.effects),h))}return{changes:i,selection:re.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof at?e:at.of(e,this.doc.length,this.facet(Me.lineSeparator))}toText(e){return je.of(e.split(this.facet(Me.lineSeparator)||yf))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(ul(this,t),yu(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof ft&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],l=e[o];i.push(s.init(a=>s.spec.fromJSON(l,a)))}}return Me.create({doc:e.doc,selection:re.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=xu.resolve(e.extensions||[],new Map),r=e.doc instanceof je?e.doc:je.of((e.doc||"").split(t.staticFacet(Me.lineSeparator)||yf)),i=e.selection?e.selection instanceof re?e.selection:re.single(e.selection.anchor,e.selection.head):re.single(0);return wx(i,r.length),t.staticFacet(_f)||(i=i.asSingle()),new Me(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Me.tabSize)}get lineBreak(){return this.facet(Me.lineSeparator)||`
`}get readOnly(){return this.facet(kx)}phrase(e,...t){for(let r of this.facet(Me.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(Nx))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return D2(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,l=e-r;for(;s>0;){let a=At(t,s,!1);if(o(t.slice(a,s))!=Xe.Word)break;s=a}for(;l<i;){let a=At(t,l);if(o(t.slice(l,a))!=Xe.Word)break;l=a}return s==l?null:re.range(s+r,l+r)}}Me.allowMultipleSelections=_f;Me.tabSize=he.define({combine:n=>n.length?n[0]:4});Me.lineSeparator=Dx;Me.readOnly=kx;Me.phrases=he.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Me.languageData=Nx;Me.changeFilter=Px;Me.transactionFilter=Rx;Me.transactionExtender=Lx;Gu.reconfigure=Oe.define();function vr(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],l=r[o];if(l===void 0)r[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(t,o))r[o]=t[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class fi{eq(e){return this==e}range(e,t=e){return Cf.create(e,t,this)}}fi.prototype.startSide=fi.prototype.endSide=0;fi.prototype.point=!1;fi.prototype.mapMode=It.TrackDel;let Cf=class Mx{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Mx(e,t,r)}};function wf(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}let P2=class Bx{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,l=o.length;;){if(s==l)return s;let a=s+l>>1,u=o[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-t;if(a==s)return u>=0?s:l;u>=0?l=a:s=a+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let u=this.value[a],c=this.from[a]+e,h=this.to[a]+e,f,d;if(c==h){let p=t.mapPos(c,u.startSide,u.mapMode);if(p==null||(f=d=p,u.startSide!=u.endSide&&(d=t.mapPos(c,u.endSide),d<f)))continue}else if(f=t.mapPos(c,u.startSide),d=t.mapPos(h,u.endSide),f>d||f==d&&u.startSide>0&&u.endSide<=0)continue;(d-f||u.endSide-u.startSide)<0||(s<0&&(s=f),u.point&&(l=Math.max(l,d-f)),r.push(u),i.push(f-s),o.push(d-s))}return{mapped:r.length?new Bx(i,o,r,l):null,pos:s}}};class Re{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Re(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(wf)),this.isEmpty)return t.length?Re.of(t):this;let l=new jx(this,null,-1).goto(0),a=0,u=[],c=new Mn;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let h=t[a++];c.addInner(h.from,h.to,h.value)||u.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!s||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&c.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||i>l.to||o<l.from||s(l.from,l.to,l.value))&&(c.addInner(l.from,l.to,l.value)||u.push(Cf.create(l.from,l.to,l.value))),l.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Re.empty:this.nextLayer.update({add:u,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],u=e.touchesRange(l,l+a.length);if(u===!1)i=Math.max(i,a.maxPoint),t.push(a),r.push(e.mapPos(l));else if(u===!0){let{mapped:c,pos:h}=a.map(l,e);c&&(i=Math.max(i,c.maxPoint),t.push(c),r.push(h))}}let o=this.nextLayer.map(e);return t.length==0?o:new Re(r,t,o||Re.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return pl.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return pl.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=Yp(s,l,r),u=new Jo(s,a,o),c=new Jo(l,a,o);r.iterGaps((h,f,d)=>Jp(u,h,c,f,d,i)),r.empty&&r.length==0&&Jp(u,0,c,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),s=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=Yp(o,s),a=new Jo(o,l,0).goto(r),u=new Jo(s,l,0).goto(r);for(;;){if(a.to!=u.to||!Of(a.active,u.active)||a.point&&(!u.point||!a.point.eq(u.point)))return!1;if(a.to>i)return!0;a.next(),u.next()}}static spans(e,t,r,i,o=-1){let s=new Jo(e,null,o).goto(t),l=t,a=s.openStart;for(;;){let u=Math.min(s.to,r);if(s.point){let c=s.activeForPoint(s.to),h=s.pointFrom<t?c.length+1:s.point.startSide<0?c.length:Math.min(c.length,a);i.point(l,u,s.point,c,h,s.pointRank),a=Math.min(s.openEnd(u),c.length)}else u>l&&(i.span(l,u,s.active,a),a=s.openEnd(u));if(s.to>r)return a+(s.point&&s.to>r?1:0);l=s.to,s.next()}}static of(e,t=!1){let r=new Mn;for(let i of e instanceof Cf?[e]:t?R2(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Re.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Re.empty;i=i.nextLayer)t=new Re(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Re.empty=new Re([],[],null,-1);function R2(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(wf(e,r)>0)return n.slice().sort(wf);e=r}return n}Re.empty.nextLayer=Re.empty;class Mn{finishChunk(e){this.chunks.push(new P2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Mn)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Re.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Re.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Yp(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=r.get(o.chunk[s]);l!=null&&(t?t.mapPos(l):l)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(l,l+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class jx{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class pl{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new jx(s,t,r,o));return i.length==1?i[0]:new pl(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)sh(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)sh(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),sh(this.heap,0)}}}function sh(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Jo{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=pl.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ba(this.active,e),ba(this.activeTo,e),ba(this.activeRank,e),this.minActive=Qp(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Aa(this.active,t,r),Aa(this.activeTo,t,i),Aa(this.activeRank,t,o),e&&Aa(e,t,this.cursor.from),this.minActive=Qp(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&ba(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Jp(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,l=r,a=r-e;for(;;){let u=n.to+a-t.to||n.endSide-t.endSide,c=u<0?n.to+a:t.to,h=Math.min(c,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Of(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(l,h,n.point,t.point):h>l&&!Of(n.active,t.active)&&o.compareRange(l,h,n.active,t.active),c>s)break;l=c,u<=0&&n.next(),u>=0&&t.next()}}function Of(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function ba(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Aa(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Qp(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Po(n,e,t=n.length){let r=0;for(let i=0;i<t;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=At(n,i));return r}function Nf(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=At(n,i)}return r===!0?-1:n.length}const Df="ͼ",Zp=typeof Symbol>"u"?"__"+Df:Symbol.for(Df),Pf=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Bn{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,u){let c=[],h=/^@(\w+)\b/.exec(s[0]),f=h&&h[1]=="keyframes";if(h&&l==null)return a.push(s[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(v=>s.map(m=>v.replace(/&/,m))).reduce((v,m)=>v.concat(m)),p,a);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),p,c,f)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+p+";")}(c.length||f)&&a.push((r&&!h&&!u?s.map(r):s).join(", ")+" {"+c.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=e0[Zp]||1;return e0[Zp]=e+1,Df+e.toString(36)}static mount(e,t,r){let i=e[Pf],o=r&&r.nonce;i?o&&i.setNonce(o):i=new L2(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let t0=new Map;class L2{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=t0.get(r);if(o)return e[Pf]=o;this.sheet=new i.CSSStyleSheet,t0.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Pf]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let l=e[s],a=this.modules.indexOf(l);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),a==-1){if(this.modules.splice(o++,0,l),r)for(let u=0;u<l.rules.length;u++)r.insertRule(l.rules[u],i++)}else{for(;o<a;)i+=this.modules[o++].rules.length;i+=l.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var jn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ml={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k2=typeof navigator<"u"&&/Mac/.test(navigator.platform),I2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vt=0;vt<10;vt++)jn[48+vt]=jn[96+vt]=String(vt);for(var vt=1;vt<=24;vt++)jn[vt+111]="F"+vt;for(var vt=65;vt<=90;vt++)jn[vt]=String.fromCharCode(vt+32),ml[vt]=String.fromCharCode(vt);for(var lh in jn)ml.hasOwnProperty(lh)||(ml[lh]=jn[lh]);function F2(n){var e=k2&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||I2&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ml:jn)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function gl(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Rf(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function eu(n,e){if(!e.anchorNode)return!1;try{return Rf(n,e.anchorNode)}catch{return!1}}function xl(n){return n.nodeType==3?pi(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function cl(n,e,t,r){return t?r0(n,e,t,r,-1)||r0(n,e,t,r,1):!1}function di(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function vu(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function r0(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Hr(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=di(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Hr(n):0}else return!1}}function Hr(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Xu(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function M2(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function $x(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function B2(n,e,t,r,i,o,s,l){let a=n.ownerDocument,u=a.defaultView||window;for(let c=n,h=!1;c&&!h;)if(c.nodeType==1){let f,d=c==a.body,p=1,v=1;if(d)f=M2(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(h=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let g=c.getBoundingClientRect();({scaleX:p,scaleY:v}=$x(c,g)),f={left:g.left,right:g.left+c.clientWidth*p,top:g.top,bottom:g.top+c.clientHeight*v}}let m=0,y=0;if(i=="nearest")e.top<f.top?(y=-(f.top-e.top+s),t>0&&e.bottom>f.bottom+y&&(y=e.bottom-f.bottom+y+s)):e.bottom>f.bottom&&(y=e.bottom-f.bottom+s,t<0&&e.top-y<f.top&&(y=-(f.top+y-e.top+s)));else{let g=e.bottom-e.top,x=f.bottom-f.top;y=(i=="center"&&g<=x?e.top+g/2-x/2:i=="start"||i=="center"&&t<0?e.top-s:e.bottom-x+s)-f.top}if(r=="nearest"?e.left<f.left?(m=-(f.left-e.left+o),t>0&&e.right>f.right+m&&(m=e.right-f.right+m+o)):e.right>f.right&&(m=e.right-f.right+o,t<0&&e.left<f.left+m&&(m=-(f.left+m-e.left+o))):m=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==l?e.left-o:e.right-(f.right-f.left)+o)-f.left,m||y)if(d)u.scrollBy(m,y);else{let g=0,x=0;if(y){let S=c.scrollTop;c.scrollTop+=y/v,x=(c.scrollTop-S)*v}if(m){let S=c.scrollLeft;c.scrollLeft+=m/p,g=(c.scrollLeft-S)*p}e={left:e.left-g,top:e.top-x,right:e.right-g,bottom:e.bottom-x},g&&Math.abs(g-m)<1&&(r="nearest"),x&&Math.abs(x-y)<1&&(i="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function j2(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class $2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Hr(t):0),r,Math.min(e.focusOffset,r?Hr(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Ki=null;function Hx(n){if(n.setActive)return n.setActive();if(Ki)return n.focus(Ki);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ki==null?{get preventScroll(){return Ki={preventScroll:!0},!0}}:void 0),!Ki){Ki=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let n0;function pi(n,e,t=e){let r=n0||(n0=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function lo(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function H2(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function zx(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function z2(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Hr(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Hr(t))}else{if(t==n)return!0;r=di(t),t=t.parentNode}}function qx(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function Ux(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Hr(t)}else if(t.parentNode&&!vu(t))r=di(t),t=t.parentNode;else return null}}function Vx(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!vu(t))r=di(t)+1,t=t.parentNode;else return null}}class Nt{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Nt(e.parentNode,di(e),t)}static after(e,t){return new Nt(e.parentNode,di(e)+1,t)}}const Hd=[];class Ue{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let l=Ue.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&o!=s.dom&&(t.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=i0(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&t&&t.node==r&&(t.written=!0);o;)o=i0(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Hr(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ue.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,l=-1;for(let a=0,u=r,c=r;a<this.children.length;a++){let h=this.children[a],f=u+h.length;if(u<e&&f>t)return h.domBoundsAround(e,t,u);if(f>=e&&i==-1&&(i=a,o=u),u>t&&h.dom.parentNode==this.dom){s=a,l=c;break}c=f,u=f+h.breakAfter}return{from:o,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=Hd){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Wx(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ue.prototype.breakAfter=0;function i0(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Wx{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Kx(n,e,t,r,i,o,s,l,a){let{children:u}=n,c=u.length?u[e]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:s;if(!(e==r&&c&&!s&&!f&&o.length<2&&c.merge(t,i,o.length?h:null,t==0,l,a))){if(r<u.length){let d=u[r];d&&(i<d.length||d.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,a)?o[o.length-1]=d:((i||d.children.length&&!d.children[0].length)&&d.merge(0,i,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:s=1),r++}for(c&&(c.breakAfter=s,t>0&&(!s&&o.length&&c.merge(t,c.length,o[0],!1,l,0)?c.breakAfter=o.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,l,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),a=o.length?0:l;else if(u[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function Gx(n,e,t,r,i,o){let s=n.childCursor(),{i:l,off:a}=s.findPos(t,1),{i:u,off:c}=s.findPos(e,-1),h=e-t;for(let f of r)h+=f.length;n.length+=h,Kx(n,u,c,l,a,r,0,i,o)}let qt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Lf=typeof document<"u"?document:{documentElement:{style:{}}};const kf=/Edge\/(\d+)/.exec(qt.userAgent),Xx=/MSIE \d/.test(qt.userAgent),If=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qt.userAgent),Yu=!!(Xx||If||kf),o0=!Yu&&/gecko\/(\d+)/i.test(qt.userAgent),ah=!Yu&&/Chrome\/(\d+)/.exec(qt.userAgent),s0="webkitFontSmoothing"in Lf.documentElement.style,Yx=!Yu&&/Apple Computer/.test(qt.vendor),l0=Yx&&(/Mobile\/\w+/.test(qt.userAgent)||qt.maxTouchPoints>2);var pe={mac:l0||/Mac/.test(qt.platform),windows:/Win/.test(qt.platform),linux:/Linux|X11/.test(qt.platform),ie:Yu,ie_version:Xx?Lf.documentMode||6:If?+If[1]:kf?+kf[1]:0,gecko:o0,gecko_version:o0?+(/Firefox\/(\d+)/.exec(qt.userAgent)||[0,0])[1]:0,chrome:!!ah,chrome_version:ah?+ah[1]:0,ios:l0,android:/Android\b/.test(qt.userAgent),webkit:s0,safari:Yx,webkit_version:s0?+(/\bAppleWebKit\/(\d+)/.exec(qt.userAgent)||[0,0])[1]:0,tabSize:Lf.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const q2=256;class gr extends Ue{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof gr)||this.length-(t-e)+r.length>q2||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new gr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Nt(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return U2(this.dom,e,t)}}class ln extends Ue{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(zx(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return r&&(!(r instanceof ln&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(Gx(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let l of this.children){let a=r+l.length;a>e&&t.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=o),r=a,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ln(this.mark,t,s)}domAtPos(e){return Jx(this,e)}coordsAt(e,t){return Zx(this,e,t)}}function U2(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&t<0||e==r&&t>=0?pe.chrome||pe.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):t<0?i--:o<r&&o++;let l=pi(n,i,o).getClientRects();if(!l.length)return null;let a=l[(s?s<0:t>=0)?0:l.length-1];return pe.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,u=>u.width)||a),s?Xu(a,s<0):a||null}class Pn extends Ue{static create(e,t,r){return new Pn(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Pn.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,s){return r&&(!(r instanceof Pn)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Pn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return je.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):je.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Nt.before(this.dom):Nt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let l=s?i.length-1:0;o=i[l],!(e>0?l==0:l==i.length-1||o.top<o.bottom);l+=s?-1:1);return Xu(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class mo extends Ue{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof mo&&e.side==this.side}split(){return new mo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Nt.before(this.dom):Nt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return je.empty}get isHidden(){return!0}}gr.prototype.children=Pn.prototype.children=mo.prototype.children=Hd;function Jx(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new Nt(t,0)}function Qx(n,e,t){let r,{children:i}=n;t>0&&e instanceof ln&&i.length&&(r=i[i.length-1])instanceof ln&&r.mark.eq(e.mark)?Qx(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function Zx(n,e,t){let r=null,i=-1,o=null,s=-1;function l(u,c){for(let h=0,f=0;h<u.children.length&&f<=c;h++){let d=u.children[h],p=f+d.length;p>=c&&(d.children.length?l(d,c-f):(!o||o.isHidden&&t>0)&&(p>c||f==p&&d.getSide()>0)?(o=d,s=c-f):(f<c||f==p&&d.getSide()<0&&!d.isHidden)&&(r=d,i=c-f)),f=p}}l(n,e);let a=(t<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),t):V2(n)}function V2(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=xl(e);return t[t.length-1]||null}function Ff(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const a0=Object.create(null);function Su(n,e,t){if(n==e)return!0;n||(n=a0),e||(e=a0);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function Mf(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function W2(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Un{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Mt=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Mt||(Mt={}));class Ae extends fi{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Il(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new $n(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=ey(e,t);r=(o?t?-3e8:-1:5e8)-1,i=(s?t?2e8:1:-6e8)+1}return new $n(e,r,i,t,e.widget||null,!0)}static line(e){return new Fl(e)}static set(e,t=!1){return Re.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ae.none=Re.empty;class Il extends Ae{constructor(e){let{start:t,end:r}=ey(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof Il&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Su(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Il.prototype.point=!1;class Fl extends Ae{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Fl&&this.spec.class==e.spec.class&&Su(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Fl.prototype.mapMode=It.TrackBefore;Fl.prototype.point=!0;class $n extends Ae{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?It.TrackBefore:It.TrackAfter:It.TrackDel}get type(){return this.startSide!=this.endSide?Mt.WidgetRange:this.startSide<=0?Mt.WidgetBefore:Mt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof $n&&K2(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}$n.prototype.point=!0;function ey(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function K2(n,e){return n==e||!!(n&&e&&n.compare(e))}function Bf(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class ot extends Ue{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof ot))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),Gx(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new ot;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Su(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Qx(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=Ff(t,this.attrs||{})),r&&(this.attrs=Ff({class:r},this.attrs||{}))}domAtPos(e){return Jx(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(zx(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Mf(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Ue.get(i)instanceof ln;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Ue.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!pe.ios||!this.children.some(o=>o instanceof gr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof gr)||/[^ -~]/.test(r.text))return null;let i=xl(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=Zx(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof ot&&this.children.length==0&&e.children.length==0&&Su(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof ot)return o;if(s>t)break}i=s+o.breakAfter}return null}}class nn extends Ue{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return r&&(!(r instanceof nn)||!this.widget.compare(r.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Nt.before(this.dom):Nt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new nn(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Hd}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):je.empty}domBoundsAround(){return null}become(e){return e instanceof nn&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof jf?null:Xu(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class jf extends Un{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class hl{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof nn&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ot),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(_a(new mo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof nn)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(_a(new gr(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof $n){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(r instanceof $n)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new nn(r.widget||go.block,l,r));else{let a=Pn.create(r.widget||go.inline,l,l?0:r.startSide),u=this.atCursorPos&&!a.isEditable&&o<=i.length&&(e<t||r.startSide>0),c=!a.isEditable&&(e<t||o>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!u&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(h.append(_a(new mo(1),i),o),o=i.length+Math.max(0,o-i.length)),h.append(_a(a,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new hl(e,t,r,o);return s.openEnd=Re.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function _a(n,e){for(let t of e)n=new ln(t,[n],n.length);return n}class go extends Un{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}go.inline=new go("span");go.block=new go("div");var Ge=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Ge||(Ge={}));const mi=Ge.LTR,zd=Ge.RTL;function ty(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const G2=ty("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),X2=ty("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),$f=Object.create(null),Or=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);$f[e]=t,$f[t]=-e}function ry(n){return n<=247?G2[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?X2[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Y2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Rn{get dir(){return this.level%2?zd:mi}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=t&&l.to>=t){if(l.level==r)return s;(o<0||(i!=0?i<0?l.from<t:l.to>t:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function ny(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!ny(r.inner,i.inner))return!1}return!0}const qe=[];function J2(n,e,t,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,l=o<r.length?r[o].from:t,a=o?256:i;for(let u=s,c=a,h=a;u<l;u++){let f=ry(n.charCodeAt(u));f==512?f=c:f==8&&h==4&&(f=16),qe[u]=f==4?2:f,f&7&&(h=f),c=f}for(let u=s,c=a,h=a;u<l;u++){let f=qe[u];if(f==128)u<l-1&&c==qe[u+1]&&c&24?f=qe[u]=c:qe[u]=256;else if(f==64){let d=u+1;for(;d<l&&qe[d]==64;)d++;let p=u&&c==8||d<t&&qe[d]==8?h==1?1:8:256;for(let v=u;v<d;v++)qe[v]=p;u=d-1}else f==8&&h==1&&(qe[u]=1);c=f,f&7&&(h=f)}}}function Q2(n,e,t,r,i){let o=i==1?2:1;for(let s=0,l=0,a=0;s<=r.length;s++){let u=s?r[s-1].to:e,c=s<r.length?r[s].from:t;for(let h=u,f,d,p;h<c;h++)if(d=$f[f=n.charCodeAt(h)])if(d<0){for(let v=l-3;v>=0;v-=3)if(Or[v+1]==-d){let m=Or[v+2],y=m&2?i:m&4?m&1?o:i:0;y&&(qe[h]=qe[Or[v]]=y),l=v;break}}else{if(Or.length==189)break;Or[l++]=h,Or[l++]=f,Or[l++]=a}else if((p=qe[h])==2||p==1){let v=p==i;a=v?0:1;for(let m=l-3;m>=0;m-=3){let y=Or[m+2];if(y&2)break;if(v)Or[m+2]|=2;else{if(y&4)break;Or[m+2]|=4}}}}}function Z2(n,e,t,r){for(let i=0,o=r;i<=t.length;i++){let s=i?t[i-1].to:n,l=i<t.length?t[i].from:e;for(let a=s;a<l;){let u=qe[a];if(u==256){let c=a+1;for(;;)if(c==l){if(i==t.length)break;c=t[i++].to,l=i<t.length?t[i].from:e}else if(qe[c]==256)c++;else break;let h=o==1,f=(c<e?qe[c]:r)==1,d=h==f?h?1:2:r;for(let p=c,v=i,m=v?t[v-1].to:n;p>a;)p==m&&(p=t[--v].from,m=v?t[v-1].to:n),qe[--p]=d;a=c}else o=u,a++}}}function Hf(n,e,t,r,i,o,s){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<t;){let c=!0,h=!1;if(u==o.length||a<o[u].from){let v=qe[a];v!=l&&(c=!1,h=v==16)}let f=!c&&l==1?[]:null,d=c?r:r+1,p=a;e:for(;;)if(u<o.length&&p==o[u].from){if(h)break e;let v=o[u];if(!c)for(let m=v.to,y=u+1;;){if(m==t)break e;if(y<o.length&&o[y].from==m)m=o[y++].to;else{if(qe[m]==l)break e;break}}if(u++,f)f.push(v);else{v.from>a&&s.push(new Rn(a,v.from,d));let m=v.direction==mi!=!(d%2);zf(n,m?r+1:r,i,v.inner,v.from,v.to,s),a=v.to}p=v.to}else{if(p==t||(c?qe[p]!=l:qe[p]==l))break;p++}f?Hf(n,a,p,r+1,i,f,s):a<p&&s.push(new Rn(a,p,d)),a=p}else for(let a=t,u=o.length;a>e;){let c=!0,h=!1;if(!u||a>o[u-1].to){let v=qe[a-1];v!=l&&(c=!1,h=v==16)}let f=!c&&l==1?[]:null,d=c?r:r+1,p=a;e:for(;;)if(u&&p==o[u-1].to){if(h)break e;let v=o[--u];if(!c)for(let m=v.from,y=u;;){if(m==e)break e;if(y&&o[y-1].to==m)m=o[--y].from;else{if(qe[m-1]==l)break e;break}}if(f)f.push(v);else{v.to<a&&s.push(new Rn(v.to,a,d));let m=v.direction==mi!=!(d%2);zf(n,m?r+1:r,i,v.inner,v.from,v.to,s),a=v.from}p=v.from}else{if(p==e||(c?qe[p-1]!=l:qe[p-1]==l))break;p--}f?Hf(n,p,a,r+1,i,f,s):p<a&&s.push(new Rn(p,a,d)),a=p}}function zf(n,e,t,r,i,o,s){let l=e%2?2:1;J2(n,i,o,r,l),Q2(n,i,o,r,l),Z2(i,o,r,l),Hf(n,i,o,e,t,r,s)}function eb(n,e,t){if(!n)return[new Rn(0,0,e==zd?1:0)];if(e==mi&&!t.length&&!Y2.test(n))return iy(n.length);if(t.length)for(;n.length>qe.length;)qe[qe.length]=256;let r=[],i=e==mi?0:1;return zf(n,i,i,t,0,n.length,r),r}function iy(n){return[new Rn(0,n,0)]}let oy="";function tb(n,e,t,r,i){var o;let s=r.head-n.from,l=Rn.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),a=e[l],u=a.side(i,t);if(s==u){let f=l+=i?1:-1;if(f<0||f>=e.length)return null;a=e[l=f],s=a.side(!i,t),u=a.side(i,t)}let c=At(n.text,s,a.forward(i,t));(c<a.from||c>a.to)&&(c=u),oy=n.text.slice(Math.min(s,c),Math.max(s,c));let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return h&&c==u&&h.level+(i?0:1)<a.level?re.cursor(h.side(!i,t)+n.from,h.forward(i,t)?1:-1,h.level):re.cursor(c+n.from,a.forward(i,t)?-1:1,a.level)}function rb(n,e,t){for(let r=e;r<t;r++){let i=ry(n.charCodeAt(r));if(i==1)return mi;if(i==2||i==4)return zd}return mi}const sy=he.define(),ly=he.define(),ay=he.define(),uy=he.define(),qf=he.define(),cy=he.define(),hy=he.define(),qd=he.define(),Ud=he.define(),fy=he.define({combine:n=>n.some(e=>e)}),dy=he.define({combine:n=>n.some(e=>e)}),py=he.define();class ao{constructor(e,t="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new ao(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ao(re.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ta=Oe.define({map:(n,e)=>n.map(e)}),my=Oe.define();function Ft(n,e,t){let r=n.facet(uy);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const wn=he.define({combine:n=>n.length?n[0]:!0});let nb=0;const Qs=he.define();class nt{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new nt(nb++,e,r,i,l=>{let a=[Qs.of(l)];return s&&a.push(yl.of(u=>{let c=u.plugin(l);return c?s(c):Ae.none})),o&&a.push(o(l)),a})}static fromClass(e,t){return nt.define(r=>new e(r),t)}}class uh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Ft(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ft(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Ft(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const gy=he.define(),Vd=he.define(),yl=he.define(),xy=he.define(),Wd=he.define(),yy=he.define();function u0(n,e){let t=n.state.facet(yy);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return Re.spans(r,e.from,e.to,{point(){},span(o,s,l,a){let u=o-e.from,c=s-e.from,h=i;for(let f=l.length-1;f>=0;f--,a--){let d=l[f].spec.bidiIsolate,p;if(d==null&&(d=rb(e.text,u,c)),a>0&&h.length&&(p=h[h.length-1]).to==u&&p.direction==d)p.to=c,h=p.inner;else{let v={from:u,to:c,direction:d,inner:[]};h.push(v),h=v.inner}}}}),i}const vy=he.define();function Sy(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(vy)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Zs=he.define();class cr{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new cr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,l=0;;i++){let a=i==e.length?null:e[i],u=s-l,c=a?a.fromB:1e9;for(;o<t.length&&t[o]<c;){let h=t[o],f=t[o+1],d=Math.max(l,h),p=Math.min(c,f);if(d<=p&&new cr(d+u,p+u,d,p).addToSet(r),f>c)break;o+=2}if(!a)return r;new cr(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),s=a.toA,l=a.toB}}}class bu{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=at.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,l,a)=>i.push(new cr(o,s,l,a))),this.changedRanges=i}static create(e,t,r){return new bu(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class c0 extends Ue{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ae.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ot],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new cr(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!cb(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?ob(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new cr(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(pe.ie||pe.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,l=this.updateDeco(),a=ab(s,l,e.changes);return r=cr.extendWithRanges(r,a),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=pe.chrome||pe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof nn&&s.widget instanceof jf&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let l=s>=0?i[s]:null;if(!l)break;let{fromA:a,toA:u,fromB:c,toB:h}=l,f,d,p,v;if(r&&r.range.fromB<h&&r.range.toB>c){let S=hl.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),_=hl.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);d=S.breakAtStart,p=S.openStart,v=_.openEnd;let b=this.compositionView(r);_.breakAtStart?b.breakAfter=1:_.content.length&&b.merge(b.length,b.length,_.content[0],!1,_.openStart,0)&&(b.breakAfter=_.content[0].breakAfter,_.content.shift()),S.content.length&&b.merge(0,0,S.content[S.content.length-1],!0,0,S.openEnd)&&S.content.pop(),f=S.content.concat(b).concat(_.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:v}=hl.build(this.view.state.doc,c,h,this.decorations,this.dynamicDecorationMap));let{i:m,off:y}=o.findPos(u,1),{i:g,off:x}=o.findPos(a,-1);Kx(this,g,x,m,y,f,d,p,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(my)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new gr(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new ln(i,[t],t.length);let r=new ot;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(s);let l=Ue.get(o);l&&l!=s&&(l.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&eu(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),u=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(pe.gecko&&l.empty&&!this.hasComposition&&ib(a)){let h=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(h,a.node.childNodes[a.offset]||null)),a=u=new Nt(h,0),s=!0}let c=this.view.observer.selectionRange;(s||!c.focusNode||(!cl(a.node,a.offset,c.anchorNode,c.anchorOffset)||!cl(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,l))&&(this.view.observer.ignore(()=>{pe.android&&pe.chrome&&this.dom.contains(c.focusNode)&&ub(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=gl(this.view.root);if(h)if(l.empty){if(pe.gecko){let f=sb(a.node,a.offset);if(f&&f!=3){let d=(f==1?Ux:Vx)(a.node,a.offset);d&&(a=new Nt(d.node,d.offset))}}h.collapse(a.node,a.offset),l.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=l.bidiLevel)}else if(h.extend){h.collapse(a.node,a.offset);try{h.extend(u.node,u.offset)}catch{}}else{let f=document.createRange();l.anchor>l.head&&([a,u]=[u,a]),f.setEnd(u.node,u.offset),f.setStart(a.node,a.offset),h.removeAllRanges(),h.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(a,u)),this.impreciseAnchor=a.precise?null:new Nt(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Nt(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&cl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=gl(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=ot.find(this,t.head);if(!s)return;let l=s.posAtStart;if(t.head==l||t.head==l+s.length)return;let a=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!a||!u||a.bottom>u.top)return;let c=this.domAtPos(t.head+t.assoc);r.collapse(c.node,c.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let o=Ue.get(t.childNodes[i]);o instanceof ot&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Ue.get(t.childNodes[i]);o instanceof ot&&(r=o.domAtPos(o.length))}return r?new Nt(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Ue.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof ot)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let l=this.children[s],a=o-l.breakAfter,u=a-l.length;if(a<e)break;if(u<=e&&(u<e||l.covers(-1))&&(a>e||l.covers(1))&&(!r||l instanceof ot&&!(r instanceof ot&&t>=0)))r=l,i=u;else if(r&&u==e&&a==e&&l instanceof nn&&Math.abs(t)<2){if(l.deco.startSide<0)break;s&&(r=null)}o=u}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof ot))return null;for(;i.children.length;){let{i:l,off:a}=i.childPos(r,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}r=a}if(!(i instanceof gr))return null;let o=At(i.text,r);if(o==r)return null;let s=pi(i.dom,r,o).getClientRects();for(let l=0;l<s.length;l++){let a=s[l];if(l==s.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Ge.LTR;for(let u=0,c=0;c<this.children.length;c++){let h=this.children[c],f=u+h.length;if(f>i)break;if(u>=r){let d=h.dom.getBoundingClientRect();if(t.push(d.height),s){let p=h.dom.lastChild,v=p?xl(p):[];if(v.length){let m=v[v.length-1],y=a?m.right-d.left:d.right-m.left;y>l&&(l=y,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=f)}}}u=f+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ge.RTL:Ge.LTR}measureTextSize(){for(let o of this.children)if(o instanceof ot){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=xl(e.firstChild)[0];t=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Wx(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let l=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Ae.replace({widget:new jf(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return Ae.set(e)}updateDeco(){let e=1,t=this.view.state.facet(yl).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(xy).map((o,s)=>{let l=typeof o=="function";return l&&(r=!0),l?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(Re.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(py))try{if(u(this.view,e.range,e))return!0}catch(c){Ft(this.view.state,c,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=Sy(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;B2(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Ge.LTR)}}function ib(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function by(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=Ux(t.focusNode,t.focusOffset),i=Vx(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let l=Ue.get(i.node);if(!l||l instanceof gr&&l.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let a=Ue.get(r.node);!a||a instanceof gr&&a.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function ob(n,e,t){let r=by(n,t);if(!r)return null;let{node:i,from:o,to:s}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new cr(a.mapPos(o),a.mapPos(s),o,s),c=[];for(let h=i.parentNode;;h=h.parentNode){let f=Ue.get(h);if(f instanceof ln)c.push({node:h,deco:f.mark});else{if(f instanceof ot||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:u,text:i,marks:c,line:h};if(h!=n.contentDOM)c.push({node:h,deco:new Il({inclusive:!0,attributes:W2(h),tagName:h.tagName.toLowerCase()})});else return null}}}function sb(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let lb=class{constructor(){this.changes=[]}compareRange(e,t){Bf(e,t,this.changes)}comparePoint(e,t){Bf(e,t,this.changes)}};function ab(n,e,t){let r=new lb;return Re.compare(n,e,t,r),r.changes}function ub(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function cb(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function hb(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),o=e-i.from;if(i.length==0)return re.cursor(e);o==0?t=1:o==i.length&&(t=-1);let s=o,l=o;t<0?s=At(i.text,o,!1):l=At(i.text,o);let a=r(i.text.slice(s,l));for(;s>0;){let u=At(i.text,s,!1);if(r(i.text.slice(u,s))!=a)break;s=u}for(;l<i.length;){let u=At(i.text,l);if(r(i.text.slice(l,u))!=a)break;l=u}return re.range(s+i.from,l+i.from)}function fb(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function db(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function ch(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function h0(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function f0(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function Uf(n,e,t){let r,i,o,s,l=!1,a,u,c,h;for(let p=n.firstChild;p;p=p.nextSibling){let v=xl(p);for(let m=0;m<v.length;m++){let y=v[m];i&&ch(i,y)&&(y=h0(f0(y,i.bottom),i.top));let g=fb(e,y),x=db(t,y);if(g==0&&x==0)return p.nodeType==3?d0(p,e,t):Uf(p,e,t);if(!r||s>x||s==x&&o>g){r=p,i=y,o=g,s=x;let S=x?t<y.top?-1:1:g?e<y.left?-1:1:0;l=!S||(S>0?m<v.length-1:m>0)}g==0?t>y.bottom&&(!c||c.bottom<y.bottom)?(a=p,c=y):t<y.top&&(!h||h.top>y.top)&&(u=p,h=y):c&&ch(c,y)?c=f0(c,y.bottom):h&&ch(h,y)&&(h=h0(h,y.top))}}if(c&&c.bottom>=t?(r=a,i=c):h&&h.top<=t&&(r=u,i=h),!r)return{node:n,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return d0(r,f,t);if(l&&r.contentEditable!="false")return Uf(r,f,t);let d=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:d}}function d0(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let a=pi(n,l,l+1).getClientRects();for(let u=0;u<a.length;u++){let c=a[u];if(c.top==c.bottom)continue;s||(s=e-c.left);let h=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&h<o){let f=e>=(c.left+c.right)/2,d=f;if((pe.chrome||pe.gecko)&&pi(n,l).getBoundingClientRect().left==c.right&&(d=!f),h<=0)return{node:n,offset:l+(d?1:0)};i=l+(d?1:0),o=h}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function Ay(n,e,t,r=-1){var i,o;let s=n.contentDOM.getBoundingClientRect(),l=s.top+n.viewState.paddingTop,a,{docHeight:u}=n.viewState,{x:c,y:h}=e,f=h-l;if(f<0)return 0;if(f>u)return n.state.doc.length;for(let S=n.viewState.heightOracle.textHeight/2,_=!1;a=n.elementAtHeight(f),a.type!=Mt.Text;)for(;f=r>0?a.bottom+S:a.top-S,!(f>=0&&f<=u);){if(_)return t?null:0;_=!0,r=-r}h=l+f;let d=a.from;if(d<n.viewport.from)return n.viewport.from==0?0:t?null:p0(n,s,a,c,h);if(d>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:p0(n,s,a,c,h);let p=n.dom.ownerDocument,v=n.root.elementFromPoint?n.root:p,m=v.elementFromPoint(c,h);m&&!n.contentDOM.contains(m)&&(m=null),m||(c=Math.max(s.left+1,Math.min(s.right-1,c)),m=v.elementFromPoint(c,h),m&&!n.contentDOM.contains(m)&&(m=null));let y,g=-1;if(m&&((i=n.docView.nearest(m))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let S=p.caretPositionFromPoint(c,h);S&&({offsetNode:y,offset:g}=S)}else if(p.caretRangeFromPoint){let S=p.caretRangeFromPoint(c,h);S&&({startContainer:y,startOffset:g}=S,(!n.contentDOM.contains(y)||pe.safari&&pb(y,g,c)||pe.chrome&&mb(y,g,c))&&(y=void 0))}y&&(g=Math.min(Hr(y),g))}if(!y||!n.docView.dom.contains(y)){let S=ot.find(n.docView,d);if(!S)return f>a.top+a.height/2?a.to:a.from;({node:y,offset:g}=Uf(S.dom,c,h))}let x=n.docView.nearest(y);if(!x)return null;if(x.isWidget&&((o=x.dom)===null||o===void 0?void 0:o.nodeType)==1){let S=x.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(y,g)+x.posAtStart}function p0(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,a=Math.floor((i-t.top-(n.defaultLineHeight-l)*.5)/l);o+=a*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+Nf(s,o,n.state.tabSize)}function pb(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return pi(n,r-1,r).getBoundingClientRect().left>t}function mb(n,e,t){if(e!=0)return!1;for(let i=n;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=n.nodeType==1?n.getBoundingClientRect():pi(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function Vf(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Mt.Text))return r}return t}function gb(n,e,t,r){let i=Vf(n,e.head),o=!r||i.type!=Mt.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),l=n.textDirectionAt(i.from),a=n.posAtCoords({x:t==(l==Ge.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(a!=null)return re.cursor(a,t?-1:1)}return re.cursor(t?i.to:i.from,t?-1:1)}function m0(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let l=e,a=null;;){let u=tb(i,o,s,l,t),c=oy;if(!u){if(i.number==(t?n.state.doc.lines:1))return l;c=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),u=n.visualLineSide(i,!t)}if(a){if(!a(c))return l}else{if(!r)return u;a=r(c)}l=u}}function xb(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return o=>{let s=r(o);return i==Xe.Space&&(i=s),i==s}}function yb(n,e,t,r){let i=e.head,o=t?1:-1;if(i==(t?n.state.doc.length:0))return re.cursor(i,e.assoc);let s=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(i,e.assoc||-1),c=n.documentTop;if(u)s==null&&(s=u.left-a.left),l=o<0?u.top:u.bottom;else{let d=n.viewState.lineBlockAt(i);s==null&&(s=Math.min(a.right-a.left,n.defaultCharacterWidth*(i-d.from))),l=(o<0?d.top:d.bottom)+c}let h=a.left+s,f=r??n.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=l+(f+d)*o,v=Ay(n,{x:h,y:p},!1,o);if(p<a.top||p>a.bottom||(o<0?v<i:v>i)){let m=n.docView.coordsForChar(v),y=!m||p<m.top?-1:1;return re.cursor(v,y,void 0,s)}}}function tu(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,l)=>{if(e>o&&e<s){let a=r||t||(e-o<s-e?-1:1);e=a<0?o:s,r=a}});if(!r)return e}}function hh(n,e,t){let r=tu(n.state.facet(Wd).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:re.cursor(r,r<t.from?1:-1)}const el="￿";class vb{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Me.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=el}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let l=Ue.get(i),a=Ue.get(s);(l&&a?l.breakAfter:(l?l.breakAfter:vu(i))||vu(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(l=i.exec(t))&&(o=l.index,s=l[0].length),this.append(t.slice(r,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let t=Ue.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Sb(e,r.node,r.offset)?t:0))}}function Sb(n,e,t){for(;;){if(!e||t<Hr(e))return!1;if(e==n)return!0;t=di(e)+1,e=e.parentNode}}class g0{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class bb{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let l=o||s?[]:Tb(e),a=new vb(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=Eb(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!Rf(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),u=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!Rf(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),c=e.viewport;if((pe.ios||pe.chrome)&&e.state.selection.main.empty&&a!=u&&(c.from>0||c.to<e.state.doc.length)){let h=Math.min(a,u),f=Math.max(a,u),d=c.from-h,p=c.to-f;(d==0||d==1||h==0)&&(p==0||p==-1||f==e.state.doc.length)&&(a=0,u=e.state.doc.length)}this.newSel=re.single(u,a)}}}function _y(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:l}=e.bounds,a=i.from,u=null;(o===8||pe.android&&e.text.length<l-s)&&(a=i.to,u="end");let c=_b(n.state.doc.sliceString(s,l,el),e.text,a-s,u);c&&(pe.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==el+el&&c.toB--,t={from:s+c.from,to:s+c.toA,insert:je.of(e.text.slice(c.from,c.toB).split(el))})}else r&&(!n.hasFocus&&n.state.facet(wn)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(pe.mac||pe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=re.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:je.of([" "])}):pe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=re.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:je.of([" "])}),t)return Kd(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:l}),!0}else return!1}function Kd(n,e,t,r=-1){if(pe.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(pe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&lo(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&lo(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&lo(n.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let s,l=()=>s||(s=Ab(n,e,t));return n.state.facet(cy).some(a=>a(n,e.from,e.to,o,l))||n.dispatch(l()),!0}function Ab(n,e,t){let r,i=n.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let l=o.from<e.from?i.sliceDoc(o.from,e.from):"",a=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(n.state.toText(l+e.insert.sliceString(0,void 0,n.state.lineBreak)+a))}else{let l=i.changes(e),a=t&&t.main.to<=l.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let u=n.state.sliceDoc(e.from,e.to),c,h=t&&by(n,t.main.head);if(h){let p=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-p}}else c=n.state.doc.lineAt(o.head);let f=o.to-e.to,d=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:l,range:a||p.map(l)};let v=p.to-f,m=v-u.length;if(p.to-p.from!=d||n.state.sliceDoc(m,v)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let y=i.changes({from:m,to:v,insert:e.insert}),g=p.to-o.to;return{changes:y,range:a?re.range(Math.max(0,a.anchor+g),Math.max(0,a.head+g)):p.map(y)}})}else r={changes:l,selection:a&&i.selection.replaceRange(a)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function _b(n,e,t,r){let i=Math.min(n.length,e.length),o=0;for(;o<i&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&n.length==e.length)return null;let s=n.length,l=e.length;for(;s>0&&l>0&&n.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(r=="end"){let a=Math.max(0,o-Math.min(s,l));t-=s+a-o}if(s<o&&n.length<e.length){let a=t<=o&&t>=s?o-t:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=t<=o&&t>=l?o-t:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function Tb(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new g0(t,r)),(i!=t||o!=r)&&e.push(new g0(i,o))),e}function Eb(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?re.single(t+e,r+e):null}class Cb{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,pe.safari&&e.contentDOM.addEventListener("input",()=>null),pe.gecko&&zb(e.contentDOM.ownerDocument)}handleEvent(e){!kb(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=wb(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,l=r[o];l&&s!=!l.handlers.length&&(i.removeEventListener(o,this.handleEvent),l=null),l||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!t[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Ey.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),pe.android&&pe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return pe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Ty.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Ob.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,lo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:pe.safari&&!pe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function x0(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Ft(t.state,i)}}}function wb(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&t(o).handlers.push(x0(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&t(o).observers.push(x0(r.value,s))}}for(let r in xr)t(r).handlers.push(xr[r]);for(let r in dr)t(r).observers.push(dr[r]);return e}const Ty=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ob="dthko",Ey=[16,17,18,20,91,92,224,225],Ea=6;function Ca(n){return Math.max(0,n)*.7+8}function Nb(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Db{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=j2(e.contentDOM),this.atoms=e.state.facet(Wd).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Me.allowMultipleSelections)&&Pb(e,t),this.dragging=Lb(e,t)&&Oy(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Nb(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=Sy(this.view);e.clientX-a.left<=i+Ea?t=-Ca(i-e.clientX):e.clientX+a.right>=s-Ea&&(t=Ca(e.clientX-s)),e.clientY-a.top<=o+Ea?r=-Ca(o-e.clientY):e.clientY+a.bottom>=l-Ea&&(r=Ca(e.clientY-l)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=tu(this.atoms,i.from,0);s!=i.from&&(o=re.cursor(s,-1))}else{let s=tu(this.atoms,i.from,-1),l=tu(this.atoms,i.to,1);(s!=i.from||l!=i.to)&&(o=re.range(i.from==i.anchor?s:l,i.from==i.head?s:l))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?re.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Pb(n,e){let t=n.state.facet(sy);return t.length?t[0](e):pe.mac?e.metaKey:e.ctrlKey}function Rb(n,e){let t=n.state.facet(ly);return t.length?t[0](e):pe.mac?!e.altKey:!e.ctrlKey}function Lb(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=gl(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function kb(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Ue.get(t))&&r.ignoreEvent(e))return!1;return!0}const xr=Object.create(null),dr=Object.create(null),Cy=pe.ie&&pe.ie_version<15||pe.ios&&pe.webkit_version<604;function Ib(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),wy(n,t.value)},50)}function Ju(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function wy(n,e){e=Ju(n.state,qd,e);let{state:t}=n,r,i=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(Wf!=null&&t.selection.ranges.every(a=>a.empty)&&Wf==o.toString()){let a=-1;r=t.changeByRange(u=>{let c=t.doc.lineAt(u.from);if(c.from==a)return{range:u};a=c.from;let h=t.toText((s?o.line(i++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:h},range:re.cursor(u.from+h.length)}})}else s?r=t.changeByRange(a=>{let u=o.line(i++);return{changes:{from:a.from,to:a.to,insert:u.text},range:re.cursor(a.from+u.length)}}):r=t.replaceSelection(o);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}dr.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};xr.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);dr.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};dr.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};xr.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(ay))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=Bb(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Db(n,e,t,r)),r&&n.observer.ignore(()=>{Hx(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function y0(n,e,t,r){if(r==1)return re.cursor(e,t);if(r==2)return hb(n.state,e,t);{let i=ot.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,l=i?i.posAtEnd:o.to;return l<n.state.doc.length&&l==o.to&&l++,re.range(s,l)}}let v0=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function Fb(n,e,t,r){let i=ot.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&v0(t,r,s))return-1;let l=i.coordsAt(o,1);return l&&v0(t,r,l)?1:s&&s.bottom>=r?-1:1}function S0(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Fb(n,t,e.clientX,e.clientY)}}const Mb=pe.ie&&pe.ie_version<=11;let b0=null,A0=0,_0=0;function Oy(n){if(!Mb)return n.detail;let e=b0,t=_0;return b0=n,_0=Date.now(),A0=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(A0+1)%3:1}function Bb(n,e){let t=S0(n,e),r=Oy(e),i=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),i=i.map(o.changes))},get(o,s,l){let a=S0(n,o),u,c=y0(n,a.pos,a.bias,r);if(t.pos!=a.pos&&!s){let h=y0(n,t.pos,t.bias,r),f=Math.min(h.from,c.from),d=Math.max(h.to,c.to);c=f<c.from?re.range(f,d):re.range(d,f)}return s?i.replaceRange(i.main.extend(c.from,c.to)):l&&r==1&&i.ranges.length>1&&(u=jb(i,a.pos))?u:l?i.addRange(c):re.create([c])}}}function jb(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return re.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}xr.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=re.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Ju(n.state,Ud,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};xr.dragend=n=>(n.inputState.draggedContent=null,!1);function T0(n,e,t,r){if(t=Ju(n.state,qd,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&Rb(n,e)?{from:o.from,to:o.to}:null,l={from:i,insert:t},a=n.state.changes(s?[s,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}xr.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&T0(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[s]=l.result),o()},l.readAsText(t[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return T0(n,e,r,!0),!0}return!1};xr.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=Cy?null:e.clipboardData;return t?(wy(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Ib(n),!1)};function $b(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function Hb(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>i&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),i=s.number}r=!0}return{text:Ju(n,Ud,e.join(n.lineBreak)),ranges:t,linewise:r}}let Wf=null;xr.copy=xr.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=Hb(n.state);if(!t&&!i)return!1;Wf=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=Cy?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):($b(n,t),!1)};const Ny=fn.define();function Dy(n,e){let t=[];for(let r of n.facet(hy)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:Ny.of(!0)}):null}function Py(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=Dy(n.state,e);t?n.dispatch(t):n.update([])}},10)}dr.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),Py(n)};dr.blur=n=>{n.observer.clearSelectionRange(),Py(n)};dr.compositionstart=dr.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};dr.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,pe.chrome&&pe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};dr.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};xr.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let l=s[0],a=n.posAtDOM(l.startContainer,l.startOffset),u=n.posAtDOM(l.endContainer,l.endOffset);return Kd(n,{from:a,to:u,insert:n.state.toText(o)},null),!0}}let i;if(pe.chrome&&pe.android&&(i=Ty.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return pe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),pe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>dr.compositionend(n,e),20),!1};const E0=new Set;function zb(n){E0.has(n)||(E0.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const C0=["pre-wrap","normal","pre-line","break-spaces"];let xo=!1;function w0(){xo=!1}class qb{constructor(e){this.lineWrapping=e,this.doc=je.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return C0.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,o,s){let l=C0.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,a){this.heightSamples={};for(let u=0;u<s.length;u++){let c=s[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return a}}class Ub{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Ir{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Mt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $n?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ir(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ke=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Ke||(Ke={}));const ru=.001;class Bt{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ru&&(xo=!0),this.height=e)}replace(e,t,r){return Bt.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:u,fromB:c,toB:h}=i[l],f=o.lineAt(a,Ke.ByPosNoHeight,r.setDoc(t),0,0),d=f.to>=u?f:o.lineAt(u,Ke.ByPosNoHeight,r,0,0);for(h+=d.to-u,u=d.to;l>0&&f.from<=i[l-1].toA;)a=i[l-1].fromA,c=i[l-1].fromB,l--,a<f.from&&(f=o.lineAt(a,Ke.ByPosNoHeight,r,0,0));c+=f.from-a,a=f.from;let p=Gd.build(r.setDoc(s),e,c,h);o=Au(o,o.replace(a,u,p))}return o.updateHeight(r,0)}static empty(){return new Qt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>o*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(o>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,o-=l.size}else break;else if(i<o){let l=e[t++];l&&(i+=l.size)}else{let l=e[--r];l&&(o+=l.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new Vb(Bt.of(e.slice(0,t)),s,Bt.of(e.slice(r)))}}function Au(n,e){return n==e?n:(n.constructor!=e.constructor&&(xo=!0),e)}Bt.prototype.size=1;class Ry extends Bt{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Ir(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Qt extends Ry{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Ir(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Qt||i instanceof xt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof xt?i=new Qt(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Bt.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class xt extends Bt{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,o=i-r+1,s,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*o);s=a/o,this.length>o+1&&(l=(this.height-a)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:l}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:l,perChar:a}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=t.doc.lineAt(u),h=l+c.length*a,f=Math.max(r,e-h/2);return new Ir(c.from,c.length,f,h,0)}else{let u=Math.max(0,Math.min(s-o,Math.floor((e-r)/l))),{from:c,length:h}=t.doc.line(o+u);return new Ir(c,h,r+l*u,l,0)}}lineAt(e,t,r,i,o){if(t==Ke.ByHeight)return this.blockAt(e,r,i,o);if(t==Ke.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new Ir(d,p-d,0,0,0)}let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(r,o),u=r.doc.lineAt(e),c=l+u.length*a,h=u.number-s,f=i+l*h+a*(u.from-o-h);return new Ir(u.from,u.length,Math.max(i,Math.min(f,i+this.height-c)),c,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:l,perLine:a,perChar:u}=this.heightMetrics(r,o);for(let c=e,h=i;c<=t;){let f=r.doc.lineAt(c);if(c==e){let p=f.number-l;h+=a*p+u*(e-o-p)}let d=a+u*f.length;s(new Ir(f.from,f.length,h,d,0)),h+=d,c=f.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof xt?r[r.length-1]=new xt(o.length+i):r.push(null,new xt(i-1))}if(e>0){let o=r[0];o instanceof xt?r[0]=new xt(e+o.length):r.unshift(new xt(e-1),null)}return Bt.of(r)}decomposeLeft(e,t){t.push(new xt(e-1),null)}decomposeRight(e,t){t.push(null,new xt(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],l=Math.max(t,i.from),a=-1;for(i.from>t&&s.push(new xt(i.from-t-1).updateHeight(e,t));l<=o&&i.more;){let c=e.doc.lineAt(l).length;s.length&&s.push(null);let h=i.heights[i.index++];a==-1?a=h:Math.abs(h-a)>=ru&&(a=-2);let f=new Qt(c,h);f.outdated=!1,s.push(f),l+=c+1}l<=o&&s.push(null,new xt(o-l).updateHeight(e,l));let u=Bt.of(s);return(a<0||Math.abs(u.height-this.height)>=ru||Math.abs(a-this.heightMetrics(e,t).perLine)>=ru)&&(xo=!0),Au(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Vb extends Bt{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,l=o+this.left.length+this.break,a=t==Ke.ByHeight?e<s:e<l,u=a?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,l);if(this.break||(a?u.to<l:u.from>l))return u;let c=t==Ke.ByPosNoHeight?Ke.ByPosNoHeight:Ke.ByPos;return a?u.join(this.right.lineAt(l,c,r,s,l)):this.left.lineAt(l,c,r,i,o).join(u)}forEachLine(e,t,r,i,o,s){let l=i+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,r,i,o,s),t>=a&&this.right.forEachLine(e,t,r,l,a,s);else{let u=this.lineAt(a,Ke.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,s),u.to>=e&&u.from<=t&&s(u),t>u.to&&this.right.forEachLine(u.to+1,t,r,l,a,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of r)o.push(l);if(e>0&&O0(o,s-1),t<this.length){let l=o.length;this.decomposeRight(t,o),O0(o,l)}return Bt.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Bt.of(this.break?[e,null,t]:[e,t]):(this.left=Au(this.left,e),this.right=Au(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,l=t+o.length+this.break,a=null;return i&&i.from<=t+o.length&&i.more?a=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=l+s.length&&i.more?a=s=s.updateHeight(e,l,r,i):s.updateHeight(e,l,r),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function O0(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof xt&&(r=n[e+1])instanceof xt&&n.splice(e-1,3,new xt(t.length+1+r.length))}const Wb=5;class Gd{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Qt?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Qt(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new Ry(s,i,r)):(s||o||i>=Wb)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Qt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new xt(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Qt)return e;let t=new Qt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Qt)&&!this.isCovered?this.nodes.push(new Qt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Qt&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new Gd(r,e);return Re.spans(t,r,i,o,0),o.finish(r)}}function Kb(n,e,t){let r=new Gb;return Re.compare(n,e,t,r,0),r.changes}class Gb{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Bf(e,t,this.changes,5)}}function Xb(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(i.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,h=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&h.overflow!="visible"){let f=c.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),l=Math.max(l,f.top),a=Math.min(u==n.parentNode?i.innerHeight:a,f.bottom)}u=h.position=="absolute"||h.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function Yb(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class fh{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return Ae.replace({widget:new Jb(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Jb extends Un{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class N0{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=D0,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ge.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Vd).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new qb(t),this.stateDeco=e.facet(yl).filter(r=>typeof r!="function"),this.heightMap=Bt.empty().applyChanges(this.stateDeco,je.empty,this.heightOracle.setDoc(e.doc),[new cr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ae.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new wa(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?D0:new Xd(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(tl(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(yl).filter(c=>typeof c!="function");let i=e.changedRanges,o=cr.extendWithRanges(i,Kb(r,this.stateDeco,e?e.changes:at.empty(this.state.doc.length))),s=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);w0(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||xo)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let u=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(dy)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Ge.RTL:Ge.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=t.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,c=0;if(l.width&&l.height){let{scaleX:S,scaleY:_}=$x(t,l);(S>.005&&Math.abs(this.scaleX-S)>.005||_>.005&&Math.abs(this.scaleY-_)>.005)&&(this.scaleX=S,this.scaleY=_,u|=8,s=a=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=qx(e.scrollDOM);let p=(this.printing?Yb:Xb)(t,this.paddingTop),v=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let g=l.width;if((this.contentDOMWidth!=g||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),a){let S=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(S)&&(s=!0),s||i.lineWrapping&&Math.abs(g-this.contentDOMWidth)>i.charWidth){let{lineHeight:_,charWidth:b,textHeight:C}=e.docView.measureTextSize();s=_>0&&i.refresh(o,_,b,C,g/b,S),s&&(e.docView.minWidth=0,u|=8)}v>0&&m>0?c=Math.max(v,m):v<0&&m<0&&(c=Math.min(v,m)),w0();for(let _ of this.viewports){let b=_.from==this.viewport.from?S:e.docView.measureVisibleLineHeights(_);this.heightMap=(s?Bt.empty().applyChanges(this.stateDeco,je.empty,this.heightOracle,[new cr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new Ub(_.from,b))}xo&&(u|=2)}let x=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,a=new wa(i.lineAt(s-r*1e3,Ke.ByHeight,o,0,0).from,i.lineAt(l+(1-r)*1e3,Ke.ByHeight,o,0,0).to);if(t){let{head:u}=t.range;if(u<a.from||u>a.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,Ke.ByPos,o,0,0),f;t.y=="center"?f=(h.top+h.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&u<a.from?f=h.top:f=h.bottom-c,a=new wa(i.lineAt(f-1e3/2,Ke.ByHeight,o,0,0).from,i.lineAt(f+c+1e3/2,Ke.ByHeight,o,0,0).to)}}return a}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new wa(this.heightMap.lineAt(r,Ke.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ke.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ke.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Ke.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=l+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new fh(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=Ge.LTR&&!r)return[];let l=[],a=(c,h,f,d)=>{if(h-c<o)return;let p=this.state.selection.main,v=[p.from];p.empty||v.push(p.to);for(let y of v)if(y>c&&y<h){a(c,y-10,f,d),a(y+10,h,f,d);return}let m=Zb(e,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-c)<o&&Math.abs(y.to-h)<o&&!v.some(g=>y.from<g&&y.to>g));if(!m){if(h<f.to&&t&&r&&t.visibleRanges.some(x=>x.from<=h&&x.to>=h)){let x=t.moveToLineBoundary(re.cursor(h),!1,!0).head;x>c&&(h=x)}let y=this.gapSize(f,c,h,d),g=r||y<2e6?y:2e6;m=new fh(c,h,y,g)}l.push(m)},u=c=>{if(c.length<s||c.type!=Mt.Text)return;let h=Qb(c.from,c.to,this.stateDeco);if(h.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,y;if(f!=null){let g=Na(h,f),x=((this.visibleBottom-this.visibleTop)/2+v)/c.height;m=g-x,y=g+x}else m=(this.visibleTop-c.top-v)/c.height,y=(this.visibleBottom-c.top+v)/c.height;d=Oa(h,m),p=Oa(h,y)}else{let v=h.total*this.heightOracle.charWidth,m=i*this.heightOracle.charWidth,y=0;if(v>2e6)for(let b of e)b.from>=c.from&&b.from<c.to&&b.size!=b.displaySize&&b.from*this.heightOracle.charWidth+y<this.pixelViewport.left&&(y=b.size-b.displaySize);let g=this.pixelViewport.left+y,x=this.pixelViewport.right+y,S,_;if(f!=null){let b=Na(h,f),C=((x-g)/2+m)/v;S=b-C,_=b+C}else S=(g-m)/v,_=(x+m)/v;d=Oa(h,S),p=Oa(h,_)}d>c.from&&a(c.from,d,c,h),p<c.to&&a(p,c.to,c,h)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return l}gapSize(e,t,r,i){let o=Na(i,r)-Na(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){fh.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ae.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Re.spans(e,this.viewport.from,this.viewport.to,{span(i,o){t.push({from:i,to:o})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=t[o].from||i.to!=t[o].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||tl(this.heightMap.lineAt(e,Ke.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||tl(this.heightMap.lineAt(this.scaler.fromDOM(e),Ke.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return tl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class wa{constructor(e,t){this.from=e,this.to=t}}function Qb(n,e,t){let r=[],i=n,o=0;return Re.spans(t,n,e,{span(){},point(s,l){s>i&&(r.push({from:i,to:s}),o+=s-i),i=l}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Oa({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],l=s-o;if(r<=l)return o+r;r-=l}}function Na(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function Zb(n,e){for(let t of n)if(e(t))return t}const D0={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Xd{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:l,to:a})=>{let u=t.lineAt(l,Ke.ByPos,e,0,0).top,c=t.lineAt(a,Ke.ByPos,e,0,0).bottom;return i+=c-u,{from:l,to:a,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof Xd?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function tl(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Ir(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>tl(i,e)):n._content)}const Da=he.define({combine:n=>n.join(" ")}),Kf=he.define({combine:n=>n.indexOf(!0)>-1}),Gf=Bn.newName(),Ly=Bn.newName(),ky=Bn.newName(),Iy={"&light":"."+Ly,"&dark":"."+ky};function Xf(n,e,t){return new Bn(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const eA=Xf("."+Gf,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Iy),tA={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},dh=pe.ie&&pe.ie_version<=11;class rA{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new $2,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(pe.ie&&pe.ie_version<=11||pe.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(pe.chrome&&pe.chrome_version<126)&&(this.editContext=new iA(e),e.state.facet(wn)&&(e.contentDOM.editContext=this.editContext.editContext)),dh&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(wn)?r.root.activeElement!=this.dom:!eu(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(pe.ie&&pe.ie_version<=11||pe.android&&pe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&cl(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=gl(e.root);if(!t)return!1;let r=pe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&nA(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=eu(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&z2(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,tA),dh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),dh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&lo(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&eu(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new bb(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=_y(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=P0(t,e.previousSibling||e.target.previousSibling,-1),i=P0(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(wn)!=e.state.facet(wn)&&(e.view.contentDOM.editContext=e.state.facet(wn)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function P0(n,e,t){for(;e;){let r=Ue.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function R0(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return cl(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function nA(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return R0(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?R0(n,t):null}class iA{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:je.of(r.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||Kd(e,o,re.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);s<l;s++){let a=e.coordsForChar(s);o=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,l=o.underlineThickness;if(s!="None"&&l!="None"){let a=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;i.push(Ae.mark({attributes:{style:a}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:my.of(Ae.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=gl(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,l,a,u)=>{if(r)return;let c=u.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(o+=t,s+=t,s<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),u.toString()),this.to+=c}t+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class de{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||H2(e.parent)||document,this.viewState=new N0(e.state||Me.create(e)),e.scrollTo&&e.scrollTo.is(Ta)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Qs).map(i=>new uh(i));for(let i of this.plugins)i.update(this);this.observer=new rA(this),this.inputState=new Cb(this),this.inputState.ensureHandlers(this.plugins),this.docView=new c0(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ct?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,a=null;e.some(f=>f.annotation(Ny))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=Dy(o,s),a||(l=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(Me.phrases)!=this.state.facet(Me.phrases))return this.setState(o);i=bu.create(this,o,e),i.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new ao(d.empty?d:re.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Ta)&&(h=d.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=_u.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Zs)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Da)!=i.state.facet(Da)&&(this.viewState.mustMeasureContent=!0),(t||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(qf))try{f(i)}catch(d){Ft(this.state,d,"update listener")}(a||c)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),c&&!_y(this,c)&&u.force&&lo(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new N0(e),this.plugins=e.facet(Qs).map(r=>new uh(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new c0(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Qs),r=e.state.facet(Qs);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new uh(o));else{let l=this.plugins[s];l.mustUpdate=e,i.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Ft(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(s<0)if(qx(r))o=-1,s=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);o=d.from,s=d.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];a&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(p){return Ft(this.state,p),L0}}),h=bu.create(this,this.state,[]),f=!1;h.flags|=a,t?t.flags|=a:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let d=0;d<u.length;d++)if(c[d]!=L0)try{let p=u[d];p.write&&p.write(c[d],this)}catch(p){Ft(this.state,p)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(qf))l(t)}get themeClasses(){return Gf+" "+(this.state.facet(Kf)?ky:Ly)+" "+this.state.facet(Da)}updateAttrs(){let e=k0(this,gy,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(wn)?"true":"false",class:"cm-content",style:`${pe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),k0(this,Vd,t);let r=this.observer.ignore(()=>{let i=Mf(this.contentDOM,this.contentAttrs,t),o=Mf(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(de.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Zs);let e=this.state.facet(de.cspNonce);Bn.mount(this.root,this.styleModules.concat(eA).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return hh(this,e,m0(this,e,t,r))}moveByGroup(e,t){return hh(this,e,m0(this,e,t,r=>xb(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return re.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return gb(this,e,t,r)}moveVertically(e,t,r){return hh(this,e,yb(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Ay(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Rn.find(o,e-i.from,-1,t)];return Xu(r,s.dir==Ge.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(fy)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>oA)return iy(e.length);let t=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||ny(o.isolates,r=u0(this,e))))return o.order;r||(r=u0(this,e));let i=eb(e.text,t,r);return this.bidiCache.push(new _u(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||pe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Hx(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ta.of(new ao(typeof e=="number"?re.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Ta.of(new ao(re.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return nt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return nt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Bn.newName(),i=[Da.of(r),Zs.of(Xf(`.${r}`,e))];return t&&t.dark&&i.push(Kf.of(!0)),i}static baseTheme(e){return Li.lowest(Zs.of(Xf("."+Gf,e,Iy)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Ue.get(r)||Ue.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}de.styleModule=Zs;de.inputHandler=cy;de.clipboardInputFilter=qd;de.clipboardOutputFilter=Ud;de.scrollHandler=py;de.focusChangeEffect=hy;de.perLineTextDirection=fy;de.exceptionSink=uy;de.updateListener=qf;de.editable=wn;de.mouseSelectionStyle=ay;de.dragMovesSelection=ly;de.clickAddsSelectionRange=sy;de.decorations=yl;de.outerDecorations=xy;de.atomicRanges=Wd;de.bidiIsolatedRanges=yy;de.scrollMargins=vy;de.darkTheme=Kf;de.cspNonce=he.define({combine:n=>n.length?n[0]:""});de.contentAttributes=Vd;de.editorAttributes=gy;de.lineWrapping=de.contentAttributes.of({class:"cm-lineWrapping"});de.announce=Oe.define();const oA=4096,L0={};class _u{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Ge.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!t.touchesRange(s.from,s.to)&&r.push(new _u(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function k0(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(n):o;s&&Ff(s,t)}return t}const sA=pe.mac?"mac":pe.windows?"win":pe.linux?"linux":"key";function lA(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,o,s,l;for(let a=0;a<t.length-1;++a){const u=t[a];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),l&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Pa(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const aA=Li.default(de.domEventHandlers({keydown(n,e){return My(Fy(e.state),n,e,"editor")}})),Yd=he.define({enables:aA}),I0=new WeakMap;function Fy(n){let e=n.facet(Yd),t=I0.get(e);return t||I0.set(e,t=hA(e.reduce((r,i)=>r.concat(i),[]))),t}function uA(n,e,t){return My(Fy(n.state),e,n,t)}let On=null;const cA=4e3;function hA(n,e=sA){let t=Object.create(null),r=Object.create(null),i=(s,l)=>{let a=r[s];if(a==null)r[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,u,c)=>{var h,f;let d=t[s]||(t[s]=Object.create(null)),p=l.split(/ (?!$)/).map(y=>lA(y,e));for(let y=1;y<p.length;y++){let g=p.slice(0,y).join(" ");i(g,!0),d[g]||(d[g]={preventDefault:!0,stopPropagation:!1,run:[x=>{let S=On={view:x,prefix:g,scope:s};return setTimeout(()=>{On==S&&(On=null)},cA),!0}]})}let v=p.join(" ");i(v,!1);let m=d[v]||(d[v]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});a&&m.run.push(a),u&&(m.preventDefault=!0),c&&(m.stopPropagation=!0)};for(let s of n){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let u of l){let c=t[u]||(t[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=s;for(let f in c)c[f].run.push(d=>h(d,Yf))}let a=s[e]||s.key;if(a)for(let u of l)o(u,a,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(u,"Shift-"+a,s.shift,s.preventDefault,s.stopPropagation)}return t}let Yf=null;function My(n,e,t,r){Yf=e;let i=F2(e),o=yt(i,0),s=ar(o)==i.length&&i!=" ",l="",a=!1,u=!1,c=!1;On&&On.view==t&&On.scope==r&&(l=On.prefix+" ",Ey.indexOf(e.keyCode)<0&&(u=!0,On=null));let h=new Set,f=m=>{if(m){for(let y of m.run)if(!h.has(y)&&(h.add(y),y(t)))return m.stopPropagation&&(c=!0),!0;m.preventDefault&&(m.stopPropagation&&(c=!0),u=!0)}return!1},d=n[r],p,v;return d&&(f(d[l+Pa(i,e,!s)])?a=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(pe.windows&&e.ctrlKey&&e.altKey)&&(p=jn[e.keyCode])&&p!=i?(f(d[l+Pa(p,e,!0)])||e.shiftKey&&(v=ml[e.keyCode])!=i&&v!=p&&f(d[l+Pa(v,e,!1)]))&&(a=!0):s&&e.shiftKey&&f(d[l+Pa(i,e,!0)])&&(a=!0),!a&&f(d._any)&&(a=!0)),u&&(a=!0),a&&c&&e.stopPropagation(),Yf=null,a}class Ml{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=By(e);return[new Ml(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return fA(e,t,r)}}function By(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Ge.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function F0(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,l=n.posAtCoords({x:o.left+1,y:s}),a=n.posAtCoords({x:o.right-1,y:s});return l==null||a==null?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}function fA(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),o=n.textDirection==Ge.LTR,s=n.contentDOM,l=s.getBoundingClientRect(),a=By(n),u=s.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),h=l.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),f=l.right-(c?parseInt(c.paddingRight):0),d=Vf(n,r),p=Vf(n,i),v=d.type==Mt.Text?d:null,m=p.type==Mt.Text?p:null;if(v&&(n.lineWrapping||d.widgetLineBreaks)&&(v=F0(n,r,1,v)),m&&(n.lineWrapping||p.widgetLineBreaks)&&(m=F0(n,i,-1,m)),v&&m&&v.from==m.from&&v.to==m.to)return g(x(t.from,t.to,v));{let _=v?x(t.from,null,v):S(d,!1),b=m?x(null,t.to,m):S(p,!0),C=[];return(v||d).to<(m||p).from-(v&&m?1:0)||d.widgetLineBreaks>1&&_.bottom+n.defaultLineHeight/2<b.top?C.push(y(h,_.bottom,f,b.top)):_.bottom<b.top&&n.elementAtHeight((_.bottom+b.top)/2).type==Mt.Text&&(_.bottom=b.top=(_.bottom+b.top)/2),g(_).concat(C).concat(g(b))}function y(_,b,C,O){return new Ml(e,_-a.left,b-a.top-.01,C-_,O-b+.01)}function g({top:_,bottom:b,horizontal:C}){let O=[];for(let D=0;D<C.length;D+=2)O.push(y(C[D],_,C[D+1],b));return O}function x(_,b,C){let O=1e9,D=-1e9,M=[];function j(se,ie,fe,Ee,me){let ee=n.coordsAtPos(se,se==C.to?-2:2),X=n.coordsAtPos(fe,fe==C.from?2:-2);!ee||!X||(O=Math.min(ee.top,X.top,O),D=Math.max(ee.bottom,X.bottom,D),me==Ge.LTR?M.push(o&&ie?h:ee.left,o&&Ee?f:X.right):M.push(!o&&Ee?h:X.left,!o&&ie?f:ee.right))}let k=_??C.from,V=b??C.to;for(let se of n.visibleRanges)if(se.to>k&&se.from<V)for(let ie=Math.max(se.from,k),fe=Math.min(se.to,V);;){let Ee=n.state.doc.lineAt(ie);for(let me of n.bidiSpans(Ee)){let ee=me.from+Ee.from,X=me.to+Ee.from;if(ee>=fe)break;X>ie&&j(Math.max(ee,ie),_==null&&ee<=k,Math.min(X,fe),b==null&&X>=V,me.dir)}if(ie=Ee.to+1,ie>=fe)break}return M.length==0&&j(k,_==null,V,b==null,n.textDirection),{top:O,bottom:D,horizontal:M}}function S(_,b){let C=l.top+(b?_.top:_.bottom);return{top:C,bottom:C,horizontal:[]}}}function dA(n,e){return n.constructor==e.constructor&&n.eq(e)}class pA{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(nu)!=e.state.facet(nu)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(nu);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!dA(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const nu=he.define();function jy(n){return[nt.define(e=>new pA(e,n)),nu.of(n)]}const $y=!pe.ios,vl=he.define({combine(n){return vr(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function mA(n={}){return[vl.of(n),gA,xA,yA,dy.of(!0)]}function Hy(n){return n.startState.facet(vl)!=n.state.facet(vl)}const gA=jy({above:!0,markers(n){let{state:e}=n,t=e.facet(vl),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||$y:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:re.cursor(i.head,i.head>i.anchor?-1:1);for(let a of Ml.forRange(n,s,l))r.push(a)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Hy(n);return t&&M0(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){M0(e.state,n)},class:"cm-cursorLayer"});function M0(n,e){e.style.animationDuration=n.facet(vl).cursorBlinkRate+"ms"}const xA=jy({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Ml.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||Hy(n)},class:"cm-selectionLayer"}),Jf={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};$y&&(Jf[".cm-line"].caretColor=Jf[".cm-content"].caretColor="transparent !important");const yA=Li.highest(de.theme(Jf)),zy=Oe.define({map(n,e){return n==null?null:e.mapPos(n)}}),rl=ft.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(zy)?r.value:t,n)}}),vA=nt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(rl);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(rl)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(rl),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(rl)!=n&&this.view.dispatch({effects:zy.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function SA(){return[rl,vA]}function B0(n,e,t,r,i){e.lastIndex=0;for(let o=n.iterRange(t,r),s=t,l;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;l=e.exec(o.value);)i(s+l.index,l)}function bA(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:o}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class AA{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(l,a,u,c)=>i(c,u,u+l[0].length,l,a);else if(typeof r=="function")this.addMatch=(l,a,u,c)=>{let h=r(l,a,u);h&&c(u,u+l[0].length,h)};else if(r)this.addMatch=(l,a,u,c)=>c(u,u+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let t=new Mn,r=t.add.bind(t);for(let{from:i,to:o}of bA(e,this.maxLength))B0(e.state.doc,this.regexp,i,o,(s,l)=>this.addMatch(l,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,l,a)=>{a>e.view.viewport.from&&l<e.view.viewport.to&&(r=Math.min(l,r),i=Math.max(a,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),l=Math.min(o.to,i);if(l>s){let a=e.state.doc.lineAt(s),u=a.to<l?e.state.doc.lineAt(l):a,c=Math.max(o.from,a.from),h=Math.min(o.to,u.to);if(this.boundary){for(;s>a.from;s--)if(this.boundary.test(a.text[s-1-a.from])){c=s;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){h=l;break}}let f=[],d,p=(v,m,y)=>f.push(y.range(v,m));if(a==u)for(this.regexp.lastIndex=c-a.from;(d=this.regexp.exec(a.text))&&d.index<h-a.from;)this.addMatch(d,e,d.index+a.from,p);else B0(e.state.doc,this.regexp,c,h,(v,m)=>this.addMatch(m,e,v,p));t=t.update({filterFrom:c,filterTo:h,filter:(v,m)=>v<c||m>h,add:f})}}return t}}const Qf=/x/.unicode!=null?"gu":"g",_A=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Qf),TA={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let ph=null;function EA(){var n;if(ph==null&&typeof document<"u"&&document.body){let e=document.body.style;ph=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return ph||!1}const iu=he.define({combine(n){let e=vr(n,{render:null,specialChars:_A,addSpecialChars:null});return(e.replaceTabs=!EA())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Qf)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Qf)),e}});function CA(n={}){return[iu.of(n),wA()]}let j0=null;function wA(){return j0||(j0=nt.fromClass(class{constructor(n){this.view=n,this.decorations=Ae.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(iu)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new AA({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,o=yt(e[0],0);if(o==9){let s=i.lineAt(r),l=t.state.tabSize,a=Po(s.text,l,r-s.from);return Ae.replace({widget:new PA((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Ae.replace({widget:new DA(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(iu);n.startState.facet(iu)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const OA="•";function NA(n){return n>=32?OA:n==10?"␤":String.fromCharCode(9216+n)}class DA extends Un{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=NA(this.code),r=e.state.phrase("Control character")+" "+(TA[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class PA extends Un{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function RA(){return kA}const LA=Ae.line({class:"cm-activeLine"}),kA=nt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(LA.range(i.from)),e=i.from)}return Ae.set(t)}},{decorations:n=>n.decorations}),Zf=2e3;function IA(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),o=[];if(e.off>Zf||t.off>Zf||e.col<0||t.col<0){let s=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=r;a<=i;a++){let u=n.doc.line(a);u.length<=l&&o.push(re.range(u.from+s,u.to+l))}}else{let s=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=r;a<=i;a++){let u=n.doc.line(a),c=Nf(u.text,s,n.tabSize,!0);if(c<0)o.push(re.cursor(u.to));else{let h=Nf(u.text,l,n.tabSize);o.push(re.range(u.from+c,u.from+h))}}}return o}function FA(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function $0(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>Zf?-1:i==r.length?FA(n,e.clientX):Po(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function MA(n,e){let t=$0(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let l=$0(n,i);if(!l)return r;let a=IA(n.state,t,l);return a.length?s?re.create(a.concat(r.ranges)):re.create(a):r}}:null}function BA(n){let e=t=>t.altKey&&t.button==0;return de.mouseSelectionStyle.of((t,r)=>e(r)?MA(t,r):null)}const jA={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},$A={style:"cursor: crosshair"};function HA(n={}){let[e,t]=jA[n.key||"Alt"],r=nt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,de.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?$A:null})]}const Qo="-10000px";class qy{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(a=>a);if(i===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[],l=t?[]:null;for(let a=0;a<o.length;a++){let u=o[a],c=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==u.create&&(c=h)}if(c<0)s[a]=this.createTooltipView(u,a?s[a-1]:null),l&&(l[a]=!!u.above);else{let h=s[a]=this.tooltipViews[c];l&&(l[a]=t[c]),h.update&&h.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(this.removeTooltipView(a),(r=a.destroy)===null||r===void 0||r.call(a));return t&&(l.forEach((a,u)=>t[u]=a),t.length=l.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function zA(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const mh=he.define({combine:n=>{var e,t,r;return{position:pe.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||zA}}}),H0=new WeakMap,Jd=nt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(mh);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new qy(n,Qu,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(mh);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Qo,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(pe.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Qo&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,t=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(mh).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{editor:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:c}=u,h=n.pos[l],f=n.size[l];if(!h||h.bottom<=Math.max(t.top,r.top)||h.top>=Math.min(t.bottom,r.bottom)||h.right<Math.max(t.left,r.left)-.1||h.left>Math.min(t.right,r.right)+.1){c.style.top=Qo;continue}let d=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,v=f.right-f.left,m=(e=H0.get(u))!==null&&e!==void 0?e:f.bottom-f.top,y=u.offset||UA,g=this.view.textDirection==Ge.LTR,x=f.width>r.right-r.left?g?r.left:r.right-f.width:g?Math.max(r.left,Math.min(h.left-(d?14:0)+y.x,r.right-v)):Math.min(Math.max(r.left,h.left-v+(d?14:0)-y.x),r.right-v),S=this.above[l];!a.strictSide&&(S?h.top-(f.bottom-f.top)-y.y<r.top:h.bottom+(f.bottom-f.top)+y.y>r.bottom)&&S==r.bottom-h.bottom>h.top-r.top&&(S=this.above[l]=!S);let _=(S?h.top-r.top:r.bottom-h.bottom)-p;if(_<m&&u.resize!==!1){if(_<this.view.defaultLineHeight){c.style.top=Qo;continue}H0.set(u,m),c.style.height=(m=_)/o+"px"}else c.style.height&&(c.style.height="");let b=S?h.top-m-p-y.y:h.bottom+p+y.y,C=x+v;if(u.overlap!==!0)for(let O of s)O.left<C&&O.right>x&&O.top<b+m&&O.bottom>b&&(b=S?O.top-m-2-p:O.bottom+p+2);if(this.position=="absolute"?(c.style.top=(b-n.parent.top)/o+"px",c.style.left=(x-n.parent.left)/i+"px"):(c.style.top=b/o+"px",c.style.left=x/i+"px"),d){let O=h.left+(g?y.x:-y.x)-(x+14-7);d.style.left=O/i+"px"}u.overlap!==!0&&s.push({left:x,top:b,right:C,bottom:b+m}),c.classList.toggle("cm-tooltip-above",S),c.classList.toggle("cm-tooltip-below",!S),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Qo}},{eventObservers:{scroll(){this.maybeMeasure()}}}),qA=de.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),UA={x:0,y:0},Qu=he.define({enables:[Jd,qA]}),Tu=he.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Zu{static create(e){return new Zu(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new qy(e,Tu,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const VA=Qu.compute([Tu],n=>{let e=n.facet(Tu);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Zu.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class WA{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof Pn)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let l=e.coordsAtPos(i);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=a&&a.dir==Ge.RTL?-1:1;o=t.x<l.left?-u:u}let s=this.source(e,i,o);if(s!=null&&s.then){let l=this.pending={pos:i};s.then(a=>{this.pending==l&&(this.pending=null,a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])}))},a=>Ft(e.state,a,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(Jd),t=e?e.manager.tooltips.findIndex(r=>r.create==Zu.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!KA(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,l=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==l?this.view.posAtCoords(this.lastMove)!=s:!GA(this.view,s,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ra=4;function KA(n,e){let{left:t,right:r,top:i,bottom:o}=n.getBoundingClientRect(),s;if(s=n.querySelector(".cm-tooltip-arrow")){let l=s.getBoundingClientRect();i=Math.min(l.top,i),o=Math.max(l.bottom,o)}return e.clientX>=t-Ra&&e.clientX<=r+Ra&&e.clientY>=i-Ra&&e.clientY<=o+Ra}function GA(n,e,t,r,i,o){let s=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,l)<i)return!1;let a=n.posAtCoords({x:r,y:i},!1);return a>=e&&a<=t}function XA(n,e={}){let t=Oe.define(),r=ft.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let l of i){let a=o.changes.mapPos(l.pos,-1,It.TrackDel);if(a!=null){let u=Object.assign(Object.create(null),l);u.pos=a,u.end!=null&&(u.end=o.changes.mapPos(u.end)),s.push(u)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(YA)&&(i=[]);return i},provide:i=>Tu.from(i)});return{active:r,extension:[r,nt.define(i=>new WA(i,n,r,t,e.hoverTime||300)),VA]}}function Uy(n,e){let t=n.plugin(Jd);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const YA=Oe.define(),z0=he.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Sl(n,e){let t=n.plugin(Vy),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const Vy=nt.fromClass(class{constructor(n){this.input=n.state.facet(bl),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(z0);this.top=new La(n,!0,e.topContainer),this.bottom=new La(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(z0);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new La(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new La(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(bl);if(t!=this.input){let r=t.filter(a=>a),i=[],o=[],s=[],l=[];for(let a of r){let u=this.specs.indexOf(a),c;u<0?(c=a(n.view),l.push(c)):(c=this.panels[u],c.update&&c.update(n)),i.push(c),(c.top?o:s).push(c)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class La{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=q0(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=q0(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function q0(n){let e=n.nextSibling;return n.remove(),e}const bl=he.define({enables:Vy});class zr extends fi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}zr.prototype.elementClass="";zr.prototype.toDOM=void 0;zr.prototype.mapMode=It.TrackBefore;zr.prototype.startSide=zr.prototype.endSide=-1;zr.prototype.point=!0;const ou=he.define(),JA=he.define(),QA={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Re.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fl=he.define();function Wy(n){return[Ky(),fl.of(Object.assign(Object.assign({},QA),n))]}const U0=he.define({combine:n=>n.some(e=>e)});function Ky(n){return[ZA]}const ZA=nt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(fl).map(e=>new W0(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(U0),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(U0)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Re.iter(this.view.state.facet(ou),this.view.viewport.from),r=[],i=this.gutters.map(o=>new e_(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let l of o.type)if(l.type==Mt.Text&&s){ed(t,r,l.from);for(let a of i)a.line(this.view,l,r);s=!1}else if(l.widget)for(let a of i)a.widget(this.view,l)}else if(o.type==Mt.Text){ed(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(fl),t=n.state.facet(fl),r=n.docChanged||n.heightChanged||n.viewportChanged||!Re.eq(n.startState.facet(ou),n.state.facet(ou),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new W0(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>de.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Ge.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function V0(n){return Array.isArray(n)?n:[n]}function ed(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class e_{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Re.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let l=new Gy(e,s,o,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];ed(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(JA)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class W0{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();s=(a.top+a.bottom)/2}else s=i.clientY;let l=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=V0(t.markers(e)),t.initialSpacer&&(this.spacer=new Gy(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=V0(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Re.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Gy{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),t_(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<t.length?t[o++]:null,u=!1;if(a){let c=a.elementClass;c&&(r+=" "+c);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,u=!0;break}}else l=this.markers.length;for(;s<l;){let c=this.markers[s++];if(c.toDOM){c.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!a)break;a.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),u&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function t_(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const r_=he.define(),n_=he.define(),eo=he.define({combine(n){return vr(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(l,a,u)=>o(l,a,u)||s(l,a,u):s}return r}})}});class gh extends zr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function xh(n,e){return n.state.facet(eo).formatNumber(e,n.state)}const i_=fl.compute([eo],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(r_)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new gh(xh(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(n_)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(eo)!=e.state.facet(eo),initialSpacer(e){return new gh(xh(e,K0(e.state.doc.lines)))},updateSpacer(e,t){let r=xh(t.view,K0(t.view.state.doc.lines));return r==e.number?e:new gh(r)},domEventHandlers:n.facet(eo).domEventHandlers}));function o_(n={}){return[eo.of(n),Ky(),i_]}function K0(n){let e=9;for(;e<n;)e=e*10+9;return e}const s_=new class extends zr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},l_=ou.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(s_.range(i)))}return Re.of(e)});function a_(){return l_}function We(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)Xy(n,arguments[e]);return n}function Xy(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Xy(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}class u_{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class ii{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(Fr).markerFilter;o&&(i=o(i,r));let s=Ae.set(i.map(l=>l.from==l.to||l.from==l.to-1&&r.doc.lineAt(l.from).to==l.from?Ae.widget({widget:new v_(l),diagnostic:l}).range(l.from):Ae.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity+(l.markClass?" "+l.markClass:"")},diagnostic:l}).range(l.from,l.to)),!0);return new ii(s,t,yo(s))}}function yo(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return r=new u_(i,o,s.diagnostic),!1}),r}function Yy(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Fr).hideOn(n,t,r);if(i!=null)return i;let o=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(s=>s.is(ec))||n.changes.touchesRange(o.from,Math.max(o.to,r)))}function Jy(n,e){return n.field(er,!1)?e:e.concat(Oe.appendConfig.of(i1))}function c_(n,e){return{effects:Jy(n,[ec.of(e)])}}const ec=Oe.define(),Qd=Oe.define(),Qy=Oe.define(),er=ft.define({create(){return new ii(Ae.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=yo(t,n.selected.diagnostic,o)||yo(t,null,o)}!t.size&&i&&e.state.facet(Fr).autoPanel&&(i=null),n=new ii(t,i,r)}for(let t of e.effects)if(t.is(ec)){let r=e.state.facet(Fr).autoPanel?t.value.length?Al.open:null:n.panel;n=ii.init(t.value,r,e.state)}else t.is(Qd)?n=new ii(n.diagnostics,t.value?Al.open:null,n.selected):t.is(Qy)&&(n=new ii(n.diagnostics,n.panel,t.value));return n},provide:n=>[bl.from(n,e=>e.panel),de.decorations.from(n,e=>e.diagnostics)]}),h_=Ae.mark({class:"cm-lintRange cm-lintRange-active"});function f_(n,e,t){let{diagnostics:r}=n.state.field(er),i=[],o=2e8,s=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(a,u,{spec:c})=>{e>=a&&e<=u&&(a==u||(e>a||t>0)&&(e<u||t<0))&&(i.push(c.diagnostic),o=Math.min(a,o),s=Math.max(u,s))});let l=n.state.facet(Fr).tooltipFilter;return l&&(i=l(i,n.state)),i.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:Zy(n,i)}}}:null}function Zy(n,e){return We("ul",{class:"cm-tooltip-lint"},e.map(t=>t1(n,t,!1)))}const d_=n=>{let e=n.state.field(er,!1);(!e||!e.panel)&&n.dispatch({effects:Jy(n.state,[Qd.of(!0)])});let t=Sl(n,Al.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},G0=n=>{let e=n.state.field(er,!1);return!e||!e.panel?!1:(n.dispatch({effects:Qd.of(!1)}),!0)},p_=n=>{let e=n.state.field(er,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},m_=[{key:"Mod-Shift-m",run:d_,preventDefault:!0},{key:"F8",run:p_}],g_=nt.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Fr);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Fr);t.length&&x_(t.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(c_(this.view.state,r.reduce((i,o)=>i.concat(o))))},r=>{Ft(this.view.state,r)})}}update(n){let e=n.state.facet(Fr);(n.docChanged||e!=n.startState.facet(Fr)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function x_(n,e,t){let r=[],i=-1;for(let o of n)o.then(s=>{r.push(s),clearTimeout(i),r.length==n.length?e(r):setTimeout(()=>e(r),200)},t)}const Fr=he.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},vr(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function y_(n,e={}){return[Fr.of({source:n,config:e}),g_,i1]}function e1(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function t1(n,e,t){var r;let i=t?e1(e.actions):[];return We("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},We("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let l=!1,a=f=>{if(f.preventDefault(),l)return;l=!0;let d=yo(n.state.field(er).diagnostics,e);d&&o.apply(n,d.from,d.to)},{name:u}=o,c=i[s]?u.indexOf(i[s]):-1,h=c<0?u:[u.slice(0,c),We("u",u.slice(c,c+1)),u.slice(c+1)];return We("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[s]})"`}.`},h)}),e.source&&We("div",{class:"cm-diagnosticSource"},e.source))}class v_ extends Un{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return We("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class X0{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=t1(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Al{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)G0(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=e1(o.actions);for(let l=0;l<s.length;l++)if(s[l].toUpperCase().charCodeAt(0)==i.keyCode){let a=yo(this.view.state.field(er).diagnostics,o);a&&o.actions[l].apply(e,a.from,a.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=We("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=We("div",{class:"cm-panel-lint"},this.list,We("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>G0(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(er).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(er),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,l,{spec:a})=>{let u=-1,c;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==a.diagnostic){u=h;break}u<0?(c=new X0(this.view,a.diagnostic),this.items.splice(r,0,c),i=!0):(c=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),t&&c.diagnostic==t.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),o=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new X0(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:l})=>{let a=l.height/this.list.offsetHeight;s.top<l.top?this.list.scrollTop-=(l.top-s.top)/a:s.bottom>l.bottom&&(this.list.scrollTop+=(s.bottom-l.bottom)/a)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(er),r=yo(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Qy.of(r)})}static open(e){return new Al(e)}}function su(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function ka(n){return su(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const S_=de.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ka("#d11")},".cm-lintRange-warning":{backgroundImage:ka("orange")},".cm-lintRange-info":{backgroundImage:ka("#999")},".cm-lintRange-hint":{backgroundImage:ka("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Y0(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}class r1 extends zr{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((t,r)=>Y0(t)<Y0(r.severity)?r.severity:t,"hint")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let r=this.diagnostics,i=e.state.facet(tc).tooltipFilter;return i&&(r=i(r,e.state)),r.length&&(t.onmouseover=()=>A_(e,t,r)),t}}function b_(n,e){let t=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let o=r.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(n1)&&n.dispatch({effects:Zd.of(null)})}};window.addEventListener("mousemove",t)}function A_(n,e,t){function r(){let s=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(s.from)&&n.dispatch({effects:Zd.of({pos:s.from,above:!1,create(){return{dom:Zy(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,b_(n,e)}let{hoverTime:i}=n.state.facet(tc),o=setTimeout(r,i);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(r,i)}}function __(n,e){let t=Object.create(null);for(let i of e){let o=n.lineAt(i.from);(t[o.from]||(t[o.from]=[])).push(i)}let r=[];for(let i in t)r.push(new r1(t[i]).range(+i));return Re.of(r,!0)}const T_=Wy({class:"cm-gutter-lint",markers:n=>n.state.field(td),widgetMarker:(n,e,t)=>{let r=[];return n.state.field(td).between(t.from,t.to,(i,o,s)=>{r.push(...s.diagnostics)}),r.length?new r1(r):null}}),td=ft.define({create(){return Re.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(tc).markerFilter;for(let r of e.effects)if(r.is(ec)){let i=r.value;t&&(i=t(i||[],e.state)),n=__(e.state.doc,i.slice(0))}return n}}),Zd=Oe.define(),n1=ft.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=Yy(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,r)=>r.is(Zd)?r.value:t,n)},provide:n=>Qu.from(n)}),E_=de.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:su('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:su('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:su('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),i1=[er,de.decorations.compute([er],n=>{let{selected:e,panel:t}=n.field(er);return!e||!t||e.from==e.to?Ae.none:Ae.set([h_.range(e.from,e.to)])}),XA(f_,{hideOn:Yy}),S_],tc=he.define({combine(n){return vr(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function C_(n={}){return[tc.of(n),td,T_,E_,n1]}const w_=1024;let O_=0;class yh{constructor(e,t){this.from=e,this.to=t}}class Le{constructor(e={}){this.id=O_++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=pr.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Le.closedBy=new Le({deserialize:n=>n.split(" ")});Le.openedBy=new Le({deserialize:n=>n.split(" ")});Le.group=new Le({deserialize:n=>n.split(" ")});Le.isolate=new Le({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Le.contextHash=new Le({perNode:!0});Le.lookAhead=new Le({perNode:!0});Le.mounted=new Le({perNode:!0});class Eu{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Le.mounted.id]}}const N_=Object.create(null);class pr{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):N_,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new pr(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Le.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Le.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}}pr.none=new pr("",Object.create(null),0,8);const Ia=new WeakMap,J0=new WeakMap;var St;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(St||(St={}));class Dt{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=Eu.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new nd(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Ia.get(this)||this.topNode,o=new nd(i);return o.moveTo(e,t),Ia.set(this,o._tree),o}get topNode(){return new hr(this,0,0,null)}resolve(e,t=0){let r=_l(Ia.get(this)||this.topNode,e,t,!1);return Ia.set(this,r),r}resolveInner(e,t=0){let r=_l(J0.get(this)||this.topNode,e,t,!0);return J0.set(this,r),r}resolveStack(e,t=0){return R_(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,l=(s&St.IncludeAnonymous)>0;for(let a=this.cursor(s|St.IncludeAnonymous);;){let u=!1;if(a.from<=o&&a.to>=i&&(!l&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;u=!0}for(;u&&r&&(l||!a.type.isAnonymous)&&r(a),!a.nextSibling();){if(!a.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:rp(pr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Dt(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Dt(pr.none,t,r,i)))}static build(e){return L_(e)}}Dt.empty=new Dt(pr.none,[],[],0);class ep{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ep(this.buffer,this.index)}}class Hn{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return pr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,r,i,o){let{buffer:s}=this,l=-1;for(let a=e;a!=t&&!(o1(o,i,s[a+1],s[a+2])&&(l=a,r>0));a=s[a+3]);return l}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let l=e,a=0;l<t;){o[a++]=i[l++],o[a++]=i[l++]-r;let u=o[a++]=i[l++]-r;o[a++]=i[l++]-e,s=Math.max(s,u)}return new Hn(o,s,this.set)}}function o1(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function _l(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof hr&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:St.IgnoreOverlays;if(r)for(let s=n,l=s.parent;l;s=l,l=s.parent)s instanceof hr&&s.index<0&&((i=l.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=l);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class s1{cursor(e=0){return new nd(this,e)}getChild(e,t=null,r=null){let i=Q0(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return Q0(this,e,t,r)}resolve(e,t=0){return _l(this,e,t,!1)}resolveInner(e,t=0){return _l(this,e,t,!0)}matchContext(e){return rd(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class hr extends s1{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,u=t>0?l.length:-1;e!=u;e+=t){let c=l[e],h=a[e]+s.from;if(o1(i,r,h,h+c.length)){if(c instanceof Hn){if(o&St.ExcludeBuffers)continue;let f=c.findChild(0,c.buffer.length,t,r-h,i);if(f>-1)return new Ln(new D_(s,c,e,h),null,f)}else if(o&St.IncludeAnonymous||!c.type.isAnonymous||tp(c)){let f;if(!(o&St.IgnoreMounts)&&(f=Eu.get(c))&&!f.overlay)return new hr(f.tree,h,e,s);let d=new hr(c,h,e,s);return o&St.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(t<0?c.children.length-1:0,t,r,i)}}}if(o&St.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&St.IgnoreOverlays)&&(i=Eu.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:l}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?l>=o:l>o))return new hr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function Q0(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function rd(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class D_{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Ln extends s1{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new Ln(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&St.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Ln(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ln(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ln(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new Dt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function l1(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof hr&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new P_(i,t)}class P_{constructor(e,t){this.heads=e,this.node=t}get next(){return l1(this.heads)}}function R_(n,e,t){let r=n.resolveInner(e,t),i=null;for(let o=r instanceof hr?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,t)),o=s}else{let s=Eu.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let l=new hr(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(_l(l,e,t,!1))}}return i?l1(i):r}class nd{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof hr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof hr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&St.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&St.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&St.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let l=r._tree.children[o];if(this.mode&St.IncludeAnonymous||l instanceof Hn||!l.type.isAnonymous||tp(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new Ln(this.buffer,t,this.stack[i]);return this.bufferNode=new Ln(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return rd(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return rd(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function tp(n){return n.children.some(e=>e instanceof Hn||!e.type.isAnonymous||tp(e))}function L_(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=w_,reused:o=[],minRepeatType:s=r.types.length}=n,l=Array.isArray(t)?new ep(t,t.length):t,a=r.types,u=0,c=0;function h(_,b,C,O,D,M){let{id:j,start:k,end:V,size:se}=l,ie=c,fe=u;for(;se<0;)if(l.next(),se==-1){let Z=o[j];C.push(Z),O.push(k-_);return}else if(se==-3){u=j;return}else if(se==-4){c=j;return}else throw new RangeError(`Unrecognized record size: ${se}`);let Ee=a[j],me,ee,X=k-_;if(V-k<=i&&(ee=m(l.pos-b,D))){let Z=new Uint16Array(ee.size-ee.skip),le=l.pos-ee.size,E=Z.length;for(;l.pos>le;)E=y(ee.start,Z,E);me=new Hn(Z,V-ee.start,r),X=ee.start-_}else{let Z=l.pos-se;l.next();let le=[],E=[],A=j>=s?j:-1,T=0,N=V;for(;l.pos>Z;)A>=0&&l.id==A&&l.size>=0?(l.end<=N-i&&(p(le,E,k,T,l.end,N,A,ie,fe),T=le.length,N=l.end),l.next()):M>2500?f(k,Z,le,E):h(k,Z,le,E,A,M+1);if(A>=0&&T>0&&T<le.length&&p(le,E,k,T,k,N,A,ie,fe),le.reverse(),E.reverse(),A>-1&&T>0){let R=d(Ee,fe);me=rp(Ee,le,E,0,le.length,0,V-k,R,R)}else me=v(Ee,le,E,V-k,ie-V,fe)}C.push(me),O.push(X)}function f(_,b,C,O){let D=[],M=0,j=-1;for(;l.pos>b;){let{id:k,start:V,end:se,size:ie}=l;if(ie>4)l.next();else{if(j>-1&&V<j)break;j<0&&(j=se-i),D.push(k,V,se),M++,l.next()}}if(M){let k=new Uint16Array(M*4),V=D[D.length-2];for(let se=D.length-3,ie=0;se>=0;se-=3)k[ie++]=D[se],k[ie++]=D[se+1]-V,k[ie++]=D[se+2]-V,k[ie++]=ie;C.push(new Hn(k,D[2]-V,r)),O.push(V-_)}}function d(_,b){return(C,O,D)=>{let M=0,j=C.length-1,k,V;if(j>=0&&(k=C[j])instanceof Dt){if(!j&&k.type==_&&k.length==D)return k;(V=k.prop(Le.lookAhead))&&(M=O[j]+k.length+V)}return v(_,C,O,D,M,b)}}function p(_,b,C,O,D,M,j,k,V){let se=[],ie=[];for(;_.length>O;)se.push(_.pop()),ie.push(b.pop()+C-D);_.push(v(r.types[j],se,ie,M-D,k-M,V)),b.push(D-C)}function v(_,b,C,O,D,M,j){if(M){let k=[Le.contextHash,M];j=j?[k].concat(j):[k]}if(D>25){let k=[Le.lookAhead,D];j=j?[k].concat(j):[k]}return new Dt(_,b,C,O,j)}function m(_,b){let C=l.fork(),O=0,D=0,M=0,j=C.end-i,k={size:0,start:0,skip:0};e:for(let V=C.pos-_;C.pos>V;){let se=C.size;if(C.id==b&&se>=0){k.size=O,k.start=D,k.skip=M,M+=4,O+=4,C.next();continue}let ie=C.pos-se;if(se<0||ie<V||C.start<j)break;let fe=C.id>=s?4:0,Ee=C.start;for(C.next();C.pos>ie;){if(C.size<0)if(C.size==-3)fe+=4;else break e;else C.id>=s&&(fe+=4);C.next()}D=Ee,O+=se,M+=fe}return(b<0||O==_)&&(k.size=O,k.start=D,k.skip=M),k.size>4?k:void 0}function y(_,b,C){let{id:O,start:D,end:M,size:j}=l;if(l.next(),j>=0&&O<s){let k=C;if(j>4){let V=l.pos-(j-4);for(;l.pos>V;)C=y(_,b,C)}b[--C]=k,b[--C]=M-_,b[--C]=D-_,b[--C]=O}else j==-3?u=O:j==-4&&(c=O);return C}let g=[],x=[];for(;l.pos>0;)h(n.start||0,n.bufferStart||0,g,x,-1,0);let S=(e=n.length)!==null&&e!==void 0?e:g.length?x[0]+g[0].length:0;return new Dt(a[n.topID],g.reverse(),x.reverse(),S)}const Z0=new WeakMap;function lu(n,e){if(!n.isAnonymous||e instanceof Hn||e.type!=n)return 1;let t=Z0.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Dt)){t=1;break}t+=lu(n,r)}Z0.set(e,t)}return t}function rp(n,e,t,r,i,o,s,l,a){let u=0;for(let p=r;p<i;p++)u+=lu(n,e[p]);let c=Math.ceil(u*1.5/8),h=[],f=[];function d(p,v,m,y,g){for(let x=m;x<y;){let S=x,_=v[x],b=lu(n,p[x]);for(x++;x<y;x++){let C=lu(n,p[x]);if(b+C>=c)break;b+=C}if(x==S+1){if(b>c){let C=p[S];d(C.children,C.positions,0,C.children.length,v[S]+g);continue}h.push(p[S])}else{let C=v[x-1]+p[x-1].length-_;h.push(rp(n,p,v,S,x,_,C,null,a))}f.push(_+g-o)}}return d(e,t,r,i,0),(l||a)(h,f,s)}class ui{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new ui(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,u=0;;l++){let c=l<t.length?t[l]:null,h=c?c.fromA:1e9;if(h-a>=r)for(;s&&s.from<h;){let f=s;if(a>=f.from||h<=f.to||u){let d=Math.max(f.from,a)-u,p=Math.min(f.to,h)-u;f=d>=p?null:new ui(d,p,f.tree,f.offset+u,l>0,!!c)}if(f&&i.push(f),s.to>h)break;s=o<e.length?e[o++]:null}if(!c)break;a=c.toA,u=c.toA-c.toB}return i}}let k_=class{startParse(e,t,r){return typeof e=="string"&&(e=new I_(e)),r=r?r.length?r.map(i=>new yh(i.from,i.to)):[new yh(0,0)]:[new yh(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}};class I_{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Le({perNode:!0});let F_=0;class lr{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=F_++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof lr&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new lr(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new Cu(e);return r=>r.modified.indexOf(t)>-1?r:Cu.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}}let M_=0;class Cu{constructor(e){this.name=e,this.instances=[],this.id=M_++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(l=>l.base==e&&B_(t,l.modified));if(r)return r;let i=[],o=new lr(e.name,i,e,t);for(let l of t)l.instances.push(o);let s=j_(t);for(let l of e.set)if(!l.modified.length)for(let a of s)i.push(Cu.get(l,a));return o}}function B_(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function j_(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function $_(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],s=2,l=i;for(let h=0;;){if(l=="..."&&h>0&&h+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);l=i.slice(h)}let a=o.length-1,u=o[a];if(!u)throw new RangeError("Invalid path: "+i);let c=new wu(r,s,a>0?o.slice(0,a):null);e[u]=c.sort(e[u])}}return a1.add(e)}const a1=new Le;class wu{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}wu.empty=new wu([],2,null);function u1(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let l of o)for(let a of l.set){let u=t[a.id];if(u){s=s?s+" "+u:u;break}}return s},scope:r}}function H_(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function z_(n,e,t,r=0,i=n.length){let o=new q_(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}class q_{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:l,to:a}=e;if(l>=r||a<=t)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let u=i,c=U_(e)||wu.empty,h=H_(o,c.tags);if(h&&(u&&(u+=" "),u+=h,c.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(t,l),u),c.opaque)return;let f=e.tree&&e.tree.prop(Le.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+l,1),p=this.highlighters.filter(m=>!m.scope||m.scope(f.tree.type)),v=e.firstChild();for(let m=0,y=l;;m++){let g=m<f.overlay.length?f.overlay[m]:null,x=g?g.from+l:a,S=Math.max(t,y),_=Math.min(r,x);if(S<_&&v)for(;e.from<_&&(this.highlightRange(e,S,_,i,o),this.startSpan(Math.min(_,e.to),u),!(e.to>=x||!e.nextSibling())););if(!g||x>r)break;y=g.to+l,y>t&&(this.highlightRange(d.cursor(),Math.max(t,g.from+l),Math.min(r,y),"",p),this.startSpan(Math.min(r,y),u))}v&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function U_(n){let e=n.type.prop(a1);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ue=lr.define,Fa=ue(),En=ue(),em=ue(En),tm=ue(En),Cn=ue(),Ma=ue(Cn),vh=ue(Cn),Pr=ue(),Zn=ue(Pr),Nr=ue(),Dr=ue(),id=ue(),Zo=ue(id),Ba=ue(),ce={comment:Fa,lineComment:ue(Fa),blockComment:ue(Fa),docComment:ue(Fa),name:En,variableName:ue(En),typeName:em,tagName:ue(em),propertyName:tm,attributeName:ue(tm),className:ue(En),labelName:ue(En),namespace:ue(En),macroName:ue(En),literal:Cn,string:Ma,docString:ue(Ma),character:ue(Ma),attributeValue:ue(Ma),number:vh,integer:ue(vh),float:ue(vh),bool:ue(Cn),regexp:ue(Cn),escape:ue(Cn),color:ue(Cn),url:ue(Cn),keyword:Nr,self:ue(Nr),null:ue(Nr),atom:ue(Nr),unit:ue(Nr),modifier:ue(Nr),operatorKeyword:ue(Nr),controlKeyword:ue(Nr),definitionKeyword:ue(Nr),moduleKeyword:ue(Nr),operator:Dr,derefOperator:ue(Dr),arithmeticOperator:ue(Dr),logicOperator:ue(Dr),bitwiseOperator:ue(Dr),compareOperator:ue(Dr),updateOperator:ue(Dr),definitionOperator:ue(Dr),typeOperator:ue(Dr),controlOperator:ue(Dr),punctuation:id,separator:ue(id),bracket:Zo,angleBracket:ue(Zo),squareBracket:ue(Zo),paren:ue(Zo),brace:ue(Zo),content:Pr,heading:Zn,heading1:ue(Zn),heading2:ue(Zn),heading3:ue(Zn),heading4:ue(Zn),heading5:ue(Zn),heading6:ue(Zn),contentSeparator:ue(Pr),list:ue(Pr),quote:ue(Pr),emphasis:ue(Pr),strong:ue(Pr),link:ue(Pr),monospace:ue(Pr),strikethrough:ue(Pr),inserted:ue(),deleted:ue(),changed:ue(),invalid:ue(),meta:Ba,documentMeta:ue(Ba),annotation:ue(Ba),processingInstruction:ue(Ba),definition:lr.defineModifier("definition"),constant:lr.defineModifier("constant"),function:lr.defineModifier("function"),standard:lr.defineModifier("standard"),local:lr.defineModifier("local"),special:lr.defineModifier("special")};for(let n in ce){let e=ce[n];e instanceof lr&&(e.name=n)}u1([{tag:ce.link,class:"tok-link"},{tag:ce.heading,class:"tok-heading"},{tag:ce.emphasis,class:"tok-emphasis"},{tag:ce.strong,class:"tok-strong"},{tag:ce.keyword,class:"tok-keyword"},{tag:ce.atom,class:"tok-atom"},{tag:ce.bool,class:"tok-bool"},{tag:ce.url,class:"tok-url"},{tag:ce.labelName,class:"tok-labelName"},{tag:ce.inserted,class:"tok-inserted"},{tag:ce.deleted,class:"tok-deleted"},{tag:ce.literal,class:"tok-literal"},{tag:ce.string,class:"tok-string"},{tag:ce.number,class:"tok-number"},{tag:[ce.regexp,ce.escape,ce.special(ce.string)],class:"tok-string2"},{tag:ce.variableName,class:"tok-variableName"},{tag:ce.local(ce.variableName),class:"tok-variableName tok-local"},{tag:ce.definition(ce.variableName),class:"tok-variableName tok-definition"},{tag:ce.special(ce.variableName),class:"tok-variableName2"},{tag:ce.definition(ce.propertyName),class:"tok-propertyName tok-definition"},{tag:ce.typeName,class:"tok-typeName"},{tag:ce.namespace,class:"tok-namespace"},{tag:ce.className,class:"tok-className"},{tag:ce.macroName,class:"tok-macroName"},{tag:ce.propertyName,class:"tok-propertyName"},{tag:ce.operator,class:"tok-operator"},{tag:ce.comment,class:"tok-comment"},{tag:ce.meta,class:"tok-meta"},{tag:ce.invalid,class:"tok-invalid"},{tag:ce.punctuation,class:"tok-punctuation"}]);var Sh;const nl=new Le,V_=new Le;class Mr{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Me.prototype.hasOwnProperty("tree")||Object.defineProperty(Me.prototype,"tree",{get(){return Pt(this)}}),this.parser=t,this.extension=[zn.of(this),Me.languageData.of((o,s,l)=>{let a=rm(o,s,l),u=a.type.prop(nl);if(!u)return[];let c=o.facet(u),h=a.type.prop(V_);if(h){let f=a.resolve(s-a.from,l);for(let d of h)if(d.test(f,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,t,r=-1){return rm(e,t,r).type.prop(nl)==this.data}findRegions(e){let t=e.facet(zn);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(nl)==this.data){r.push({from:s,to:s+o.length});return}let l=o.prop(Le.mounted);if(l){if(l.tree.prop(nl)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+s,to:a.to+s});else r.push({from:s,to:s+o.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+s),r.length>a)return}}for(let a=0;a<o.children.length;a++){let u=o.children[a];u instanceof Dt&&i(u,o.positions[a]+s)}};return i(Pt(e),0),r}get allowsNesting(){return!0}}Mr.setState=Oe.define();function rm(n,e,t){let r=n.facet(zn),i=Pt(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,St.ExcludeBuffers))o.type.isTop&&(i=o);return i}function Pt(n){let e=n.field(Mr.state,!1);return e?e.tree:Dt.empty}class W_{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let es=null;class Ou{constructor(e,t,r=[],i,o,s,l,a){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ou(e,t,[],Dt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new W_(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Dt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ui.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ui.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=es;es=this;try{return e()}finally{es=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=nm(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((u,c,h,f)=>a.push({fromA:u,toA:c,fromB:h,toB:f})),r=ui.applyChanges(r,a),i=Dt.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),h=e.mapPos(u.to,-1);c<h&&l.push({from:c,to:h})}}}return new Ou(this.parser,t,r,i,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=nm(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends k_{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let a=es;if(a){for(let u of i)a.tempSkipped.push(u);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new Dt(pr.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return es}}function nm(n,e,t){return ui.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class vo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new vo(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ou.create(e.facet(zn).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new vo(r)}}Mr.state=ft.define({create:vo.init,update(n,e){for(let t of e.effects)if(t.is(Mr.setState))return t.value;return e.startState.facet(zn)!=e.state.facet(zn)?vo.init(e.state):n.apply(e)}});let c1=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(c1=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const bh=typeof navigator<"u"&&(!((Sh=navigator.scheduling)===null||Sh===void 0)&&Sh.isInputPending)?()=>navigator.scheduling.isInputPending():null,K_=nt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Mr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Mr.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=c1(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Mr.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!bh?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<i&&r.doc.length>i+1e3,a=o.context.work(()=>bh&&bh()||Date.now()>s,i+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Mr.setState.of(new vo(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ft(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),zn=he.define({combine(n){return n.length?n[0]:null},enables:n=>[Mr.state,K_,de.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),G_=he.define(),np=he.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Nu(n){let e=n.facet(np);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Tl(n,e){let t="",r=n.tabSize,i=n.facet(np)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function ip(n,e){n instanceof Me&&(n=new rc(n));for(let r of n.state.facet(G_)){let i=r(n,e);if(i!==void 0)return i}let t=Pt(n.state);return t.length>=e?Y_(n,t,e):null}class rc{constructor(e,t={}){this.state=e,this.options=t,this.unit=Nu(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return Po(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const X_=new Le;function Y_(n,e,t){let r=e.resolveStack(t),i=r.node.enterUnfinishedNodesBefore(t);if(i!=r.node){let o=[];for(let s=i;s!=r.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return h1(r,n,t)}function h1(n,e,t){for(let r=n;r;r=r.next){let i=Q_(r.node);if(i)return i(op.create(e,t,r))}return 0}function J_(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Q_(n){let e=n.type.prop(X_);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Le.closedBy))){let i=n.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>rT(s,!0,1,void 0,o&&!J_(s)?i.from:void 0)}return n.parent==null?Z_:null}function Z_(){return 0}class op extends rc{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new op(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(eT(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return h1(this.context.next,this.base,this.pos)}}function eT(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function tT(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped){if(a.from>=s)return null;let u=/^ */.exec(o.text.slice(t.to-o.from))[0].length;return{from:t.from,to:t.to+u}}l=a.to}}function rT(n,e,t,r,i){let o=n.textAfter,s=o.match(/^\s*/)[0].length,l=i==n.pos+s,a=tT(n);return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}const nT=200;function iT(){return Me.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+nT)return n;let o=t.sliceString(i.from,r);if(!e.some(u=>u.test(o)))return n;let{state:s}=n,l=-1,a=[];for(let{head:u}of s.selection.ranges){let c=s.doc.lineAt(u);if(c.from==l)continue;l=c.from;let h=ip(s,c.from);if(h==null)continue;let f=/^\s*/.exec(c.text)[0],d=Tl(s,h);f!=d&&a.push({from:c.from,to:c.from+f.length,insert:d})}return a.length?[n,{changes:a,sequential:!0}]:n})}const oT=he.define(),sT=new Le;function lT(n,e,t){let r=Pt(n);if(r.length<t)return null;let i=r.resolveStack(t,1),o=null;for(let s=i;s;s=s.next){let l=s.node;if(l.to<=t||l.from>t)continue;if(o&&l.from<e)break;let a=l.type.prop(sT);if(a&&(l.to<r.length-50||r.length==n.doc.length||!aT(l))){let u=a(l,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(o=u)}}return o}function aT(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Du(n,e,t){for(let r of n.facet(oT)){let i=r(n,e,t);if(i)return i}return lT(n,e,t)}function f1(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const nc=Oe.define({map:f1}),Bl=Oe.define({map:f1});function d1(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const gi=ft.define({create(){return Ae.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(nc)&&!uT(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(g1),i=r?Ae.replace({widget:new gT(r(e.state,t.value))}):im;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(Bl)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>de.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(im.range(r,i))}return Ae.set(e,!0)}});function Pu(n,e,t){var r;let i=null;return(r=n.field(gi,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function uT(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function p1(n,e){return n.field(gi,!1)?e:e.concat(Oe.appendConfig.of(x1()))}const cT=n=>{for(let e of d1(n)){let t=Du(n.state,e.from,e.to);if(t)return n.dispatch({effects:p1(n.state,[nc.of(t),m1(n,t)])}),!0}return!1},hT=n=>{if(!n.state.field(gi,!1))return!1;let e=[];for(let t of d1(n)){let r=Pu(n.state,t.from,t.to);r&&e.push(Bl.of(r),m1(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function m1(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return de.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const fT=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=Du(e,i.from,i.to);o&&t.push(nc.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:p1(n.state,t)}),!!t.length},dT=n=>{let e=n.state.field(gi,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(Bl.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},pT=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:cT},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:hT},{key:"Ctrl-Alt-[",run:fT},{key:"Ctrl-Alt-]",run:dT}],mT={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},g1=he.define({combine(n){return vr(n,mT)}});function x1(n){return[gi,vT]}function y1(n,e){let{state:t}=n,r=t.facet(g1),i=s=>{let l=n.lineBlockAt(n.posAtDOM(s.target)),a=Pu(n.state,l.from,l.to);a&&n.dispatch({effects:Bl.of(a)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const im=Ae.replace({widget:new class extends Un{toDOM(n){return y1(n,null)}}});class gT extends Un{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return y1(e,this.value)}}const xT={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ah extends zr{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function yT(n={}){let e=Object.assign(Object.assign({},xT),n),t=new Ah(e,!0),r=new Ah(e,!1),i=nt.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(zn)!=s.state.facet(zn)||s.startState.field(gi,!1)!=s.state.field(gi,!1)||Pt(s.startState)!=Pt(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let l=new Mn;for(let a of s.viewportLineBlocks){let u=Pu(s.state,a.from,a.to)?r:Du(s.state,a.from,a.to)?t:null;u&&l.add(a.from,a.from,u)}return l.finish()}}),{domEventHandlers:o}=e;return[i,Wy({class:"cm-foldGutter",markers(s){var l;return((l=s.plugin(i))===null||l===void 0?void 0:l.markers)||Re.empty},initialSpacer(){return new Ah(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,l,a)=>{if(o.click&&o.click(s,l,a))return!0;let u=Pu(s.state,l.from,l.to);if(u)return s.dispatch({effects:Bl.of(u)}),!0;let c=Du(s.state,l.from,l.to);return c?(s.dispatch({effects:nc.of(c)}),!0):!1}})}),x1()]}const vT=de.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ic{constructor(e,t){this.specs=e;let r;function i(l){let a=Bn.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof Mr?l=>l.prop(nl)==s.data:s?l=>l==s:void 0,this.style=u1(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=r?new Bn(r):null,this.themeType=t.themeType}static define(e,t){return new ic(e,t||{})}}const od=he.define(),v1=he.define({combine(n){return n.length?[n[0]]:null}});function _h(n){let e=n.facet(od);return e.length?e:n.facet(v1)}function ST(n,e){let t=[AT],r;return n instanceof ic&&(n.module&&t.push(de.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(v1.of(n)):r?t.push(od.computeN([de.darkTheme],i=>i.facet(de.darkTheme)==(r=="dark")?[n]:[])):t.push(od.of(n)),t}class bT{constructor(e){this.markCache=Object.create(null),this.tree=Pt(e.state),this.decorations=this.buildDeco(e,_h(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Pt(e.state),r=_h(e.state),i=r!=_h(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ae.none;let r=new Mn;for(let{from:i,to:o}of e.visibleRanges)z_(this.tree,t,(s,l,a)=>{r.add(s,l,this.markCache[a]||(this.markCache[a]=Ae.mark({class:a})))},i,o);return r.finish()}}const AT=Li.high(nt.fromClass(bT,{decorations:n=>n.decorations})),_T=ic.define([{tag:ce.meta,color:"#404740"},{tag:ce.link,textDecoration:"underline"},{tag:ce.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ce.emphasis,fontStyle:"italic"},{tag:ce.strong,fontWeight:"bold"},{tag:ce.strikethrough,textDecoration:"line-through"},{tag:ce.keyword,color:"#708"},{tag:[ce.atom,ce.bool,ce.url,ce.contentSeparator,ce.labelName],color:"#219"},{tag:[ce.literal,ce.inserted],color:"#164"},{tag:[ce.string,ce.deleted],color:"#a11"},{tag:[ce.regexp,ce.escape,ce.special(ce.string)],color:"#e40"},{tag:ce.definition(ce.variableName),color:"#00f"},{tag:ce.local(ce.variableName),color:"#30a"},{tag:[ce.typeName,ce.namespace],color:"#085"},{tag:ce.className,color:"#167"},{tag:[ce.special(ce.variableName),ce.macroName],color:"#256"},{tag:ce.definition(ce.propertyName),color:"#00c"},{tag:ce.comment,color:"#940"},{tag:ce.invalid,color:"#f00"}]),TT=de.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),S1=1e4,b1="()[]{}",A1=he.define({combine(n){return vr(n,{afterCursor:!0,brackets:b1,maxScanDistance:S1,renderMatch:wT})}}),ET=Ae.mark({class:"cm-matchingBracket"}),CT=Ae.mark({class:"cm-nonmatchingBracket"});function wT(n){let e=[],t=n.matched?ET:CT;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const OT=ft.define({create(){return Ae.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(A1);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Br(e.state,i.head,-1,r)||i.head>0&&Br(e.state,i.head-1,1,r)||r.afterCursor&&(Br(e.state,i.head,1,r)||i.head<e.state.doc.length&&Br(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return Ae.set(t,!0)},provide:n=>de.decorations.from(n)}),NT=[OT,TT];function DT(n={}){return[A1.of(n),NT]}const PT=new Le;function sd(n,e,t){let r=n.prop(e<0?Le.openedBy:Le.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function ld(n){let e=n.type.prop(PT);return e?e(n.node):n}function Br(n,e,t,r={}){let i=r.maxScanDistance||S1,o=r.brackets||b1,s=Pt(n),l=s.resolveInner(e,t);for(let a=l;a;a=a.parent){let u=sd(a.type,t,o);if(u&&a.from<a.to){let c=ld(a);if(c&&(t>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return RT(n,e,t,a,c,u,o)}}return LT(n,e,t,s,l.type,i,o)}function RT(n,e,t,r,i,o,s){let l=r.parent,a={from:i.from,to:i.to},u=0,c=l==null?void 0:l.cursor();if(c&&(t<0?c.childBefore(r.from):c.childAfter(r.to)))do if(t<0?c.to<=r.from:c.from>=r.to){if(u==0&&o.indexOf(c.type.name)>-1&&c.from<c.to){let h=ld(c);return{start:a,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(sd(c.type,t,s))u++;else if(sd(c.type,-t,s)){if(u==0){let h=ld(c);return{start:a,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(t<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function LT(n,e,t,r,i,o,s){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},c=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let f=0;!c.next().done&&f<=o;){let d=c.value;t<0&&(f+=d.length);let p=e+f*t;for(let v=t>0?0:d.length-1,m=t>0?d.length:-1;v!=m;v+=t){let y=s.indexOf(d[v]);if(!(y<0||r.resolveInner(p+v,1).type!=i))if(y%2==0==t>0)h++;else{if(h==1)return{start:u,end:{from:p+v,to:p+v+1},matched:y>>1==a>>1};h--}}t>0&&(f+=d.length)}return c.done?{start:u,matched:!1}:null}const kT=Object.create(null),om=[pr.none],sm=[],lm=Object.create(null),IT=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])IT[n]=FT(kT,e);function Th(n,e){sm.indexOf(n)>-1||(sm.push(n),console.warn(e))}function FT(n,e){let t=[];for(let l of e.split(" ")){let a=[];for(let u of l.split(".")){let c=n[u]||ce[u];c?typeof c=="function"?a.length?a=a.map(c):Th(u,`Modifier ${u} used at start of tag`):a.length?Th(u,`Tag ${u} used as modifier`):a=Array.isArray(c)?c:[c]:Th(u,`Unknown highlighting tag ${u}`)}for(let u of a)t.push(u)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(l=>l.id),o=lm[i];if(o)return o.id;let s=lm[i]=pr.define({id:om.length,name:r,props:[$_({[r]:t})]});return om.push(s),s.id}Ge.RTL,Ge.LTR;const MT=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=lp(n.state,t.from);return r.line?BT(n):r.block?$T(n):!1};function sp(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const BT=sp(qT,0),jT=sp(_1,0),$T=sp((n,e)=>_1(n,e,zT(e)),0);function lp(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const ts=50;function HT(n,{open:e,close:t},r,i){let o=n.sliceDoc(r-ts,r),s=n.sliceDoc(i,i+ts),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,u=o.length-l;if(o.slice(u-e.length,u)==e&&s.slice(a,a+t.length)==t)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let c,h;i-r<=2*ts?c=h=n.sliceDoc(r,i):(c=n.sliceDoc(r,r+ts),h=n.sliceDoc(i-ts,i));let f=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-t.length;return c.slice(f,f+e.length)==e&&h.slice(p,p+t.length)==t?{open:{pos:r+f+e.length,margin:/\s/.test(c.charAt(f+e.length))?1:0},close:{pos:i-d-t.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function zT(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function _1(n,e,t=e.selection.ranges){let r=t.map(o=>lp(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>HT(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s=0,l;s<i.length;s++)if(l=i[s]){let a=r[s],{open:u,close:c}=l;o.push({from:u.pos-a.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+a.close.length})}return{changes:o}}return null}function qT(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let l=r.length,a=1e9,u=lp(e,o).line;if(u){for(let c=o;c<=s;){let h=e.doc.lineAt(c);if(h.from>i&&(o==s||s>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+u.length)==u?f:-1;f<h.text.length&&f<a&&(a=f),r.push({line:h,comment:p,token:u,indent:f,empty:d,single:!1})}c=h.to+1}if(a<1e9)for(let c=l;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=a);r.length==l+1&&(r[l].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:u,empty:c,single:h}of r)(h||!c)&&o.push({from:l.from+u,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of r)if(l>=0){let u=s.from+l,c=u+a.length;s.text[c-s.from]==" "&&c++,o.push({from:u,to:c})}return{changes:o}}return null}const ad=fn.define(),UT=fn.define(),VT=he.define(),T1=he.define({combine(n){return vr(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),E1=ft.define({create(){return jr.empty},update(n,e){let t=e.state.facet(T1),r=e.annotation(ad);if(r){let a=Vt.fromTransaction(e,r.selection),u=r.side,c=u==0?n.undone:n.done;return a?c=Ru(c,c.length,t.minDepth,a):c=O1(c,e.startState.selection),new jr(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(UT);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(ct.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=Vt.fromTransaction(e),s=e.annotation(ct.time),l=e.annotation(ct.userEvent);return o?n=n.addChanges(o,s,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,l,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new jr(n.done.map(Vt.fromJSON),n.undone.map(Vt.fromJSON))}});function WT(n={}){return[E1,T1.of(n),de.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?C1:e.inputType=="historyRedo"?ud:null;return r?(e.preventDefault(),r(t)):!1}})]}function oc(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(E1,!1);if(!i)return!1;let o=i.pop(n,t,e);return o?(r(o),!0):!1}}const C1=oc(0,!1),ud=oc(1,!1),KT=oc(0,!0),GT=oc(1,!0);class Vt{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new Vt(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Vt(e.changes&&at.fromJSON(e.changes),[],e.mapped&&$r.fromJSON(e.mapped),e.startSelection&&re.fromJSON(e.startSelection),e.selectionsAfter.map(re.fromJSON))}static fromTransaction(e,t){let r=ur;for(let i of e.startState.facet(VT)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new Vt(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,ur)}static selection(e){return new Vt(void 0,ur,void 0,void 0,e)}}function Ru(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function XT(n,e){let t=[],r=!1;return n.iterChangedRanges((i,o)=>t.push(i,o)),e.iterChangedRanges((i,o,s,l)=>{for(let a=0;a<t.length;){let u=t[a++],c=t[a++];l>=u&&s<=c&&(r=!0)}}),r}function YT(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function w1(n,e){return n.length?e.length?n.concat(e):n:e}const ur=[],JT=200;function O1(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-JT));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Ru(n,n.length-1,1e9,t.setSelAfter(r)))}else return[Vt.selection([e])]}function QT(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Eh(n,e){if(!n.length)return n;let t=n.length,r=ur;for(;t;){let i=ZT(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[Vt.selection(r)]:ur}function ZT(n,e,t){let r=w1(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):ur,t);if(!n.changes)return Vt.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new Vt(i,Oe.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}const eE=/^(input\.type|delete)($|\.)/;class jr{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new jr(this.done,this.undone):this}addChanges(e,t,r,i,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||eE.test(r))&&(!l.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,XT(l.changes,e.changes))||r=="input.type.compose")?s=Ru(s,s.length-1,i.minDepth,new Vt(e.changes.compose(l.changes),w1(Oe.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,ur)):s=Ru(s,s.length,i.minDepth,e),new jr(s,ur,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:ur;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&YT(o[o.length-1],e)?this:new jr(O1(this.done,e),this.undone,t,r)}addMapping(e){return new jr(Eh(this.done,e),Eh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||t.selection;if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:ad.of({side:e,rest:QT(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let l=i.length==1?ur:i.slice(0,i.length-1);return o.mapped&&(l=Eh(l,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:ad.of({side:e,rest:l,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}jr.empty=new jr(ur,ur);const tE=[{key:"Mod-z",run:C1,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ud,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ud,preventDefault:!0},{key:"Mod-u",run:KT,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:GT,preventDefault:!0}];function Ro(n,e){return re.create(n.ranges.map(e),n.mainIndex)}function Ur(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Sr({state:n,dispatch:e},t){let r=Ro(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Ur(n,r)),!0)}function sc(n,e){return re.cursor(e?n.to:n.from)}function N1(n,e){return Sr(n,t=>t.empty?n.moveByChar(t,e):sc(t,e))}function Rt(n){return n.textDirectionAt(n.state.selection.main.head)==Ge.LTR}const D1=n=>N1(n,!Rt(n)),P1=n=>N1(n,Rt(n));function R1(n,e){return Sr(n,t=>t.empty?n.moveByGroup(t,e):sc(t,e))}const rE=n=>R1(n,!Rt(n)),nE=n=>R1(n,Rt(n));function iE(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function lc(n,e,t){let r=Pt(n).resolveInner(e.head),i=t?Le.closedBy:Le.openedBy;for(let a=e.head;;){let u=t?r.childAfter(a):r.childBefore(a);if(!u)break;iE(n,u,i)?r=u:a=t?u.to:u.from}let o=r.type.prop(i),s,l;return o&&(s=t?Br(n,r.from,1):Br(n,r.to,-1))&&s.matched?l=t?s.end.to:s.end.from:l=t?r.to:r.from,re.cursor(l,t?-1:1)}const oE=n=>Sr(n,e=>lc(n.state,e,!Rt(n))),sE=n=>Sr(n,e=>lc(n.state,e,Rt(n)));function L1(n,e){return Sr(n,t=>{if(!t.empty)return sc(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const k1=n=>L1(n,!1),I1=n=>L1(n,!0);function F1(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let o of n.state.facet(de.scrollMargins)){let s=o(n);s!=null&&s.top&&(t=Math.max(s==null?void 0:s.top,t)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function M1(n,e){let t=F1(n),{state:r}=n,i=Ro(r.selection,s=>s.empty?n.moveVertically(s,e,t.height):sc(s,e));if(i.eq(r.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(r.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),a=l.top+t.marginTop,u=l.bottom-t.marginBottom;s&&s.top>a&&s.bottom<u&&(o=de.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-a}))}return n.dispatch(Ur(r,i),{effects:o}),!0}const am=n=>M1(n,!1),cd=n=>M1(n,!0);function Vn(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=re.cursor(r.from+o))}return i}const lE=n=>Sr(n,e=>Vn(n,e,!0)),aE=n=>Sr(n,e=>Vn(n,e,!1)),uE=n=>Sr(n,e=>Vn(n,e,!Rt(n))),cE=n=>Sr(n,e=>Vn(n,e,Rt(n))),hE=n=>Sr(n,e=>re.cursor(n.lineBlockAt(e.head).from,1)),fE=n=>Sr(n,e=>re.cursor(n.lineBlockAt(e.head).to,-1));function dE(n,e,t){let r=!1,i=Ro(n.selection,o=>{let s=Br(n,o.head,-1)||Br(n,o.head,1)||o.head>0&&Br(n,o.head-1,1)||o.head<n.doc.length&&Br(n,o.head+1,-1);if(!s||!s.end)return o;r=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return re.cursor(l)});return r?(e(Ur(n,i)),!0):!1}const pE=({state:n,dispatch:e})=>dE(n,e);function mr(n,e){let t=Ro(n.state.selection,r=>{let i=e(r);return re.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Ur(n.state,t)),!0)}function B1(n,e){return mr(n,t=>n.moveByChar(t,e))}const j1=n=>B1(n,!Rt(n)),$1=n=>B1(n,Rt(n));function H1(n,e){return mr(n,t=>n.moveByGroup(t,e))}const mE=n=>H1(n,!Rt(n)),gE=n=>H1(n,Rt(n)),xE=n=>mr(n,e=>lc(n.state,e,!Rt(n))),yE=n=>mr(n,e=>lc(n.state,e,Rt(n)));function z1(n,e){return mr(n,t=>n.moveVertically(t,e))}const q1=n=>z1(n,!1),U1=n=>z1(n,!0);function V1(n,e){return mr(n,t=>n.moveVertically(t,e,F1(n).height))}const um=n=>V1(n,!1),cm=n=>V1(n,!0),vE=n=>mr(n,e=>Vn(n,e,!0)),SE=n=>mr(n,e=>Vn(n,e,!1)),bE=n=>mr(n,e=>Vn(n,e,!Rt(n))),AE=n=>mr(n,e=>Vn(n,e,Rt(n))),_E=n=>mr(n,e=>re.cursor(n.lineBlockAt(e.head).from)),TE=n=>mr(n,e=>re.cursor(n.lineBlockAt(e.head).to)),hm=({state:n,dispatch:e})=>(e(Ur(n,{anchor:0})),!0),fm=({state:n,dispatch:e})=>(e(Ur(n,{anchor:n.doc.length})),!0),dm=({state:n,dispatch:e})=>(e(Ur(n,{anchor:n.selection.main.anchor,head:0})),!0),pm=({state:n,dispatch:e})=>(e(Ur(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),EE=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),CE=({state:n,dispatch:e})=>{let t=ac(n).map(({from:r,to:i})=>re.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:re.create(t),userEvent:"select"})),!0},wE=({state:n,dispatch:e})=>{let t=Ro(n.selection,r=>{let i=Pt(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:l}=s;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&s.next)return re.range(l.to,l.from)}return r});return t.eq(n.selection)?!1:(e(Ur(n,t)),!0)},OE=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=re.create([t.main]):t.main.empty||(r=re.create([re.cursor(t.main.head)])),r?(e(Ur(n,r)),!0):!1};function jl(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=e(o);a<s?(t="delete.backward",a=ja(n,a,!1)):a>s&&(t="delete.forward",a=ja(n,a,!0)),s=Math.min(s,a),l=Math.max(l,a)}else s=ja(n,s,!1),l=ja(n,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:re.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?de.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function ja(n,e,t){if(n instanceof de)for(let r of n.state.facet(de.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const W1=(n,e,t)=>jl(n,r=>{let i=r.from,{state:o}=n,s=o.doc.lineAt(i),l,a;if(t&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(l=s.text.slice(0,i-s.from))){if(l[l.length-1]=="	")return i-1;let u=Po(l,o.tabSize),c=u%Nu(o)||Nu(o);for(let h=0;h<c&&l[l.length-1-h]==" ";h++)i--;a=i}else a=At(s.text,i-s.from,e,e)+s.from,a==i&&s.number!=(e?o.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(a-s.from,i-s.from))&&(a=At(s.text,a-s.from,!1,!1)+s.from);return a}),hd=n=>W1(n,!1,!0),K1=n=>W1(n,!0,!1),G1=(n,e)=>jl(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let l=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=At(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),c=s(u);if(l!=null&&c!=l)break;(u!=" "||r!=t.head)&&(l=c),r=a}return r}),X1=n=>G1(n,!1),NE=n=>G1(n,!0),DE=n=>jl(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),PE=n=>jl(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),RE=n=>jl(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),LE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:je.of(["",""])},range:re.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},kE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:At(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:At(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:n.doc.slice(i,l).append(n.doc.slice(s,i))},range:re.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function ac(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function Y1(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of ac(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),l=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let a of o.ranges)i.push(re.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let a of o.ranges)i.push(re.range(a.anchor-l,a.head-l))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:re.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const IE=({state:n,dispatch:e})=>Y1(n,e,!1),FE=({state:n,dispatch:e})=>Y1(n,e,!0);function J1(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of ac(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const ME=({state:n,dispatch:e})=>J1(n,e,!1),BE=({state:n,dispatch:e})=>J1(n,e,!0),jE=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(ac(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Ro(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),l=n.coordsAtPos(i.head,i.assoc||1);l&&(o=s.bottom+n.documentTop-l.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function $E(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Pt(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Le.closedBy))&&o.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const HE=Q1(!1),zE=Q1(!0);function Q1(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,l=e.doc.lineAt(o),a=!n&&o==s&&$E(e,o);n&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let u=new rc(e,{simulateBreak:o,simulateDoubleBreak:!!a}),c=ip(u,o);for(c==null&&(c=Po(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let h=["",Tl(e,c)];return a&&h.push(Tl(e,u.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:je.of(h)},range:re.cursor(o+1+h[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function ap(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let l=n.doc.lineAt(s);l.number>t&&(r.empty||r.to>l.from)&&(e(l,i,r),t=l.number),s=l.to+1}let o=n.changes(i);return{changes:i,range:re.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const qE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new rc(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=ap(n,(o,s,l)=>{let a=ip(r,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let u=/^\s*/.exec(o.text)[0],c=Tl(n,a);(u!=c||l.from<o.from+u.length)&&(t[o.from]=a,s.push({from:o.from,to:o.from+u.length,insert:c}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},UE=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ap(n,(t,r)=>{r.push({from:t.from,insert:n.facet(np)})}),{userEvent:"input.indent"})),!0),VE=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ap(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=Po(i,n.tabSize),s=0,l=Tl(n,Math.max(0,o-Nu(n)));for(;s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),WE=n=>(n.setTabFocusMode(),!0),KE=[{key:"Ctrl-b",run:D1,shift:j1,preventDefault:!0},{key:"Ctrl-f",run:P1,shift:$1},{key:"Ctrl-p",run:k1,shift:q1},{key:"Ctrl-n",run:I1,shift:U1},{key:"Ctrl-a",run:hE,shift:_E},{key:"Ctrl-e",run:fE,shift:TE},{key:"Ctrl-d",run:K1},{key:"Ctrl-h",run:hd},{key:"Ctrl-k",run:DE},{key:"Ctrl-Alt-h",run:X1},{key:"Ctrl-o",run:LE},{key:"Ctrl-t",run:kE},{key:"Ctrl-v",run:cd}],GE=[{key:"ArrowLeft",run:D1,shift:j1,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:rE,shift:mE,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:uE,shift:bE,preventDefault:!0},{key:"ArrowRight",run:P1,shift:$1,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:nE,shift:gE,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cE,shift:AE,preventDefault:!0},{key:"ArrowUp",run:k1,shift:q1,preventDefault:!0},{mac:"Cmd-ArrowUp",run:hm,shift:dm},{mac:"Ctrl-ArrowUp",run:am,shift:um},{key:"ArrowDown",run:I1,shift:U1,preventDefault:!0},{mac:"Cmd-ArrowDown",run:fm,shift:pm},{mac:"Ctrl-ArrowDown",run:cd,shift:cm},{key:"PageUp",run:am,shift:um},{key:"PageDown",run:cd,shift:cm},{key:"Home",run:aE,shift:SE,preventDefault:!0},{key:"Mod-Home",run:hm,shift:dm},{key:"End",run:lE,shift:vE,preventDefault:!0},{key:"Mod-End",run:fm,shift:pm},{key:"Enter",run:HE},{key:"Mod-a",run:EE},{key:"Backspace",run:hd,shift:hd},{key:"Delete",run:K1},{key:"Mod-Backspace",mac:"Alt-Backspace",run:X1},{key:"Mod-Delete",mac:"Alt-Delete",run:NE},{mac:"Mod-Backspace",run:PE},{mac:"Mod-Delete",run:RE}].concat(KE.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),XE=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:oE,shift:xE},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:sE,shift:yE},{key:"Alt-ArrowUp",run:IE},{key:"Shift-Alt-ArrowUp",run:ME},{key:"Alt-ArrowDown",run:FE},{key:"Shift-Alt-ArrowDown",run:BE},{key:"Escape",run:OE},{key:"Mod-Enter",run:zE},{key:"Alt-l",mac:"Ctrl-l",run:CE},{key:"Mod-i",run:wE,preventDefault:!0},{key:"Mod-[",run:VE},{key:"Mod-]",run:UE},{key:"Mod-Alt-\\",run:qE},{key:"Shift-Mod-k",run:jE},{key:"Shift-Mod-\\",run:pE},{key:"Mod-/",run:MT},{key:"Alt-A",run:jT},{key:"Ctrl-m",mac:"Shift-Alt-m",run:WE}].concat(GE),mm=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class So{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?l=>o(mm(l)):mm,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return yt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Bd(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ar(e);let i=this.normalize(t);for(let o=0,s=r;;o++){let l=i.charCodeAt(o),a=this.match(l,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(a)return this.value=a,this;break}s==r&&o<t.length&&t.charCodeAt(o)==l&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],l=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,l=!0)),l||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(So.prototype[Symbol.iterator]=function(){return this});const Z1={from:-1,to:-1,match:/.*/.exec("")},up="gm"+(/x/.unicode==null?"":"u");class ev{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Z1,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new tv(e,t,r,i,o);this.re=new RegExp(t,up+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Lu(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Lu(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Ch=new WeakMap;class uo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=Ch.get(e);if(!i||i.from>=r||i.to<=t){let l=new uo(t,e.sliceString(t,r));return Ch.set(e,l),l}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),Ch.set(e,new uo(s,o)),new uo(t,o.slice(t-s,r-s))}}class tv{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Z1,this.matchPos=Lu(e,i),this.re=new RegExp(t,up+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=uo.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Lu(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=uo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(ev.prototype[Symbol.iterator]=tv.prototype[Symbol.iterator]=function(){return this});function YE(n){try{return new RegExp(n,up),!0}catch{return!1}}function Lu(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function fd(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=We("input",{class:"cm-textfield",name:"line",value:e}),r=We("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:ku.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},We("label",n.state.phrase("Go to line"),": ",t)," ",We("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,l=s.doc.lineAt(s.selection.main.head),[,a,u,c,h]=o,f=c?+c.slice(1):0,d=u?+u:l.number;if(u&&h){let m=d/100;a&&(m=m*(a=="-"?-1:1)+l.number/s.doc.lines),d=Math.round(s.doc.lines*m)}else u&&a&&(d=d*(a=="-"?-1:1)+l.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,d))),v=re.cursor(p.from+Math.max(0,Math.min(f,p.length)));n.dispatch({effects:[ku.of(!1),de.scrollIntoView(v.from,{y:"center"})],selection:v}),n.focus()}return{dom:r}}const ku=Oe.define(),gm=ft.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(ku)&&(n=t.value);return n},provide:n=>bl.from(n,e=>e?fd:null)}),JE=n=>{let e=Sl(n,fd);if(!e){let t=[ku.of(!0)];n.state.field(gm,!1)==null&&t.push(Oe.appendConfig.of([gm,QE])),n.dispatch({effects:t}),e=Sl(n,fd)}return e&&e.dom.querySelector("input").select(),!0},QE=de.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),ZE={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},eC=he.define({combine(n){return vr(n,ZE,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function tC(n){return[sC,oC]}const rC=Ae.mark({class:"cm-selectionMatch"}),nC=Ae.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function xm(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Xe.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Xe.Word)}function iC(n,e,t,r){return n(e.sliceDoc(t,t+1))==Xe.Word&&n(e.sliceDoc(r-1,r))==Xe.Word}const oC=nt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(eC),{state:t}=n,r=t.selection;if(r.ranges.length>1)return Ae.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return Ae.none;let a=t.wordAt(i.head);if(!a)return Ae.none;s=t.charCategorizer(i.head),o=t.sliceDoc(a.from,a.to)}else{let a=i.to-i.from;if(a<e.minSelectionLength||a>200)return Ae.none;if(e.wholeWords){if(o=t.sliceDoc(i.from,i.to),s=t.charCategorizer(i.head),!(xm(s,t,i.from,i.to)&&iC(s,t,i.from,i.to)))return Ae.none}else if(o=t.sliceDoc(i.from,i.to),!o)return Ae.none}let l=[];for(let a of n.visibleRanges){let u=new So(t.doc,o,a.from,a.to);for(;!u.next().done;){let{from:c,to:h}=u.value;if((!s||xm(s,t,c,h))&&(i.empty&&c<=i.from&&h>=i.to?l.push(nC.range(c,h)):(c>=i.to||h<=i.from)&&l.push(rC.range(c,h)),l.length>e.maxMatches))return Ae.none}}return Ae.set(l)}},{decorations:n=>n.decorations}),sC=de.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),lC=({state:n,dispatch:e})=>{let{selection:t}=n,r=re.create(t.ranges.map(i=>n.wordAt(i.head)||re.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function aC(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),o=i&&i.from==t.from&&i.to==t.to;for(let s=!1,l=new So(n.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(s)return null;l=new So(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(a=>a.from==l.value.from))continue;if(o){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const uC=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return lC({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=aC(n,r);return i?(e(n.update({selection:n.selection.addRange(re.range(i.from,i.to),!1),effects:de.scrollIntoView(i.to)})),!0):!1},Lo=he.define({combine(n){return vr(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new bC(e),scrollToMatch:e=>de.scrollIntoView(e)})}});class rv{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||YE(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new dC(this):new hC(this)}getCursor(e,t=0,r){let i=e.doc?e:Me.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Ji(this,i,t,r):Yi(this,i,t,r)}}class nv{constructor(e){this.spec=e}}function Yi(n,e,t,r){return new So(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?cC(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function cC(n,e){return(t,r,i,o)=>((o>t||o+i.length<r)&&(o=Math.max(0,t-2),i=n.sliceString(o,Math.min(n.length,r+2))),(e(Iu(i,t-o))!=Xe.Word||e(Fu(i,t-o))!=Xe.Word)&&(e(Fu(i,r-o))!=Xe.Word||e(Iu(i,r-o))!=Xe.Word))}class hC extends nv{constructor(e){super(e)}nextMatch(e,t,r){let i=Yi(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Yi(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=Yi(this.spec,e,o,i),l=null;for(;!s.nextOverlapping().done;)l=s.value;if(l)return l;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Yi(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Yi(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function Ji(n,e,t,r){return new ev(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?fC(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Iu(n,e){return n.slice(At(n,e,!1),e)}function Fu(n,e){return n.slice(e,At(n,e))}function fC(n){return(e,t,r)=>!r[0].length||(n(Iu(r.input,r.index))!=Xe.Word||n(Fu(r.input,r.index))!=Xe.Word)&&(n(Fu(r.input,r.index+r[0].length))!=Xe.Word||n(Iu(r.input,r.index+r[0].length))!=Xe.Word)}class dC extends nv{nextMatch(e,t,r){let i=Ji(this.spec,e,r,e.doc.length).next();return i.done&&(i=Ji(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-i*1e4),s=Ji(this.spec,e,o,r),l=null;for(;!s.next().done;)l=s.value;if(l&&(o==t||l.from>o+10))return l;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:t)}matchAll(e,t){let r=Ji(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Ji(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const El=Oe.define(),cp=Oe.define(),kn=ft.define({create(n){return new wh(dd(n).create(),null)},update(n,e){for(let t of e.effects)t.is(El)?n=new wh(t.value.create(),n.panel):t.is(cp)&&(n=new wh(n.query,t.value?hp:null));return n},provide:n=>bl.from(n,e=>e.panel)});class wh{constructor(e,t){this.query=e,this.panel=t}}const pC=Ae.mark({class:"cm-searchMatch"}),mC=Ae.mark({class:"cm-searchMatch cm-searchMatch-selected"}),gC=nt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(kn))}update(n){let e=n.state.field(kn);(e!=n.startState.field(kn)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Ae.none;let{view:t}=this,r=new Mn;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:l,to:a}=o[i];for(;i<s-1&&a>o[i+1].from-2*250;)a=o[++i].to;n.highlight(t.state,l,a,(u,c)=>{let h=t.state.selection.ranges.some(f=>f.from==u&&f.to==c);r.add(u,c,h?mC:pC)})}return r.finish()}},{decorations:n=>n.decorations});function $l(n){return e=>{let t=e.state.field(kn,!1);return t&&t.query.spec.valid?n(e,t):sv(e)}}const Mu=$l((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=re.single(r.from,r.to),o=n.state.facet(Lo);return n.dispatch({selection:i,effects:[fp(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),ov(n),!0}),Bu=$l((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=re.single(i.from,i.to),s=n.state.facet(Lo);return n.dispatch({selection:o,effects:[fp(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),ov(n),!0}),xC=$l((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:re.create(t.map(r=>re.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),yC=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let l=new So(n.doc,n.sliceDoc(r,i));!l.next().done;){if(o.length>1e3)return!1;l.value.from==r&&(s=o.length),o.push(re.range(l.value.from,l.value.to))}return e(n.update({selection:re.create(o,s),userEvent:"select.search.matches"})),!0},ym=$l((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s=[],l,a,u=[];if(o.from==r&&o.to==i&&(a=t.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:a}),o=e.nextMatch(t,o.from,o.to),u.push(de.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let c=s.length==0||s[0].from>=o.to?0:o.to-o.from-a.length;l=re.single(o.from-c,o.to-c),u.push(fp(n,o)),u.push(t.facet(Lo).scrollToMatch(l.main,n))}return n.dispatch({changes:s,selection:l,effects:u,userEvent:"input.replace"}),!0}),vC=$l((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:de.announce.of(r),userEvent:"input.replace.all"}),!0});function hp(n){return n.state.facet(Lo).createPanel(n)}function dd(n,e){var t,r,i,o,s;let l=n.selection.main,a=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=n.facet(Lo);return new rv({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:u.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:u.wholeWord})}function iv(n){let e=Sl(n,hp);return e&&e.dom.querySelector("[main-field]")}function ov(n){let e=iv(n);e&&e==n.root.activeElement&&e.select()}const sv=n=>{let e=n.state.field(kn,!1);if(e&&e.panel){let t=iv(n);if(t&&t!=n.root.activeElement){let r=dd(n.state,e.query.spec);r.valid&&n.dispatch({effects:El.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[cp.of(!0),e?El.of(dd(n.state,e.query.spec)):Oe.appendConfig.of(_C)]});return!0},lv=n=>{let e=n.state.field(kn,!1);if(!e||!e.panel)return!1;let t=Sl(n,hp);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:cp.of(!1)}),!0},SC=[{key:"Mod-f",run:sv,scope:"editor search-panel"},{key:"F3",run:Mu,shift:Bu,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Mu,shift:Bu,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:lv,scope:"editor search-panel"},{key:"Mod-Shift-l",run:yC},{key:"Mod-Alt-g",run:JE},{key:"Mod-d",run:uC,preventDefault:!0}];class bC{constructor(e){this.view=e;let t=this.query=e.state.field(kn).query.spec;this.commit=this.commit.bind(this),this.searchField=We("input",{value:t.search,placeholder:Gt(e,"Find"),"aria-label":Gt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=We("input",{value:t.replace,placeholder:Gt(e,"Replace"),"aria-label":Gt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=We("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=We("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=We("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,o,s){return We("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=We("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Mu(e),[Gt(e,"next")]),r("prev",()=>Bu(e),[Gt(e,"previous")]),r("select",()=>xC(e),[Gt(e,"all")]),We("label",null,[this.caseField,Gt(e,"match case")]),We("label",null,[this.reField,Gt(e,"regexp")]),We("label",null,[this.wordField,Gt(e,"by word")]),...e.state.readOnly?[]:[We("br"),this.replaceField,r("replace",()=>ym(e),[Gt(e,"replace")]),r("replaceAll",()=>vC(e),[Gt(e,"replace all")])],We("button",{name:"close",onclick:()=>lv(e),"aria-label":Gt(e,"close"),type:"button"},["×"])])}commit(){let e=new rv({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:El.of(e)}))}keydown(e){uA(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Bu:Mu)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),ym(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(El)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Lo).top}}function Gt(n,e){return n.state.phrase(e)}const $a=30,Ha=/[\s\.,:;?!]/;function fp(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-$a),s=Math.min(i,t+$a),l=n.state.sliceDoc(o,s);if(o!=r.from){for(let a=0;a<$a;a++)if(!Ha.test(l[a+1])&&Ha.test(l[a])){l=l.slice(a);break}}if(s!=i){for(let a=l.length-1;a>l.length-$a;a--)if(!Ha.test(l[a-1])&&Ha.test(l[a])){l=l.slice(0,a);break}}return de.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${r.number}.`)}const AC=de.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),_C=[kn,Li.low(gC),AC];class av{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Pt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(uv(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function vm(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function TC(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let o=1;o<i.length;o++)t[i[o]]=!0}let r=vm(e)+vm(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function EC(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:TC(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}class Sm{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function In(n){return n.selection.main.from}function uv(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?n:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const cv=fn.define();function CC(n,e,t,r){let{main:i}=n.selection,o=t-i.from,s=r-i.from;return Object.assign(Object.assign({},n.changeByRange(l=>{if(l!=i&&t!=r&&n.sliceDoc(l.from+o,l.from+s)!=n.sliceDoc(t,r))return{range:l};let a=n.toText(e);return{changes:{from:l.from+o,to:r==i.from?l.to:l.from+s,insert:a},range:re.cursor(l.from+o+a.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const bm=new WeakMap;function wC(n){if(!Array.isArray(n))return n;let e=bm.get(n);return e||bm.set(n,e=EC(n)),e}const ju=Oe.define(),Cl=Oe.define();class OC{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=yt(e,t),i=ar(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(yt(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let g=yt(e,0),x=ar(g),S=x==e.length?0:-100;if(g!=t[0])if(g==r[0])S+=-200;else return null;return this.ret(S,[0,x])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,u=0;if(l<0){for(let g=0,x=Math.min(e.length,200);g<x&&u<a;){let S=yt(e,g);(S==t[u]||S==r[u])&&(i[u++]=g),g+=ar(S)}if(u<a)return null}let c=0,h=0,f=!1,d=0,p=-1,v=-1,m=/[a-z]/.test(e),y=!0;for(let g=0,x=Math.min(e.length,200),S=0;g<x&&h<a;){let _=yt(e,g);l<0&&(c<a&&_==t[c]&&(o[c++]=g),d<a&&(_==t[d]||_==r[d]?(d==0&&(p=g),v=g+1,d++):d=0));let b,C=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(b=Bd(_))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(!g||C==1&&m||S==0&&C!=0)&&(t[h]==_||r[h]==_&&(f=!0)?s[h++]=g:s.length&&(y=!1)),S=C,g+=ar(_)}return h==a&&s[0]==0&&y?this.result(-100+(f?-200:0),s,e):d==a&&p==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):d==a?this.ret(-900-e.length,[p,v]):h==a?this.result(-100+(f?-200:0)+-700+(y?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let l=s+(this.astral?ar(yt(r,s)):1);o&&i[o-1]==s?i[o-1]=l:(i[o++]=s,i[o++]=l)}return this.ret(e-r.length,i)}}class NC{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const bt=he.define({combine(n){return vr(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:DC,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>Am(e(r),t(r)),optionClass:(e,t)=>r=>Am(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Am(n,e){return n?e?n+" "+e:n:e}function DC(n,e,t,r,i,o){let s=n.textDirection==Ge.RTL,l=s,a=!1,u="top",c,h,f=e.left-i.left,d=i.right-e.right,p=r.right-r.left,v=r.bottom-r.top;if(l&&f<Math.min(p,d)?l=!1:!l&&d<Math.min(p,f)&&(l=!0),p<=(l?f:d))c=Math.max(i.top,Math.min(t.top,i.bottom-v))-e.top,h=Math.min(400,l?f:d);else{a=!0,h=Math.min(400,(s?e.right:i.right-e.left)-30);let g=i.bottom-e.bottom;g>=v||g>e.top?c=t.bottom-e.top:(u="bottom",c=e.bottom-t.top)}let m=(e.bottom-e.top)/o.offsetHeight,y=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${c/m}px; max-width: ${h/y}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":l?"left":"right")}}function PC(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let l=t.displayLabel||t.label,a=0;for(let u=0;u<o.length;){let c=o[u++],h=o[u++];c>a&&s.appendChild(document.createTextNode(l.slice(a,c)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(l.slice(c,h))),f.className="cm-completionMatchedText",a=h}return a<l.length&&s.appendChild(document.createTextNode(l.slice(a))),s},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function Oh(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class RC{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,l=e.state.facet(bt);this.optionContent=PC(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Oh(o.length,s,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:u}=e.state.field(t).open;for(let c=a.target,h;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(h=/-(\d+)$/.exec(c.id))&&+h[1]<u.length){this.applyCompletion(e,u[+h[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(bt).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Cl.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:l}=r.open;(!i.open||i.open.options!=o)&&(this.range=Oh(o.length,s,e.state.facet(bt).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),l!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Oh(t.options.length,t.selected,this.view.state.facet(bt).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>Ft(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&kC(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(bt).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:l,match:a}=e[s],{section:u}=l;if(u){let f=typeof u=="string"?u:u.name;if(f!=o&&(s>r.from||r.from==0))if(o=f,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=f}}const c=i.appendChild(document.createElement("li"));c.id=t+"-"+s,c.setAttribute("role","option");let h=this.optionClass(l);h&&(c.className=h);for(let f of this.optionContent){let d=f(l,this.view.state,this.view,a);d&&c.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function LC(n,e){return t=>new RC(t,n,e)}function kC(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function _m(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function IC(n,e){let t=[],r=null,i=u=>{t.push(u);let{section:c}=u.completion;if(c){r||(r=[]);let h=typeof c=="string"?c:c.name;r.some(f=>f.name==h)||r.push(typeof c=="string"?{name:h}:c)}},o=e.facet(bt);for(let u of n)if(u.hasResult()){let c=u.result.getMatch;if(u.result.filter===!1)for(let h of u.result.options)i(new Sm(h,u.source,c?c(h):[],1e9-t.length));else{let h=e.sliceDoc(u.from,u.to),f,d=o.filterStrict?new NC(h):new OC(h);for(let p of u.result.options)if(f=d.match(p.label)){let v=p.displayLabel?c?c(p,f.matched):[]:f.matched;i(new Sm(p,u.source,v,f.score+(p.boost||0)))}}}if(r){let u=Object.create(null),c=0,h=(f,d)=>{var p,v;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((v=d.rank)!==null&&v!==void 0?v:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(h))c-=1e5,u[f.name]=c;for(let f of t){let{section:d}=f.completion;d&&(f.score+=u[typeof d=="string"?d:d.name])}}let s=[],l=null,a=o.compareCompletions;for(let u of t.sort((c,h)=>h.score-c.score||a(c.completion,h.completion))){let c=u.completion;!l||l.label!=c.label||l.detail!=c.detail||l.type!=null&&c.type!=null&&l.type!=c.type||l.apply!=c.apply||l.boost!=c.boost?s.push(u):_m(u.completion)>_m(l)&&(s[s.length-1]=u),l=u.completion}return s}class to{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new to(this.options,Tm(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o){let s=IC(e,t);if(!s.length)return i&&e.some(a=>a.state==1)?new to(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let l=t.facet(bt).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let a=i.options[i.selected].completion;for(let u=0;u<s.length;u++)if(s[u].completion==a){l=u;break}}return new to(s,Tm(r,l),{pos:e.reduce((a,u)=>u.hasResult()?Math.min(a,u.from):a,1e8),create:HC,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new to(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class $u{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new $u(jC,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(bt),o=(r.override||t.languageDataAt("autocomplete",In(t)).map(wC)).map(l=>(this.active.find(u=>u.source==l)||new Zt(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,a)=>l==this.active[a])&&(o=this.active);let s=this.open;s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!FC(o,this.active)?s=to.build(o,t,this.id,s,r):s&&s.disabled&&!o.some(l=>l.state==1)&&(s=null),!s&&o.every(l=>l.state!=1)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new Zt(l.source,0):l));for(let l of e.effects)l.is(dv)&&(s=s&&s.setSelected(l.value,this.id));return o==this.active&&s==this.open?this:new $u(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?MC:BC}}function FC(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;r<e.length&&!e[r].hasResult;)r++;let i=t==n.length,o=r==e.length;if(i||o)return i==o;if(n[t++].result!=e[r++].result)return!1}}const MC={"aria-autocomplete":"list"},BC={};function Tm(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const jC=[];function hv(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(cv);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Zt{constructor(e,t,r=-1){this.source=e,this.state=t,this.explicitPos=r}hasResult(){return!1}update(e,t){let r=hv(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Zt(i.source,0)),r&4&&i.state==0&&(i=new Zt(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(ju))i=new Zt(i.source,1,o.value?In(e.state):-1);else if(o.is(Cl))i=new Zt(i.source,0);else if(o.is(fv))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Zt(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(In(e.state))}}class co extends Zt{constructor(e,t,r,i,o){super(e,2,t),this.result=r,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),l=In(e.state);if((this.explicitPos<0?l<=o:l<this.from)||l>s||!i||t&2&&In(e.startState)==this.from)return new Zt(this.source,t&4?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return $C(i.validFor,e.state,o,s)?new co(this.source,a,i,o,s):i.update&&(i=i.update(i,o,s,new av(e.state,l,a>=0)))?new co(this.source,a,i,i.from,(r=i.to)!==null&&r!==void 0?r:In(e.state)):new Zt(this.source,1,a)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new co(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Zt(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function $C(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):uv(n,!0).test(i)}const fv=Oe.define({map(n,e){return n.map(t=>t.map(e))}}),dv=Oe.define(),Ut=ft.define({create(){return $u.start()},update(n,e){return n.update(e)},provide:n=>[Qu.from(n,e=>e.tooltip),de.contentAttributes.from(n,e=>e.attrs)]});function dp(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Ut).active.find(i=>i.source==e.source);return r instanceof co?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},CC(n.state,t,r.from,r.to)),{annotations:cv.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const HC=LC(Ut,dp);function za(n,e="option"){return t=>{let r=t.state.field(Ut,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(bt).interactionDelay)return!1;let i=1,o;e=="page"&&(o=Uy(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:s-1;return l<0?l=e=="page"?0:s-1:l>=s&&(l=e=="page"?s-1:0),t.dispatch({effects:dv.of(l)}),!0}}const zC=n=>{let e=n.state.field(Ut,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(bt).interactionDelay?!1:dp(n,e.open.options[e.open.selected])},Em=n=>n.state.field(Ut,!1)?(n.dispatch({effects:ju.of(!0)}),!0):!1,qC=n=>{let e=n.state.field(Ut,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Cl.of(null)}),!0)};class UC{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const VC=50,WC=1e3,KC=nt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Ut).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(Ut),t=n.state.facet(bt);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ut)==e)return;let r=n.transactions.some(o=>{let s=hv(o,t);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>VC&&Date.now()-s.time>WC){for(let l of s.context.abortListeners)try{l()}catch(a){Ft(this.view.state,a)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(ju)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Ut);for(let t of e.active)t.state==1&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=In(e),r=new av(e,t,n.explicitPos==t,this.view),i=new UC(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Cl.of(null)}),Ft(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(bt).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(bt);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let s=new co(i.active.source,i.active.explicitPos,i.done,i.done.from,(n=i.done.to)!==null&&n!==void 0?n:In(i.updates.length?i.updates[0].startState:this.view.state));for(let l of i.updates)s=s.update(l,t);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(Ut).active.find(s=>s.source==i.active.source);if(o&&o.state==1)if(i.done==null){let s=new Zt(i.active.source,0);for(let l of i.updates)s=s.update(l,t);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:fv.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ut,!1);if(e&&e.tooltip&&this.view.state.facet(bt).closeOnBlur){let t=e.open&&Uy(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Cl.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ju.of(!1)}),20),this.composing=0}}}),GC=typeof navigator=="object"&&/Win/.test(navigator.platform),XC=Li.highest(de.domEventHandlers({keydown(n,e){let t=e.state.field(Ut,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(GC&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&dp(e,r),!1}})),YC=de.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),wl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},li=Oe.define({map(n,e){let t=e.mapPos(n,-1,It.TrackAfter);return t??void 0}}),pp=new class extends fi{};pp.startSide=1;pp.endSide=-1;const pv=ft.define({create(){return Re.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(li)&&(n=n.update({add:[pp.range(t.value,t.value+1)]}));return n}});function JC(){return[ZC,pv]}const Nh="()[]{}<>";function mv(n){for(let e=0;e<Nh.length;e+=2)if(Nh.charCodeAt(e)==n)return Nh.charAt(e+1);return Bd(n<128?n:n+1)}function gv(n,e){return n.languageDataAt("closeBrackets",e)[0]||wl}const QC=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ZC=de.inputHandler.of((n,e,t,r)=>{if((QC?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&ar(yt(r,0))==1||e!=i.from||t!=i.to)return!1;let o=rw(n.state,r);return o?(n.dispatch(o),!0):!1}),ew=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=gv(n,n.selection.main.head).brackets||wl.brackets,i=null,o=n.changeByRange(s=>{if(s.empty){let l=nw(n.doc,s.head);for(let a of r)if(a==l&&uc(n.doc,s.head)==mv(yt(a,0)))return{changes:{from:s.head-a.length,to:s.head+a.length},range:re.cursor(s.head-a.length)}}return{range:i=s}});return i||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},tw=[{key:"Backspace",run:ew}];function rw(n,e){let t=gv(n,n.selection.main.head),r=t.brackets||wl.brackets;for(let i of r){let o=mv(yt(i,0));if(e==i)return o==i?sw(n,i,r.indexOf(i+i+i)>-1,t):iw(n,i,o,t.before||wl.before);if(e==o&&xv(n,n.selection.main.from))return ow(n,i,o)}return null}function xv(n,e){let t=!1;return n.field(pv).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function uc(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ar(yt(t,0)))}function nw(n,e){let t=n.sliceString(e-2,e);return ar(yt(t,0))==t.length?t:t.slice(1)}function iw(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:li.of(s.to+e.length),range:re.range(s.anchor+e.length,s.head+e.length)};let l=uc(n.doc,s.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+t,from:s.head},effects:li.of(s.head+e.length),range:re.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ow(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&uc(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:re.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function sw(n,e,t,r){let i=r.stringPrefixes||wl.stringPrefixes,o=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:li.of(l.to+e.length),range:re.range(l.anchor+e.length,l.head+e.length)};let a=l.head,u=uc(n.doc,a),c;if(u==e){if(Cm(n,a))return{changes:{insert:e+e,from:a},effects:li.of(a+e.length),range:re.cursor(a+e.length)};if(xv(n,a)){let f=t&&n.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+f.length,insert:f},range:re.cursor(a+f.length)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(c=wm(n,a-2*e.length,i))>-1&&Cm(n,c))return{changes:{insert:e+e+e+e,from:a},effects:li.of(a+e.length),range:re.cursor(a+e.length)};if(n.charCategorizer(a)(u)!=Xe.Word&&wm(n,a,i)>-1&&!lw(n,a,e,i))return{changes:{insert:e+e,from:a},effects:li.of(a+e.length),range:re.cursor(a+e.length)}}return{range:o=l}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Cm(n,e){let t=Pt(n).resolveInner(e+1);return t.parent&&t.from==e}function lw(n,e,t,r){let i=Pt(n).resolveInner(e,-1),o=r.reduce((s,l)=>Math.max(s,l.length),0);for(let s=0;s<5;s++){let l=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+o)),a=l.indexOf(t);if(!a||a>-1&&r.indexOf(l.slice(0,a))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>t.length+a;){if(n.sliceDoc(c.to-t.length,c.to)==t)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function wm(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Xe.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=Xe.Word)return o}return-1}function aw(n={}){return[XC,Ut,bt.of(n),KC,uw,YC]}const yv=[{key:"Ctrl-Space",run:Em},{mac:"Alt-`",run:Em},{key:"Escape",run:qC},{key:"ArrowDown",run:za(!0)},{key:"ArrowUp",run:za(!1)},{key:"PageDown",run:za(!0,"page")},{key:"PageUp",run:za(!1,"page")},{key:"Enter",run:zC}],uw=Li.highest(Yd.computeN([bt],n=>n.facet(bt).defaultKeymap?[yv]:[])),cw=[o_(),a_(),CA(),WT(),yT(),mA(),SA(),Me.allowMultipleSelections.of(!0),iT(),ST(_T,{fallback:!0}),DT(),JC(),aw(),BA(),HA(),RA(),tC(),Yd.of([...tw,...XE,...SC,...tE,...pT,...yv,...m_])];var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pd={},vv={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(vv,"__esModule",{value:!0});var Sv={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Sv,"__esModule",{value:!0});var cc={};function hw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bv={exports:{}},it=bv.exports={},Rr,Lr;function md(){throw new Error("setTimeout has not been defined")}function gd(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Rr=setTimeout:Rr=md}catch{Rr=md}try{typeof clearTimeout=="function"?Lr=clearTimeout:Lr=gd}catch{Lr=gd}})();function Av(n){if(Rr===setTimeout)return setTimeout(n,0);if((Rr===md||!Rr)&&setTimeout)return Rr=setTimeout,setTimeout(n,0);try{return Rr(n,0)}catch{try{return Rr.call(null,n,0)}catch{return Rr.call(this,n,0)}}}function fw(n){if(Lr===clearTimeout)return clearTimeout(n);if((Lr===gd||!Lr)&&clearTimeout)return Lr=clearTimeout,clearTimeout(n);try{return Lr(n)}catch{try{return Lr.call(null,n)}catch{return Lr.call(this,n)}}}var rn=[],ho=!1,ai,au=-1;function dw(){!ho||!ai||(ho=!1,ai.length?rn=ai.concat(rn):au=-1,rn.length&&_v())}function _v(){if(!ho){var n=Av(dw);ho=!0;for(var e=rn.length;e;){for(ai=rn,rn=[];++au<e;)ai&&ai[au].run();au=-1,e=rn.length}ai=null,ho=!1,fw(n)}}it.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];rn.push(new Tv(n,e)),rn.length===1&&!ho&&Av(_v)};function Tv(n,e){this.fun=n,this.array=e}Tv.prototype.run=function(){this.fun.apply(null,this.array)};it.title="browser";it.browser=!0;it.env={};it.argv=[];it.version="";it.versions={};function dn(){}it.on=dn;it.addListener=dn;it.once=dn;it.off=dn;it.removeListener=dn;it.removeAllListeners=dn;it.emit=dn;it.prependListener=dn;it.prependOnceListener=dn;it.listeners=function(n){return[]};it.binding=function(n){throw new Error("process.binding is not supported")};it.cwd=function(){return"/"};it.chdir=function(n){throw new Error("process.chdir is not supported")};it.umask=function(){return 0};var pw=bv.exports;const tt=hw(pw);var Dh={exports:{}},Ph={},xi={},Ev={},mp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==i||s.enumerable!==!0)return!1}return!0},mw=mp,gp=function(){return mw()&&!!Symbol.toStringTag},gw=Error,xw=EvalError,yw=RangeError,vw=ReferenceError,Cv=SyntaxError,hc=TypeError,Sw=URIError,Om=typeof Symbol<"u"&&Symbol,bw=mp,Aw=function(){return typeof Om!="function"||typeof Symbol!="function"||typeof Om("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:bw()},Rh={__proto__:null,foo:{}},_w=Object,Tw=function(){return{__proto__:Rh}.foo===Rh.foo&&!(Rh instanceof _w)},Ew="Function.prototype.bind called on incompatible ",Cw=Object.prototype.toString,ww=Math.max,Ow="[object Function]",Nm=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},Nw=function(e,t){for(var r=[],i=t,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},Dw=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},Pw=function(e){var t=this;if(typeof t!="function"||Cw.apply(t)!==Ow)throw new TypeError(Ew+t);for(var r=Nw(arguments,1),i,o=function(){if(this instanceof i){var c=t.apply(this,Nm(r,arguments));return Object(c)===c?c:this}return t.apply(e,Nm(r,arguments))},s=ww(0,t.length-r.length),l=[],a=0;a<s;a++)l[a]="$"+a;if(i=Function("binder","return function ("+Dw(l,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var u=function(){};u.prototype=t.prototype,i.prototype=new u,u.prototype=null}return i},Rw=Pw,xp=Function.prototype.bind||Rw,Lw=Function.prototype.call,kw=Object.prototype.hasOwnProperty,Iw=xp,Fw=Iw.call(Lw,kw),De,Mw=gw,Bw=xw,jw=yw,$w=vw,bo=Cv,fo=hc,Hw=Sw,wv=Function,Lh=function(n){try{return wv('"use strict"; return ('+n+").constructor;")()}catch{}},ci=Object.getOwnPropertyDescriptor;if(ci)try{ci({},"")}catch{ci=null}var kh=function(){throw new fo},zw=ci?function(){try{return arguments.callee,kh}catch{try{return ci(arguments,"callee").get}catch{return kh}}}():kh,Gi=Aw(),qw=Tw(),dt=Object.getPrototypeOf||(qw?function(n){return n.__proto__}:null),Qi={},Uw=typeof Uint8Array>"u"||!dt?De:dt(Uint8Array),hi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?De:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?De:ArrayBuffer,"%ArrayIteratorPrototype%":Gi&&dt?dt([][Symbol.iterator]()):De,"%AsyncFromSyncIteratorPrototype%":De,"%AsyncFunction%":Qi,"%AsyncGenerator%":Qi,"%AsyncGeneratorFunction%":Qi,"%AsyncIteratorPrototype%":Qi,"%Atomics%":typeof Atomics>"u"?De:Atomics,"%BigInt%":typeof BigInt>"u"?De:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?De:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?De:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?De:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Mw,"%eval%":eval,"%EvalError%":Bw,"%Float32Array%":typeof Float32Array>"u"?De:Float32Array,"%Float64Array%":typeof Float64Array>"u"?De:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?De:FinalizationRegistry,"%Function%":wv,"%GeneratorFunction%":Qi,"%Int8Array%":typeof Int8Array>"u"?De:Int8Array,"%Int16Array%":typeof Int16Array>"u"?De:Int16Array,"%Int32Array%":typeof Int32Array>"u"?De:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gi&&dt?dt(dt([][Symbol.iterator]())):De,"%JSON%":typeof JSON=="object"?JSON:De,"%Map%":typeof Map>"u"?De:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gi||!dt?De:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?De:Promise,"%Proxy%":typeof Proxy>"u"?De:Proxy,"%RangeError%":jw,"%ReferenceError%":$w,"%Reflect%":typeof Reflect>"u"?De:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?De:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gi||!dt?De:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?De:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gi&&dt?dt(""[Symbol.iterator]()):De,"%Symbol%":Gi?Symbol:De,"%SyntaxError%":bo,"%ThrowTypeError%":zw,"%TypedArray%":Uw,"%TypeError%":fo,"%Uint8Array%":typeof Uint8Array>"u"?De:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?De:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?De:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?De:Uint32Array,"%URIError%":Hw,"%WeakMap%":typeof WeakMap>"u"?De:WeakMap,"%WeakRef%":typeof WeakRef>"u"?De:WeakRef,"%WeakSet%":typeof WeakSet>"u"?De:WeakSet};if(dt)try{null.error}catch(n){var Vw=dt(dt(n));hi["%Error.prototype%"]=Vw}var Ww=function n(e){var t;if(e==="%AsyncFunction%")t=Lh("async function () {}");else if(e==="%GeneratorFunction%")t=Lh("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Lh("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&dt&&(t=dt(i.prototype))}return hi[e]=t,t},Dm={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hl=xp,Hu=Fw,Kw=Hl.call(Function.call,Array.prototype.concat),Gw=Hl.call(Function.apply,Array.prototype.splice),Pm=Hl.call(Function.call,String.prototype.replace),zu=Hl.call(Function.call,String.prototype.slice),Xw=Hl.call(Function.call,RegExp.prototype.exec),Yw=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jw=/\\(\\)?/g,Qw=function(e){var t=zu(e,0,1),r=zu(e,-1);if(t==="%"&&r!=="%")throw new bo("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new bo("invalid intrinsic syntax, expected opening `%`");var i=[];return Pm(e,Yw,function(o,s,l,a){i[i.length]=l?Pm(a,Jw,"$1"):s||o}),i},Zw=function(e,t){var r=e,i;if(Hu(Dm,r)&&(i=Dm[r],r="%"+i[0]+"%"),Hu(hi,r)){var o=hi[r];if(o===Qi&&(o=Ww(r)),typeof o>"u"&&!t)throw new fo("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new bo("intrinsic "+e+" does not exist!")},zl=function(e,t){if(typeof e!="string"||e.length===0)throw new fo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new fo('"allowMissing" argument must be a boolean');if(Xw(/^%?[^%]*%?$/,e)===null)throw new bo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Qw(e),i=r.length>0?r[0]:"",o=Zw("%"+i+"%",t),s=o.name,l=o.value,a=!1,u=o.alias;u&&(i=u[0],Gw(r,Kw([0,1],u)));for(var c=1,h=!0;c<r.length;c+=1){var f=r[c],d=zu(f,0,1),p=zu(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new bo("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(a=!0),i+="."+f,s="%"+i+"%",Hu(hi,s))l=hi[s];else if(l!=null){if(!(f in l)){if(!t)throw new fo("base intrinsic for "+e+" exists, but the property is not available.");return}if(ci&&c+1>=r.length){var v=ci(l,f);h=!!v,h&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[f]}else h=Hu(l,f),l=l[f];h&&!a&&(hi[s]=l)}}return l},Ov={exports:{}},Ih,Rm;function yp(){if(Rm)return Ih;Rm=1;var n=zl,e=n("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Ih=e,Ih}var eO=zl,uu=eO("%Object.getOwnPropertyDescriptor%",!0);if(uu)try{uu([],"length")}catch{uu=null}var vp=uu,Lm=yp(),tO=Cv,Xi=hc,km=vp,Nv=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Xi("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Xi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xi("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,a=!!km&&km(e,t);if(Lm)Lm(e,t,{configurable:s===null&&a?a.configurable:!s,enumerable:i===null&&a?a.enumerable:!i,value:r,writable:o===null&&a?a.writable:!o});else if(l||!i&&!o&&!s)e[t]=r;else throw new tO("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},xd=yp(),Dv=function(){return!!xd};Dv.hasArrayLengthDefineBug=function(){if(!xd)return null;try{return xd([],"length",{value:1}).length!==1}catch{return!0}};var Pv=Dv,rO=zl,Im=Nv,nO=Pv(),Fm=vp,Mm=hc,iO=rO("%Math.floor%"),oO=function(e,t){if(typeof e!="function")throw new Mm("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||iO(t)!==t)throw new Mm("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&Fm){var s=Fm(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(nO?Im(e,"length",t,!0,!0):Im(e,"length",t)),e};(function(n){var e=xp,t=zl,r=oO,i=hc,o=t("%Function.prototype.apply%"),s=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(s,o),a=yp(),u=t("%Math.max%");n.exports=function(f){if(typeof f!="function")throw new i("a function is required");var d=l(e,s,arguments);return r(d,1+u(0,f.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};a?a(n.exports,"apply",{value:c}):n.exports.apply=c})(Ov);var fc=Ov.exports,Rv=zl,Lv=fc,sO=Lv(Rv("String.prototype.indexOf")),dc=function(e,t){var r=Rv(e,!!t);return typeof r=="function"&&sO(e,".prototype.")>-1?Lv(r):r},lO=gp(),aO=dc,yd=aO("Object.prototype.toString"),pc=function(e){return lO&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:yd(e)==="[object Arguments]"},kv=function(e){return pc(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&yd(e)!=="[object Array]"&&yd(e.callee)==="[object Function]"},uO=function(){return pc(arguments)}();pc.isLegacyArguments=kv;var cO=uO?pc:kv,hO=Object.prototype.toString,fO=Function.prototype.toString,dO=/^\s*(?:function)?\*/,Iv=gp(),Fh=Object.getPrototypeOf,pO=function(){if(!Iv)return!1;try{return Function("return function*() {}")()}catch{}},Mh,mO=function(e){if(typeof e!="function")return!1;if(dO.test(fO.call(e)))return!0;if(!Iv){var t=hO.call(e);return t==="[object GeneratorFunction]"}if(!Fh)return!1;if(typeof Mh>"u"){var r=pO();Mh=r?Fh(r):!1}return Fh(e)===Mh},Fv=Function.prototype.toString,ro=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,vd,cu;if(typeof ro=="function"&&typeof Object.defineProperty=="function")try{vd=Object.defineProperty({},"length",{get:function(){throw cu}}),cu={},ro(function(){throw 42},null,vd)}catch(n){n!==cu&&(ro=null)}else ro=null;var gO=/^\s*class\b/,Sd=function(e){try{var t=Fv.call(e);return gO.test(t)}catch{return!1}},Bh=function(e){try{return Sd(e)?!1:(Fv.call(e),!0)}catch{return!1}},hu=Object.prototype.toString,xO="[object Object]",yO="[object Function]",vO="[object GeneratorFunction]",SO="[object HTMLAllCollection]",bO="[object HTML document.all class]",AO="[object HTMLCollection]",_O=typeof Symbol=="function"&&!!Symbol.toStringTag,TO=!(0 in[,]),bd=function(){return!1};if(typeof document=="object"){var EO=document.all;hu.call(EO)===hu.call(document.all)&&(bd=function(e){if((TO||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=hu.call(e);return(t===SO||t===bO||t===AO||t===xO)&&e("")==null}catch{}return!1})}var CO=ro?function(e){if(bd(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{ro(e,null,vd)}catch(t){if(t!==cu)return!1}return!Sd(e)&&Bh(e)}:function(e){if(bd(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(_O)return Bh(e);if(Sd(e))return!1;var t=hu.call(e);return t!==yO&&t!==vO&&!/^\[object HTML/.test(t)?!1:Bh(e)},wO=CO,OO=Object.prototype.toString,Mv=Object.prototype.hasOwnProperty,NO=function(e,t,r){for(var i=0,o=e.length;i<o;i++)Mv.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},DO=function(e,t,r){for(var i=0,o=e.length;i<o;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},PO=function(e,t,r){for(var i in e)Mv.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},RO=function(e,t,r){if(!wO(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),OO.call(e)==="[object Array]"?NO(e,t,i):typeof e=="string"?DO(e,t,i):PO(e,t,i)},LO=RO,kO=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],jh=kO,IO=typeof globalThis>"u"?w:globalThis,FO=function(){for(var e=[],t=0;t<jh.length;t++)typeof IO[jh[t]]=="function"&&(e[e.length]=jh[t]);return e},qu=LO,MO=FO,Bm=fc,Sp=dc,fu=vp,BO=Sp("Object.prototype.toString"),Bv=gp(),jm=typeof globalThis>"u"?w:globalThis,Ad=MO(),bp=Sp("String.prototype.slice"),$h=Object.getPrototypeOf,jO=Sp("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},Uu={__proto__:null};Bv&&fu&&$h?qu(Ad,function(n){var e=new jm[n];if(Symbol.toStringTag in e){var t=$h(e),r=fu(t,Symbol.toStringTag);if(!r){var i=$h(t);r=fu(i,Symbol.toStringTag)}Uu["$"+n]=Bm(r.get)}}):qu(Ad,function(n){var e=new jm[n],t=e.slice||e.set;t&&(Uu["$"+n]=Bm(t))});var $O=function(e){var t=!1;return qu(Uu,function(r,i){if(!t)try{"$"+r(e)===i&&(t=bp(i,1))}catch{}}),t},HO=function(e){var t=!1;return qu(Uu,function(r,i){if(!t)try{r(e),t=bp(i,1)}catch{}}),t},jv=function(e){if(!e||typeof e!="object")return!1;if(!Bv){var t=bp(BO(e),8,-1);return jO(Ad,t)>-1?t:t!=="Object"?!1:HO(e)}return fu?$O(e):null},zO=jv,qO=function(e){return!!zO(e)};(function(n){var e=cO,t=mO,r=jv,i=qO;function o(H){return H.call.bind(H)}var s=typeof BigInt<"u",l=typeof Symbol<"u",a=o(Object.prototype.toString),u=o(Number.prototype.valueOf),c=o(String.prototype.valueOf),h=o(Boolean.prototype.valueOf);if(s)var f=o(BigInt.prototype.valueOf);if(l)var d=o(Symbol.prototype.valueOf);function p(H,G){if(typeof H!="object")return!1;try{return G(H),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=i;function v(H){return typeof Promise<"u"&&H instanceof Promise||H!==null&&typeof H=="object"&&typeof H.then=="function"&&typeof H.catch=="function"}n.isPromise=v;function m(H){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(H):i(H)||E(H)}n.isArrayBufferView=m;function y(H){return r(H)==="Uint8Array"}n.isUint8Array=y;function g(H){return r(H)==="Uint8ClampedArray"}n.isUint8ClampedArray=g;function x(H){return r(H)==="Uint16Array"}n.isUint16Array=x;function S(H){return r(H)==="Uint32Array"}n.isUint32Array=S;function _(H){return r(H)==="Int8Array"}n.isInt8Array=_;function b(H){return r(H)==="Int16Array"}n.isInt16Array=b;function C(H){return r(H)==="Int32Array"}n.isInt32Array=C;function O(H){return r(H)==="Float32Array"}n.isFloat32Array=O;function D(H){return r(H)==="Float64Array"}n.isFloat64Array=D;function M(H){return r(H)==="BigInt64Array"}n.isBigInt64Array=M;function j(H){return r(H)==="BigUint64Array"}n.isBigUint64Array=j;function k(H){return a(H)==="[object Map]"}k.working=typeof Map<"u"&&k(new Map);function V(H){return typeof Map>"u"?!1:k.working?k(H):H instanceof Map}n.isMap=V;function se(H){return a(H)==="[object Set]"}se.working=typeof Set<"u"&&se(new Set);function ie(H){return typeof Set>"u"?!1:se.working?se(H):H instanceof Set}n.isSet=ie;function fe(H){return a(H)==="[object WeakMap]"}fe.working=typeof WeakMap<"u"&&fe(new WeakMap);function Ee(H){return typeof WeakMap>"u"?!1:fe.working?fe(H):H instanceof WeakMap}n.isWeakMap=Ee;function me(H){return a(H)==="[object WeakSet]"}me.working=typeof WeakSet<"u"&&me(new WeakSet);function ee(H){return me(H)}n.isWeakSet=ee;function X(H){return a(H)==="[object ArrayBuffer]"}X.working=typeof ArrayBuffer<"u"&&X(new ArrayBuffer);function Z(H){return typeof ArrayBuffer>"u"?!1:X.working?X(H):H instanceof ArrayBuffer}n.isArrayBuffer=Z;function le(H){return a(H)==="[object DataView]"}le.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&le(new DataView(new ArrayBuffer(1),0,1));function E(H){return typeof DataView>"u"?!1:le.working?le(H):H instanceof DataView}n.isDataView=E;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function T(H){return a(H)==="[object SharedArrayBuffer]"}function N(H){return typeof A>"u"?!1:(typeof T.working>"u"&&(T.working=T(new A)),T.working?T(H):H instanceof A)}n.isSharedArrayBuffer=N;function R(H){return a(H)==="[object AsyncFunction]"}n.isAsyncFunction=R;function P(H){return a(H)==="[object Map Iterator]"}n.isMapIterator=P;function L(H){return a(H)==="[object Set Iterator]"}n.isSetIterator=L;function z(H){return a(H)==="[object Generator]"}n.isGeneratorObject=z;function W(H){return a(H)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=W;function Y(H){return p(H,u)}n.isNumberObject=Y;function I(H){return p(H,c)}n.isStringObject=I;function F(H){return p(H,h)}n.isBooleanObject=F;function U(H){return s&&p(H,f)}n.isBigIntObject=U;function Q(H){return l&&p(H,d)}n.isSymbolObject=Q;function ne(H){return Y(H)||I(H)||F(H)||U(H)||Q(H)}n.isBoxedPrimitive=ne;function oe(H){return typeof Uint8Array<"u"&&(Z(H)||N(H))}n.isAnyArrayBuffer=oe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(H){Object.defineProperty(n,H,{enumerable:!1,value:function(){throw new Error(H+" is not supported in userland")}})})})(Ev);var UO=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},_d={exports:{}};typeof Object.create=="function"?_d.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_d.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var VO=_d.exports;(function(n){var e={},t=Object.getOwnPropertyDescriptors||function(A){for(var T=Object.keys(A),N={},R=0;R<T.length;R++)N[T[R]]=Object.getOwnPropertyDescriptor(A,T[R]);return N},r=/%[sdj%]/g;n.format=function(E){if(!b(E)){for(var A=[],T=0;T<arguments.length;T++)A.push(l(arguments[T]));return A.join(" ")}for(var T=1,N=arguments,R=N.length,P=String(E).replace(r,function(z){if(z==="%%")return"%";if(T>=R)return z;switch(z){case"%s":return String(N[T++]);case"%d":return Number(N[T++]);case"%j":try{return JSON.stringify(N[T++])}catch{return"[Circular]"}default:return z}}),L=N[T];T<R;L=N[++T])x(L)||!M(L)?P+=" "+L:P+=" "+l(L);return P},n.deprecate=function(E,A){if(typeof tt<"u"&&tt.noDeprecation===!0)return E;if(typeof tt>"u")return function(){return n.deprecate(E,A).apply(this,arguments)};var T=!1;function N(){if(!T){if(tt.throwDeprecation)throw new Error(A);tt.traceDeprecation?console.trace(A):console.error(A),T=!0}return E.apply(this,arguments)}return N};var i={},o=/^$/;if(e.NODE_DEBUG){var s=e.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}n.debuglog=function(E){if(E=E.toUpperCase(),!i[E])if(o.test(E)){var A=tt.pid;i[E]=function(){var T=n.format.apply(n,arguments);console.error("%s %d: %s",E,A,T)}}else i[E]=function(){};return i[E]};function l(E,A){var T={seen:[],stylize:u};return arguments.length>=3&&(T.depth=arguments[2]),arguments.length>=4&&(T.colors=arguments[3]),g(A)?T.showHidden=A:A&&n._extend(T,A),O(T.showHidden)&&(T.showHidden=!1),O(T.depth)&&(T.depth=2),O(T.colors)&&(T.colors=!1),O(T.customInspect)&&(T.customInspect=!0),T.colors&&(T.stylize=a),h(T,E,T.depth)}n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(E,A){var T=l.styles[A];return T?"\x1B["+l.colors[T][0]+"m"+E+"\x1B["+l.colors[T][1]+"m":E}function u(E,A){return E}function c(E){var A={};return E.forEach(function(T,N){A[T]=!0}),A}function h(E,A,T){if(E.customInspect&&A&&V(A.inspect)&&A.inspect!==n.inspect&&!(A.constructor&&A.constructor.prototype===A)){var N=A.inspect(T,E);return b(N)||(N=h(E,N,T)),N}var R=f(E,A);if(R)return R;var P=Object.keys(A),L=c(P);if(E.showHidden&&(P=Object.getOwnPropertyNames(A)),k(A)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return d(A);if(P.length===0){if(V(A)){var z=A.name?": "+A.name:"";return E.stylize("[Function"+z+"]","special")}if(D(A))return E.stylize(RegExp.prototype.toString.call(A),"regexp");if(j(A))return E.stylize(Date.prototype.toString.call(A),"date");if(k(A))return d(A)}var W="",Y=!1,I=["{","}"];if(y(A)&&(Y=!0,I=["[","]"]),V(A)){var F=A.name?": "+A.name:"";W=" [Function"+F+"]"}if(D(A)&&(W=" "+RegExp.prototype.toString.call(A)),j(A)&&(W=" "+Date.prototype.toUTCString.call(A)),k(A)&&(W=" "+d(A)),P.length===0&&(!Y||A.length==0))return I[0]+W+I[1];if(T<0)return D(A)?E.stylize(RegExp.prototype.toString.call(A),"regexp"):E.stylize("[Object]","special");E.seen.push(A);var U;return Y?U=p(E,A,T,L,P):U=P.map(function(Q){return v(E,A,T,L,Q,Y)}),E.seen.pop(),m(U,W,I)}function f(E,A){if(O(A))return E.stylize("undefined","undefined");if(b(A)){var T="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return E.stylize(T,"string")}if(_(A))return E.stylize(""+A,"number");if(g(A))return E.stylize(""+A,"boolean");if(x(A))return E.stylize("null","null")}function d(E){return"["+Error.prototype.toString.call(E)+"]"}function p(E,A,T,N,R){for(var P=[],L=0,z=A.length;L<z;++L)ee(A,String(L))?P.push(v(E,A,T,N,String(L),!0)):P.push("");return R.forEach(function(W){W.match(/^\d+$/)||P.push(v(E,A,T,N,W,!0))}),P}function v(E,A,T,N,R,P){var L,z,W;if(W=Object.getOwnPropertyDescriptor(A,R)||{value:A[R]},W.get?W.set?z=E.stylize("[Getter/Setter]","special"):z=E.stylize("[Getter]","special"):W.set&&(z=E.stylize("[Setter]","special")),ee(N,R)||(L="["+R+"]"),z||(E.seen.indexOf(W.value)<0?(x(T)?z=h(E,W.value,null):z=h(E,W.value,T-1),z.indexOf(`
`)>-1&&(P?z=z.split(`
`).map(function(Y){return"  "+Y}).join(`
`).slice(2):z=`
`+z.split(`
`).map(function(Y){return"   "+Y}).join(`
`))):z=E.stylize("[Circular]","special")),O(L)){if(P&&R.match(/^\d+$/))return z;L=JSON.stringify(""+R),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.slice(1,-1),L=E.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=E.stylize(L,"string"))}return L+": "+z}function m(E,A,T){var N=E.reduce(function(R,P){return P.indexOf(`
`)>=0,R+P.replace(/\u001b\[\d\d?m/g,"").length+1},0);return N>60?T[0]+(A===""?"":A+`
 `)+" "+E.join(`,
  `)+" "+T[1]:T[0]+A+" "+E.join(", ")+" "+T[1]}n.types=Ev;function y(E){return Array.isArray(E)}n.isArray=y;function g(E){return typeof E=="boolean"}n.isBoolean=g;function x(E){return E===null}n.isNull=x;function S(E){return E==null}n.isNullOrUndefined=S;function _(E){return typeof E=="number"}n.isNumber=_;function b(E){return typeof E=="string"}n.isString=b;function C(E){return typeof E=="symbol"}n.isSymbol=C;function O(E){return E===void 0}n.isUndefined=O;function D(E){return M(E)&&ie(E)==="[object RegExp]"}n.isRegExp=D,n.types.isRegExp=D;function M(E){return typeof E=="object"&&E!==null}n.isObject=M;function j(E){return M(E)&&ie(E)==="[object Date]"}n.isDate=j,n.types.isDate=j;function k(E){return M(E)&&(ie(E)==="[object Error]"||E instanceof Error)}n.isError=k,n.types.isNativeError=k;function V(E){return typeof E=="function"}n.isFunction=V;function se(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}n.isPrimitive=se,n.isBuffer=UO;function ie(E){return Object.prototype.toString.call(E)}function fe(E){return E<10?"0"+E.toString(10):E.toString(10)}var Ee=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function me(){var E=new Date,A=[fe(E.getHours()),fe(E.getMinutes()),fe(E.getSeconds())].join(":");return[E.getDate(),Ee[E.getMonth()],A].join(" ")}n.log=function(){console.log("%s - %s",me(),n.format.apply(n,arguments))},n.inherits=VO,n._extend=function(E,A){if(!A||!M(A))return E;for(var T=Object.keys(A),N=T.length;N--;)E[T[N]]=A[T[N]];return E};function ee(E,A){return Object.prototype.hasOwnProperty.call(E,A)}var X=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(A){if(typeof A!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&A[X]){var T=A[X];if(typeof T!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(T,X,{value:T,enumerable:!1,writable:!1,configurable:!0}),T}function T(){for(var N,R,P=new Promise(function(W,Y){N=W,R=Y}),L=[],z=0;z<arguments.length;z++)L.push(arguments[z]);L.push(function(W,Y){W?R(W):N(Y)});try{A.apply(this,L)}catch(W){R(W)}return P}return Object.setPrototypeOf(T,Object.getPrototypeOf(A)),X&&Object.defineProperty(T,X,{value:T,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(T,t(A))},n.promisify.custom=X;function Z(E,A){if(!E){var T=new Error("Promise was rejected with a falsy value");T.reason=E,E=T}return A(E)}function le(E){if(typeof E!="function")throw new TypeError('The "original" argument must be of type Function');function A(){for(var T=[],N=0;N<arguments.length;N++)T.push(arguments[N]);var R=T.pop();if(typeof R!="function")throw new TypeError("The last argument must be of type Function");var P=this,L=function(){return R.apply(P,arguments)};E.apply(this,T).then(function(z){tt.nextTick(L.bind(null,null,z))},function(z){tt.nextTick(Z.bind(null,z,L))})}return Object.setPrototypeOf(A,Object.getPrototypeOf(E)),Object.defineProperties(A,t(E)),A}n.callbackify=le})(xi);var $m;function $v(){if($m)return Ph;$m=1;function n(g){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},n(g)}function e(g,x,S){return Object.defineProperty(g,"prototype",{writable:!1}),g}function t(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function r(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),x&&i(g,x)}function i(g,x){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,b){return _.__proto__=b,_},i(g,x)}function o(g){var x=a();return function(){var _=u(g),b;if(x){var C=u(this).constructor;b=Reflect.construct(_,arguments,C)}else b=_.apply(this,arguments);return s(this,b)}}function s(g,x){if(x&&(n(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(g)}function l(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function u(g){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},u(g)}var c={},h,f;function d(g,x,S){S||(S=Error);function _(C,O,D){return typeof x=="string"?x:x(C,O,D)}var b=function(C){r(D,C);var O=o(D);function D(M,j,k){var V;return t(this,D),V=O.call(this,_(M,j,k)),V.code=g,V}return e(D)}(S);c[g]=b}function p(g,x){if(Array.isArray(g)){var S=g.length;return g=g.map(function(_){return String(_)}),S>2?"one of ".concat(x," ").concat(g.slice(0,S-1).join(", "),", or ")+g[S-1]:S===2?"one of ".concat(x," ").concat(g[0]," or ").concat(g[1]):"of ".concat(x," ").concat(g[0])}else return"of ".concat(x," ").concat(String(g))}function v(g,x,S){return g.substr(0,x.length)===x}function m(g,x,S){return(S===void 0||S>g.length)&&(S=g.length),g.substring(S-x.length,S)===x}function y(g,x,S){return typeof S!="number"&&(S=0),S+x.length>g.length?!1:g.indexOf(x,S)!==-1}return d("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),d("ERR_INVALID_ARG_TYPE",function(g,x,S){h===void 0&&(h=jt()),h(typeof g=="string","'name' must be a string");var _;typeof x=="string"&&v(x,"not ")?(_="must not be",x=x.replace(/^not /,"")):_="must be";var b;if(m(g," argument"))b="The ".concat(g," ").concat(_," ").concat(p(x,"type"));else{var C=y(g,".")?"property":"argument";b='The "'.concat(g,'" ').concat(C," ").concat(_," ").concat(p(x,"type"))}return b+=". Received type ".concat(n(S)),b},TypeError),d("ERR_INVALID_ARG_VALUE",function(g,x){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";f===void 0&&(f=xi);var _=f.inspect(x);return _.length>128&&(_="".concat(_.slice(0,128),"...")),"The argument '".concat(g,"' ").concat(S,". Received ").concat(_)},TypeError),d("ERR_INVALID_RETURN_VALUE",function(g,x,S){var _;return S&&S.constructor&&S.constructor.name?_="instance of ".concat(S.constructor.name):_="type ".concat(n(S)),"Expected ".concat(g,' to be returned from the "').concat(x,'"')+" function but got ".concat(_,".")},TypeError),d("ERR_MISSING_ARGS",function(){for(var g=arguments.length,x=new Array(g),S=0;S<g;S++)x[S]=arguments[S];h===void 0&&(h=jt()),h(x.length>0,"At least one arg needs to be specified");var _="The ",b=x.length;switch(x=x.map(function(C){return'"'.concat(C,'"')}),b){case 1:_+="".concat(x[0]," argument");break;case 2:_+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:_+=x.slice(0,b-1).join(", "),_+=", and ".concat(x[b-1]," arguments");break}return"".concat(_," must be specified")},TypeError),Ph.codes=c,Ph}var Hh,Hm;function WO(){if(Hm)return Hh;Hm=1;function n(ee,X){var Z=Object.keys(ee);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(ee);X&&(le=le.filter(function(E){return Object.getOwnPropertyDescriptor(ee,E).enumerable})),Z.push.apply(Z,le)}return Z}function e(ee){for(var X=1;X<arguments.length;X++){var Z=arguments[X]!=null?arguments[X]:{};X%2?n(Object(Z),!0).forEach(function(le){t(ee,le,Z[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Z)):n(Object(Z)).forEach(function(le){Object.defineProperty(ee,le,Object.getOwnPropertyDescriptor(Z,le))})}return ee}function t(ee,X,Z){return X=s(X),X in ee?Object.defineProperty(ee,X,{value:Z,enumerable:!0,configurable:!0,writable:!0}):ee[X]=Z,ee}function r(ee,X){if(!(ee instanceof X))throw new TypeError("Cannot call a class as a function")}function i(ee,X){for(var Z=0;Z<X.length;Z++){var le=X[Z];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ee,s(le.key),le)}}function o(ee,X,Z){return X&&i(ee.prototype,X),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function s(ee){var X=l(ee,"string");return g(X)==="symbol"?X:String(X)}function l(ee,X){if(g(ee)!=="object"||ee===null)return ee;var Z=ee[Symbol.toPrimitive];if(Z!==void 0){var le=Z.call(ee,X||"default");if(g(le)!=="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(ee)}function a(ee,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(X&&X.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),X&&m(ee,X)}function u(ee){var X=p();return function(){var le=y(ee),E;if(X){var A=y(this).constructor;E=Reflect.construct(le,arguments,A)}else E=le.apply(this,arguments);return c(this,E)}}function c(ee,X){if(X&&(g(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(ee)}function h(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function f(ee){var X=typeof Map=="function"?new Map:void 0;return f=function(le){if(le===null||!v(le))return le;if(typeof le!="function")throw new TypeError("Super expression must either be null or a function");if(typeof X<"u"){if(X.has(le))return X.get(le);X.set(le,E)}function E(){return d(le,arguments,y(this).constructor)}return E.prototype=Object.create(le.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m(E,le)},f(ee)}function d(ee,X,Z){return p()?d=Reflect.construct.bind():d=function(E,A,T){var N=[null];N.push.apply(N,A);var R=Function.bind.apply(E,N),P=new R;return T&&m(P,T.prototype),P},d.apply(null,arguments)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(ee){return Function.toString.call(ee).indexOf("[native code]")!==-1}function m(ee,X){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,E){return le.__proto__=E,le},m(ee,X)}function y(ee){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},y(ee)}function g(ee){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},g(ee)}var x=xi,S=x.inspect,_=$v(),b=_.codes.ERR_INVALID_ARG_TYPE;function C(ee,X,Z){return(Z===void 0||Z>ee.length)&&(Z=ee.length),ee.substring(Z-X.length,Z)===X}function O(ee,X){if(X=Math.floor(X),ee.length==0||X==0)return"";var Z=ee.length*X;for(X=Math.floor(Math.log(X)/Math.log(2));X;)ee+=ee,X--;return ee+=ee.substring(0,Z-ee.length),ee}var D="",M="",j="",k="",V={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},se=10;function ie(ee){var X=Object.keys(ee),Z=Object.create(Object.getPrototypeOf(ee));return X.forEach(function(le){Z[le]=ee[le]}),Object.defineProperty(Z,"message",{value:ee.message}),Z}function fe(ee){return S(ee,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ee(ee,X,Z){var le="",E="",A=0,T="",N=!1,R=fe(ee),P=R.split(`
`),L=fe(X).split(`
`),z=0,W="";if(Z==="strictEqual"&&g(ee)==="object"&&g(X)==="object"&&ee!==null&&X!==null&&(Z="strictEqualObject"),P.length===1&&L.length===1&&P[0]!==L[0]){var Y=P[0].length+L[0].length;if(Y<=se){if((g(ee)!=="object"||ee===null)&&(g(X)!=="object"||X===null)&&(ee!==0||X!==0))return"".concat(V[Z],`

`)+"".concat(P[0]," !== ").concat(L[0],`
`)}else if(Z!=="strictEqualObject"){var I=tt.stderr&&tt.stderr.isTTY?tt.stderr.columns:80;if(Y<I){for(;P[0][z]===L[0][z];)z++;z>2&&(W=`
  `.concat(O(" ",z),"^"),z=0)}}}for(var F=P[P.length-1],U=L[L.length-1];F===U&&(z++<2?T=`
  `.concat(F).concat(T):le=F,P.pop(),L.pop(),!(P.length===0||L.length===0));)F=P[P.length-1],U=L[L.length-1];var Q=Math.max(P.length,L.length);if(Q===0){var ne=R.split(`
`);if(ne.length>30)for(ne[26]="".concat(D,"...").concat(k);ne.length>27;)ne.pop();return"".concat(V.notIdentical,`

`).concat(ne.join(`
`),`
`)}z>3&&(T=`
`.concat(D,"...").concat(k).concat(T),N=!0),le!==""&&(T=`
  `.concat(le).concat(T),le="");var oe=0,H=V[Z]+`
`.concat(M,"+ actual").concat(k," ").concat(j,"- expected").concat(k),G=" ".concat(D,"...").concat(k," Lines skipped");for(z=0;z<Q;z++){var ge=z-A;if(P.length<z+1)ge>1&&z>2&&(ge>4?(E+=`
`.concat(D,"...").concat(k),N=!0):ge>3&&(E+=`
  `.concat(L[z-2]),oe++),E+=`
  `.concat(L[z-1]),oe++),A=z,le+=`
`.concat(j,"-").concat(k," ").concat(L[z]),oe++;else if(L.length<z+1)ge>1&&z>2&&(ge>4?(E+=`
`.concat(D,"...").concat(k),N=!0):ge>3&&(E+=`
  `.concat(P[z-2]),oe++),E+=`
  `.concat(P[z-1]),oe++),A=z,E+=`
`.concat(M,"+").concat(k," ").concat(P[z]),oe++;else{var ke=L[z],He=P[z],B=He!==ke&&(!C(He,",")||He.slice(0,-1)!==ke);B&&C(ke,",")&&ke.slice(0,-1)===He&&(B=!1,He+=","),B?(ge>1&&z>2&&(ge>4?(E+=`
`.concat(D,"...").concat(k),N=!0):ge>3&&(E+=`
  `.concat(P[z-2]),oe++),E+=`
  `.concat(P[z-1]),oe++),A=z,E+=`
`.concat(M,"+").concat(k," ").concat(He),le+=`
`.concat(j,"-").concat(k," ").concat(ke),oe+=2):(E+=le,le="",(ge===1||z===0)&&(E+=`
  `.concat(He),oe++))}if(oe>20&&z<Q-2)return"".concat(H).concat(G,`
`).concat(E,`
`).concat(D,"...").concat(k).concat(le,`
`)+"".concat(D,"...").concat(k)}return"".concat(H).concat(N?G:"",`
`).concat(E).concat(le).concat(T).concat(W)}var me=function(ee,X){a(le,ee);var Z=u(le);function le(E){var A;if(r(this,le),g(E)!=="object"||E===null)throw new b("options","Object",E);var T=E.message,N=E.operator,R=E.stackStartFn,P=E.actual,L=E.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,T!=null)A=Z.call(this,String(T));else if(tt.stderr&&tt.stderr.isTTY&&(tt.stderr&&tt.stderr.getColorDepth&&tt.stderr.getColorDepth()!==1?(D="\x1B[34m",M="\x1B[32m",k="\x1B[39m",j="\x1B[31m"):(D="",M="",k="",j="")),g(P)==="object"&&P!==null&&g(L)==="object"&&L!==null&&"stack"in P&&P instanceof Error&&"stack"in L&&L instanceof Error&&(P=ie(P),L=ie(L)),N==="deepStrictEqual"||N==="strictEqual")A=Z.call(this,Ee(P,L,N));else if(N==="notDeepStrictEqual"||N==="notStrictEqual"){var W=V[N],Y=fe(P).split(`
`);if(N==="notStrictEqual"&&g(P)==="object"&&P!==null&&(W=V.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(D,"...").concat(k);Y.length>27;)Y.pop();Y.length===1?A=Z.call(this,"".concat(W," ").concat(Y[0])):A=Z.call(this,"".concat(W,`

`).concat(Y.join(`
`),`
`))}else{var I=fe(P),F="",U=V[N];N==="notDeepEqual"||N==="notEqual"?(I="".concat(V[N],`

`).concat(I),I.length>1024&&(I="".concat(I.slice(0,1021),"..."))):(F="".concat(fe(L)),I.length>512&&(I="".concat(I.slice(0,509),"...")),F.length>512&&(F="".concat(F.slice(0,509),"...")),N==="deepEqual"||N==="equal"?I="".concat(U,`

`).concat(I,`

should equal

`):F=" ".concat(N," ").concat(F)),A=Z.call(this,"".concat(I).concat(F))}return Error.stackTraceLimit=z,A.generatedMessage=!T,Object.defineProperty(h(A),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),A.code="ERR_ASSERTION",A.actual=P,A.expected=L,A.operator=N,Error.captureStackTrace&&Error.captureStackTrace(h(A),R),A.stack,A.name="AssertionError",c(A)}return o(le,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:X,value:function(A,T){return S(this,e(e({},T),{},{customInspect:!1,depth:0}))}}]),le}(f(Error),S.custom);return Hh=me,Hh}var zm=Object.prototype.toString,Hv=function(e){var t=zm.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&zm.call(e.callee)==="[object Function]"),r},zh,qm;function KO(){if(qm)return zh;qm=1;var n;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Hv,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=function(f){var d=f.constructor;return d&&d.prototype===f},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!u["$"+f]&&e.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{a(window[f])}catch{return!0}}catch{return!0}return!1}(),h=function(f){if(typeof window>"u"||!c)return a(f);try{return a(f)}catch{return!1}};n=function(d){var p=d!==null&&typeof d=="object",v=t.call(d)==="[object Function]",m=r(d),y=p&&t.call(d)==="[object String]",g=[];if(!p&&!v&&!m)throw new TypeError("Object.keys called on a non-object");var x=s&&v;if(y&&d.length>0&&!e.call(d,0))for(var S=0;S<d.length;++S)g.push(String(S));if(m&&d.length>0)for(var _=0;_<d.length;++_)g.push(String(_));else for(var b in d)!(x&&b==="prototype")&&e.call(d,b)&&g.push(String(b));if(o)for(var C=h(d),O=0;O<l.length;++O)!(C&&l[O]==="constructor")&&e.call(d,l[O])&&g.push(l[O]);return g}}return zh=n,zh}var GO=Array.prototype.slice,XO=Hv,Um=Object.keys,du=Um?function(e){return Um(e)}:KO(),Vm=Object.keys;du.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return XO(r)?Vm(GO.call(r)):Vm(r)})}else Object.keys=du;return Object.keys||du};var zv=du,YO=zv,qv=mp(),Uv=dc,Wm=Object,JO=Uv("Array.prototype.push"),Km=Uv("Object.prototype.propertyIsEnumerable"),QO=qv?Object.getOwnPropertySymbols:null,ZO=function(e,t){if(e==null)throw new TypeError("target must be an object");var r=Wm(e);if(arguments.length===1)return r;for(var i=1;i<arguments.length;++i){var o=Wm(arguments[i]),s=YO(o),l=qv&&(Object.getOwnPropertySymbols||QO);if(l)for(var a=l(o),u=0;u<a.length;++u){var c=a[u];Km(o,c)&&JO(s,c)}for(var h=0;h<s.length;++h){var f=s[h];if(Km(o,f)){var d=o[f];r[f]=d}}}return r},qh=ZO,eN=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",e=n.split(""),t={},r=0;r<e.length;++r)t[e[r]]=e[r];var i=Object.assign({},t),o="";for(var s in i)o+=s;return n!==o},tN=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1},rN=function(){return!Object.assign||eN()||tN()?qh:Object.assign},Gm=function(n){return n!==n},Vv=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||Gm(e)&&Gm(t))},nN=Vv,Ap=function(){return typeof Object.is=="function"?Object.is:nN},Uh,Xm;function mc(){if(Xm)return Uh;Xm=1;var n=zv,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",t=Object.prototype.toString,r=Array.prototype.concat,i=Nv,o=function(u){return typeof u=="function"&&t.call(u)==="[object Function]"},s=Pv(),l=function(u,c,h,f){if(c in u){if(f===!0){if(u[c]===h)return}else if(!o(f)||!f())return}s?i(u,c,h,!0):i(u,c,h)},a=function(u,c){var h=arguments.length>2?arguments[2]:{},f=n(c);e&&(f=r.call(f,Object.getOwnPropertySymbols(c)));for(var d=0;d<f.length;d+=1)l(u,f[d],c[f[d]],h[f[d]])};return a.supportsDescriptors=!!s,Uh=a,Uh}var Vh,Ym;function iN(){if(Ym)return Vh;Ym=1;var n=Ap,e=mc();return Vh=function(){var r=n();return e(Object,{is:r},{is:function(){return Object.is!==r}}),r},Vh}var Wh,Jm;function oN(){if(Jm)return Wh;Jm=1;var n=mc(),e=fc,t=Vv,r=Ap,i=iN(),o=e(r(),Object);return n(o,{getPolyfill:r,implementation:t,shim:i}),Wh=o,Wh}var Kh,Qm;function Wv(){return Qm||(Qm=1,Kh=function(e){return e!==e}),Kh}var Gh,Zm;function Kv(){if(Zm)return Gh;Zm=1;var n=Wv();return Gh=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n},Gh}var Xh,eg;function sN(){if(eg)return Xh;eg=1;var n=mc(),e=Kv();return Xh=function(){var r=e();return n(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},Xh}var Yh,tg;function lN(){if(tg)return Yh;tg=1;var n=fc,e=mc(),t=Wv(),r=Kv(),i=sN(),o=n(r(),Number);return e(o,{getPolyfill:r,implementation:t,shim:i}),Yh=o,Yh}var Jh,rg;function aN(){if(rg)return Jh;rg=1;function n(B,q){return o(B)||i(B,q)||t(B,q)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(B,q){if(B){if(typeof B=="string")return r(B,q);var ae=Object.prototype.toString.call(B).slice(8,-1);if(ae==="Object"&&B.constructor&&(ae=B.constructor.name),ae==="Map"||ae==="Set")return Array.from(B);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return r(B,q)}}function r(B,q){(q==null||q>B.length)&&(q=B.length);for(var ae=0,ye=new Array(q);ae<q;ae++)ye[ae]=B[ae];return ye}function i(B,q){var ae=B==null?null:typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(ae!=null){var ye,ve,Ne,Te,Ie=[],Fe=!0,Ze=!1;try{if(Ne=(ae=ae.call(B)).next,q!==0)for(;!(Fe=(ye=Ne.call(ae)).done)&&(Ie.push(ye.value),Ie.length!==q);Fe=!0);}catch(K){Ze=!0,ve=K}finally{try{if(!Fe&&ae.return!=null&&(Te=ae.return(),Object(Te)!==Te))return}finally{if(Ze)throw ve}}return Ie}}function o(B){if(Array.isArray(B))return B}function s(B){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s(B)}var l=/a/g.flags!==void 0,a=function(q){var ae=[];return q.forEach(function(ye){return ae.push(ye)}),ae},u=function(q){var ae=[];return q.forEach(function(ye,ve){return ae.push([ve,ye])}),ae},c=Object.is?Object.is:oN(),h=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:lN();function d(B){return B.call.bind(B)}var p=d(Object.prototype.hasOwnProperty),v=d(Object.prototype.propertyIsEnumerable),m=d(Object.prototype.toString),y=xi.types,g=y.isAnyArrayBuffer,x=y.isArrayBufferView,S=y.isDate,_=y.isMap,b=y.isRegExp,C=y.isSet,O=y.isNativeError,D=y.isBoxedPrimitive,M=y.isNumberObject,j=y.isStringObject,k=y.isBooleanObject,V=y.isBigIntObject,se=y.isSymbolObject,ie=y.isFloat32Array,fe=y.isFloat64Array;function Ee(B){if(B.length===0||B.length>10)return!0;for(var q=0;q<B.length;q++){var ae=B.charCodeAt(q);if(ae<48||ae>57)return!0}return B.length===10&&B>=Math.pow(2,32)}function me(B){return Object.keys(B).filter(Ee).concat(h(B).filter(Object.prototype.propertyIsEnumerable.bind(B)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function ee(B,q){if(B===q)return 0;for(var ae=B.length,ye=q.length,ve=0,Ne=Math.min(ae,ye);ve<Ne;++ve)if(B[ve]!==q[ve]){ae=B[ve],ye=q[ve];break}return ae<ye?-1:ye<ae?1:0}var X=!0,Z=!1,le=0,E=1,A=2,T=3;function N(B,q){return l?B.source===q.source&&B.flags===q.flags:RegExp.prototype.toString.call(B)===RegExp.prototype.toString.call(q)}function R(B,q){if(B.byteLength!==q.byteLength)return!1;for(var ae=0;ae<B.byteLength;ae++)if(B[ae]!==q[ae])return!1;return!0}function P(B,q){return B.byteLength!==q.byteLength?!1:ee(new Uint8Array(B.buffer,B.byteOffset,B.byteLength),new Uint8Array(q.buffer,q.byteOffset,q.byteLength))===0}function L(B,q){return B.byteLength===q.byteLength&&ee(new Uint8Array(B),new Uint8Array(q))===0}function z(B,q){return M(B)?M(q)&&c(Number.prototype.valueOf.call(B),Number.prototype.valueOf.call(q)):j(B)?j(q)&&String.prototype.valueOf.call(B)===String.prototype.valueOf.call(q):k(B)?k(q)&&Boolean.prototype.valueOf.call(B)===Boolean.prototype.valueOf.call(q):V(B)?V(q)&&BigInt.prototype.valueOf.call(B)===BigInt.prototype.valueOf.call(q):se(q)&&Symbol.prototype.valueOf.call(B)===Symbol.prototype.valueOf.call(q)}function W(B,q,ae,ye){if(B===q)return B!==0?!0:ae?c(B,q):!0;if(ae){if(s(B)!=="object")return typeof B=="number"&&f(B)&&f(q);if(s(q)!=="object"||B===null||q===null||Object.getPrototypeOf(B)!==Object.getPrototypeOf(q))return!1}else{if(B===null||s(B)!=="object")return q===null||s(q)!=="object"?B==q:!1;if(q===null||s(q)!=="object")return!1}var ve=m(B),Ne=m(q);if(ve!==Ne)return!1;if(Array.isArray(B)){if(B.length!==q.length)return!1;var Te=me(B),Ie=me(q);return Te.length!==Ie.length?!1:I(B,q,ae,ye,E,Te)}if(ve==="[object Object]"&&(!_(B)&&_(q)||!C(B)&&C(q)))return!1;if(S(B)){if(!S(q)||Date.prototype.getTime.call(B)!==Date.prototype.getTime.call(q))return!1}else if(b(B)){if(!b(q)||!N(B,q))return!1}else if(O(B)||B instanceof Error){if(B.message!==q.message||B.name!==q.name)return!1}else if(x(B)){if(!ae&&(ie(B)||fe(B))){if(!R(B,q))return!1}else if(!P(B,q))return!1;var Fe=me(B),Ze=me(q);return Fe.length!==Ze.length?!1:I(B,q,ae,ye,le,Fe)}else{if(C(B))return!C(q)||B.size!==q.size?!1:I(B,q,ae,ye,A);if(_(B))return!_(q)||B.size!==q.size?!1:I(B,q,ae,ye,T);if(g(B)){if(!L(B,q))return!1}else if(D(B)&&!z(B,q))return!1}return I(B,q,ae,ye,le)}function Y(B,q){return q.filter(function(ae){return v(B,ae)})}function I(B,q,ae,ye,ve,Ne){if(arguments.length===5){Ne=Object.keys(B);var Te=Object.keys(q);if(Ne.length!==Te.length)return!1}for(var Ie=0;Ie<Ne.length;Ie++)if(!p(q,Ne[Ie]))return!1;if(ae&&arguments.length===5){var Fe=h(B);if(Fe.length!==0){var Ze=0;for(Ie=0;Ie<Fe.length;Ie++){var K=Fe[Ie];if(v(B,K)){if(!v(q,K))return!1;Ne.push(K),Ze++}else if(v(q,K))return!1}var be=h(q);if(Fe.length!==be.length&&Y(q,be).length!==Ze)return!1}else{var _e=h(q);if(_e.length!==0&&Y(q,_e).length!==0)return!1}}if(Ne.length===0&&(ve===le||ve===E&&B.length===0||B.size===0))return!0;if(ye===void 0)ye={val1:new Map,val2:new Map,position:0};else{var Ce=ye.val1.get(B);if(Ce!==void 0){var $e=ye.val2.get(q);if($e!==void 0)return Ce===$e}ye.position++}ye.val1.set(B,ye.position),ye.val2.set(q,ye.position);var zt=ge(B,q,ae,Ne,ye,ve);return ye.val1.delete(B),ye.val2.delete(q),zt}function F(B,q,ae,ye){for(var ve=a(B),Ne=0;Ne<ve.length;Ne++){var Te=ve[Ne];if(W(q,Te,ae,ye))return B.delete(Te),!0}return!1}function U(B){switch(s(B)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":B=+B;case"number":if(f(B))return!1}return!0}function Q(B,q,ae){var ye=U(ae);return ye??(q.has(ye)&&!B.has(ye))}function ne(B,q,ae,ye,ve){var Ne=U(ae);if(Ne!=null)return Ne;var Te=q.get(Ne);return Te===void 0&&!q.has(Ne)||!W(ye,Te,!1,ve)?!1:!B.has(Ne)&&W(ye,Te,!1,ve)}function oe(B,q,ae,ye){for(var ve=null,Ne=a(B),Te=0;Te<Ne.length;Te++){var Ie=Ne[Te];if(s(Ie)==="object"&&Ie!==null)ve===null&&(ve=new Set),ve.add(Ie);else if(!q.has(Ie)){if(ae||!Q(B,q,Ie))return!1;ve===null&&(ve=new Set),ve.add(Ie)}}if(ve!==null){for(var Fe=a(q),Ze=0;Ze<Fe.length;Ze++){var K=Fe[Ze];if(s(K)==="object"&&K!==null){if(!F(ve,K,ae,ye))return!1}else if(!ae&&!B.has(K)&&!F(ve,K,ae,ye))return!1}return ve.size===0}return!0}function H(B,q,ae,ye,ve,Ne){for(var Te=a(B),Ie=0;Ie<Te.length;Ie++){var Fe=Te[Ie];if(W(ae,Fe,ve,Ne)&&W(ye,q.get(Fe),ve,Ne))return B.delete(Fe),!0}return!1}function G(B,q,ae,ye){for(var ve=null,Ne=u(B),Te=0;Te<Ne.length;Te++){var Ie=n(Ne[Te],2),Fe=Ie[0],Ze=Ie[1];if(s(Fe)==="object"&&Fe!==null)ve===null&&(ve=new Set),ve.add(Fe);else{var K=q.get(Fe);if(K===void 0&&!q.has(Fe)||!W(Ze,K,ae,ye)){if(ae||!ne(B,q,Fe,Ze,ye))return!1;ve===null&&(ve=new Set),ve.add(Fe)}}}if(ve!==null){for(var be=u(q),_e=0;_e<be.length;_e++){var Ce=n(be[_e],2),$e=Ce[0],zt=Ce[1];if(s($e)==="object"&&$e!==null){if(!H(ve,B,$e,zt,ae,ye))return!1}else if(!ae&&(!B.has($e)||!W(B.get($e),zt,!1,ye))&&!H(ve,B,$e,zt,!1,ye))return!1}return ve.size===0}return!0}function ge(B,q,ae,ye,ve,Ne){var Te=0;if(Ne===A){if(!oe(B,q,ae,ve))return!1}else if(Ne===T){if(!G(B,q,ae,ve))return!1}else if(Ne===E)for(;Te<B.length;Te++)if(p(B,Te)){if(!p(q,Te)||!W(B[Te],q[Te],ae,ve))return!1}else{if(p(q,Te))return!1;for(var Ie=Object.keys(B);Te<Ie.length;Te++){var Fe=Ie[Te];if(!p(q,Fe)||!W(B[Fe],q[Fe],ae,ve))return!1}return Ie.length===Object.keys(q).length}for(Te=0;Te<ye.length;Te++){var Ze=ye[Te];if(!W(B[Ze],q[Ze],ae,ve))return!1}return!0}function ke(B,q){return W(B,q,Z)}function He(B,q){return W(B,q,X)}return Jh={isDeepEqual:ke,isDeepStrictEqual:He},Jh}var ng;function jt(){if(ng)return Dh.exports;ng=1;function n(A){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(A)}function e(A,T,N){return Object.defineProperty(A,"prototype",{writable:!1}),A}function t(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}var r=$v(),i=r.codes,o=i.ERR_AMBIGUOUS_ARGUMENT,s=i.ERR_INVALID_ARG_TYPE,l=i.ERR_INVALID_ARG_VALUE,a=i.ERR_INVALID_RETURN_VALUE,u=i.ERR_MISSING_ARGS,c=WO(),h=xi,f=h.inspect,d=xi.types,p=d.isPromise,v=d.isRegExp,m=rN(),y=Ap(),g=dc("RegExp.prototype.test"),x,S;function _(){var A=aN();x=A.isDeepEqual,S=A.isDeepStrictEqual}var b=!1,C=Dh.exports=k,O={};function D(A){throw A.message instanceof Error?A.message:new c(A)}function M(A,T,N,R,P){var L=arguments.length,z;if(L===0)z="Failed";else if(L===1)N=A,A=void 0;else{if(b===!1){b=!0;var W=tt.emitWarning?tt.emitWarning:console.warn.bind(console);W("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}L===2&&(R="!=")}if(N instanceof Error)throw N;var Y={actual:A,expected:T,operator:R===void 0?"fail":R,stackStartFn:P||M};N!==void 0&&(Y.message=N);var I=new c(Y);throw z&&(I.message=z,I.generatedMessage=!0),I}C.fail=M,C.AssertionError=c;function j(A,T,N,R){if(!N){var P=!1;if(T===0)P=!0,R="No value argument passed to `assert.ok()`";else if(R instanceof Error)throw R;var L=new c({actual:N,expected:!0,message:R,operator:"==",stackStartFn:A});throw L.generatedMessage=P,L}}function k(){for(var A=arguments.length,T=new Array(A),N=0;N<A;N++)T[N]=arguments[N];j.apply(void 0,[k,T.length].concat(T))}C.ok=k,C.equal=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");T!=N&&D({actual:T,expected:N,message:R,operator:"==",stackStartFn:A})},C.notEqual=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");T==N&&D({actual:T,expected:N,message:R,operator:"!=",stackStartFn:A})},C.deepEqual=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");x===void 0&&_(),x(T,N)||D({actual:T,expected:N,message:R,operator:"deepEqual",stackStartFn:A})},C.notDeepEqual=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");x===void 0&&_(),x(T,N)&&D({actual:T,expected:N,message:R,operator:"notDeepEqual",stackStartFn:A})},C.deepStrictEqual=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");x===void 0&&_(),S(T,N)||D({actual:T,expected:N,message:R,operator:"deepStrictEqual",stackStartFn:A})},C.notDeepStrictEqual=V;function V(A,T,N){if(arguments.length<2)throw new u("actual","expected");x===void 0&&_(),S(A,T)&&D({actual:A,expected:T,message:N,operator:"notDeepStrictEqual",stackStartFn:V})}C.strictEqual=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");y(T,N)||D({actual:T,expected:N,message:R,operator:"strictEqual",stackStartFn:A})},C.notStrictEqual=function A(T,N,R){if(arguments.length<2)throw new u("actual","expected");y(T,N)&&D({actual:T,expected:N,message:R,operator:"notStrictEqual",stackStartFn:A})};var se=e(function A(T,N,R){var P=this;t(this,A),N.forEach(function(L){L in T&&(R!==void 0&&typeof R[L]=="string"&&v(T[L])&&g(T[L],R[L])?P[L]=R[L]:P[L]=T[L])})});function ie(A,T,N,R,P,L){if(!(N in A)||!S(A[N],T[N])){if(!R){var z=new se(A,P),W=new se(T,P,A),Y=new c({actual:z,expected:W,operator:"deepStrictEqual",stackStartFn:L});throw Y.actual=A,Y.expected=T,Y.operator=L.name,Y}D({actual:A,expected:T,message:R,operator:L.name,stackStartFn:L})}}function fe(A,T,N,R){if(typeof T!="function"){if(v(T))return g(T,A);if(arguments.length===2)throw new s("expected",["Function","RegExp"],T);if(n(A)!=="object"||A===null){var P=new c({actual:A,expected:T,message:N,operator:"deepStrictEqual",stackStartFn:R});throw P.operator=R.name,P}var L=Object.keys(T);if(T instanceof Error)L.push("name","message");else if(L.length===0)throw new l("error",T,"may not be an empty object");return x===void 0&&_(),L.forEach(function(z){typeof A[z]=="string"&&v(T[z])&&g(T[z],A[z])||ie(A,T,z,N,L,R)}),!0}return T.prototype!==void 0&&A instanceof T?!0:Error.isPrototypeOf(T)?!1:T.call({},A)===!0}function Ee(A){if(typeof A!="function")throw new s("fn","Function",A);try{A()}catch(T){return T}return O}function me(A){return p(A)||A!==null&&n(A)==="object"&&typeof A.then=="function"&&typeof A.catch=="function"}function ee(A){return Promise.resolve().then(function(){var T;if(typeof A=="function"){if(T=A(),!me(T))throw new a("instance of Promise","promiseFn",T)}else if(me(A))T=A;else throw new s("promiseFn",["Function","Promise"],A);return Promise.resolve().then(function(){return T}).then(function(){return O}).catch(function(N){return N})})}function X(A,T,N,R){if(typeof N=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],N);if(n(T)==="object"&&T!==null){if(T.message===N)throw new o("error/message",'The error message "'.concat(T.message,'" is identical to the message.'))}else if(T===N)throw new o("error/message",'The error "'.concat(T,'" is identical to the message.'));R=N,N=void 0}else if(N!=null&&n(N)!=="object"&&typeof N!="function")throw new s("error",["Object","Error","Function","RegExp"],N);if(T===O){var P="";N&&N.name&&(P+=" (".concat(N.name,")")),P+=R?": ".concat(R):".";var L=A.name==="rejects"?"rejection":"exception";D({actual:void 0,expected:N,operator:A.name,message:"Missing expected ".concat(L).concat(P),stackStartFn:A})}if(N&&!fe(T,N,R,A))throw T}function Z(A,T,N,R){if(T!==O){if(typeof N=="string"&&(R=N,N=void 0),!N||fe(T,N)){var P=R?": ".concat(R):".",L=A.name==="doesNotReject"?"rejection":"exception";D({actual:T,expected:N,operator:A.name,message:"Got unwanted ".concat(L).concat(P,`
`)+'Actual message: "'.concat(T&&T.message,'"'),stackStartFn:A})}throw T}}C.throws=function A(T){for(var N=arguments.length,R=new Array(N>1?N-1:0),P=1;P<N;P++)R[P-1]=arguments[P];X.apply(void 0,[A,Ee(T)].concat(R))},C.rejects=function A(T){for(var N=arguments.length,R=new Array(N>1?N-1:0),P=1;P<N;P++)R[P-1]=arguments[P];return ee(T).then(function(L){return X.apply(void 0,[A,L].concat(R))})},C.doesNotThrow=function A(T){for(var N=arguments.length,R=new Array(N>1?N-1:0),P=1;P<N;P++)R[P-1]=arguments[P];Z.apply(void 0,[A,Ee(T)].concat(R))},C.doesNotReject=function A(T){for(var N=arguments.length,R=new Array(N>1?N-1:0),P=1;P<N;P++)R[P-1]=arguments[P];return ee(T).then(function(L){return Z.apply(void 0,[A,L].concat(R))})},C.ifError=function A(T){if(T!=null){var N="ifError got unwanted exception: ";n(T)==="object"&&typeof T.message=="string"?T.message.length===0&&T.constructor?N+=T.constructor.name:N+=T.message:N+=f(T);var R=new c({actual:T,expected:null,operator:"ifError",message:N,stackStartFn:A}),P=T.stack;if(typeof P=="string"){var L=P.split(`
`);L.shift();for(var z=R.stack.split(`
`),W=0;W<L.length;W++){var Y=z.indexOf(L[W]);if(Y!==-1){z=z.slice(0,Y);break}}R.stack="".concat(z.join(`
`),`
`).concat(L.join(`
`))}throw R}};function le(A,T,N,R,P){if(!v(T))throw new s("regexp","RegExp",T);var L=P==="match";if(typeof A!="string"||g(T,A)!==L){if(N instanceof Error)throw N;var z=!N;N=N||(typeof A!="string"?'The "string" argument must be of type string. Received type '+"".concat(n(A)," (").concat(f(A),")"):(L?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(f(T),`. Input:

`).concat(f(A),`
`));var W=new c({actual:A,expected:T,message:N,operator:P,stackStartFn:R});throw W.generatedMessage=z,W}}C.match=function A(T,N,R){le(T,N,R,A,"match")},C.doesNotMatch=function A(T,N,R){le(T,N,R,A,"doesNotMatch")};function E(){for(var A=arguments.length,T=new Array(A),N=0;N<A;N++)T[N]=arguments[N];j.apply(void 0,[E,T.length].concat(T))}return C.strict=m(E,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict,Dh.exports}var J={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(J,"__esModule",{value:!0});J.SuppressWarnings=J.Override=J.Nullable=J.NotNull=void 0;function uN(n,e,t){}J.NotNull=uN;function cN(n,e,t){}J.Nullable=cN;function hN(n,e,t){}J.Override=hN;function fN(n){return(e,t,r)=>{}}J.SuppressWarnings=fN;var pn={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.IntStream=void 0,function(e){e.EOF=-1,e.UNKNOWN_SOURCE_NAME="<unknown>"}(n.IntStream||(n.IntStream={}))})(pn);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Vr=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(cc,"__esModule",{value:!0});cc.ANTLRInputStream=void 0;const dN=jt(),Wr=J,qa=pn;class br{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw dN(this.LA(1)===qa.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?qa.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let t=e.a,r=e.b;r>=this.n&&(r=this.n-1);let i=r-t+1;return t>=this.n?"":this.data.substr(t,i)}get sourceName(){return this.name?this.name:qa.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}}Vr([Wr.Override],br.prototype,"consume",null);Vr([Wr.Override],br.prototype,"LA",null);Vr([Wr.Override],br.prototype,"index",null);Vr([Wr.Override],br.prototype,"size",null);Vr([Wr.Override],br.prototype,"mark",null);Vr([Wr.Override],br.prototype,"release",null);Vr([Wr.Override],br.prototype,"seek",null);Vr([Wr.Override],br.prototype,"getText",null);Vr([Wr.Override],br.prototype,"sourceName",null);Vr([Wr.Override],br.prototype,"toString",null);cc.ANTLRInputStream=br;var rs={},ns={},Kr={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(i,o,s,l){var a=arguments.length,u=a<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,o,s,l);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(u=(a<3?c(u):a>3?c(o,s,u):c(o,s))||u);return a>3&&u&&Object.defineProperty(o,s,u),u};Object.defineProperty(n,"__esModule",{value:!0}),n.ATNState=void 0;const t=J;class r{constructor(){this.stateNumber=r.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(o){return o instanceof r?this.stateNumber===o.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(o,s){if(this.transitions.length===0)this.epsilonOnlyTransitions=o.isEpsilon;else if(this.epsilonOnlyTransitions!==o.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(s!==void 0?s:this.transitions.length,0,o)}transition(o){return this.transitions[o]}setTransition(o,s){this.transitions[o]=s}removeTransition(o){return this.transitions.splice(o,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(o){this.ruleIndex=o}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(o){return this.optimizedTransitions[o]}addOptimizedTransition(o){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(o)}setOptimizedTransition(o,s){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[o]=s}removeOptimizedTransition(o){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(o,1)}}e([t.Override],r.prototype,"hashCode",null),e([t.Override],r.prototype,"equals",null),e([t.Override],r.prototype,"toString",null),n.ATNState=r,function(i){i.INVALID_STATE_NUMBER=-1}(r=n.ATNState||(n.ATNState={}))})(Kr);var mt={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.ATNStateType=void 0,function(e){e[e.INVALID_TYPE=0]="INVALID_TYPE",e[e.BASIC=1]="BASIC",e[e.RULE_START=2]="RULE_START",e[e.BLOCK_START=3]="BLOCK_START",e[e.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",e[e.STAR_BLOCK_START=5]="STAR_BLOCK_START",e[e.TOKEN_START=6]="TOKEN_START",e[e.RULE_STOP=7]="RULE_STOP",e[e.BLOCK_END=8]="BLOCK_END",e[e.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",e[e.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",e[e.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",e[e.LOOP_END=12]="LOOP_END"}(n.ATNStateType||(n.ATNStateType={}))})(mt);var ko={},Gr={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Gr,"__esModule",{value:!0});var Ye=Gr.RecognitionException=void 0;class pN extends Error{constructor(e,t,r,i){super(i),this._offendingState=-1,this._recognizer=e,this.input=t,this.ctx=r,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,t){e===this._recognizer&&(this.offendingToken=t)}get recognizer(){return this._recognizer}}Ye=Gr.RecognitionException=pN;var ql={},Io={},Ar={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Gv=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mN=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.Transition=void 0;const Xv=J;let Ol=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};Ol.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];Gv([Xv.NotNull],Ol.prototype,"target",void 0);Ol=Gv([mN(0,Xv.NotNull)],Ol);Ar.Transition=Ol;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Io,"__esModule",{value:!0});Io.AbstractPredicateTransition=void 0;const gN=Ar;class xN extends gN.Transition{constructor(e){super(e)}}Io.AbstractPredicateTransition=xN;var ki={},_r={},gc={},Je={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash=void 0,function(e){function r(a=0){return a}e.initialize=r;function i(a,u){u==null?u=0:typeof u=="string"?u=l(u):typeof u=="object"&&(u=u.hashCode());let m=u;return m=Math.imul(m,3432918353),m=m<<15|m>>>17,m=Math.imul(m,461845907),a=a^m,a=a<<13|a>>>19,a=Math.imul(a,5)+3864292196,a&4294967295}e.update=i;function o(a,u){return a=a^u*4,a=a^a>>>16,a=Math.imul(a,2246822507),a=a^a>>>13,a=Math.imul(a,3266489909),a=a^a>>>16,a}e.finish=o;function s(a,u=0){let c=r(u),h=0;for(let f of a)c=i(c,f),h++;return c=o(c,h),c}e.hashCode=s;function l(a){let u=a.length;if(u===0)return 0;let c=0;for(let h=0;h<u;h++){let f=a.charCodeAt(h);c=(c<<5>>>0)-c+f,c|=0}return c}}(n.MurmurHash||(n.MurmurHash={}))})(Je);var nr={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Yv=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(nr,"__esModule",{value:!0});nr.ObjectEqualityComparator=void 0;const Jv=J;class Nl{hashCode(e){return e==null?0:e.hashCode()}equals(e,t){return e==null?t==null:e.equals(t)}}Nl.INSTANCE=new Nl;Yv([Jv.Override],Nl.prototype,"hashCode",null);Yv([Jv.Override],Nl.prototype,"equals",null);nr.ObjectEqualityComparator=Nl;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Qv=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(gc,"__esModule",{value:!0});gc.DefaultEqualityComparator=void 0;const Zv=J,yN=Je,ig=nr;class Dl{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?yN.MurmurHash.hashCode([e]):ig.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,t){return e==null?t==null:typeof e=="string"||typeof e=="number"?e===t:ig.ObjectEqualityComparator.INSTANCE.equals(e,t)}}Dl.INSTANCE=new Dl;Qv([Zv.Override],Dl.prototype,"hashCode",null);Qv([Zv.Override],Dl.prototype,"equals",null);gc.DefaultEqualityComparator=Dl;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Lt=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vN=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(_r,"__esModule",{value:!0});_r.Array2DHashSet=void 0;const SN=jt(),bN=gc,kt=J,Qh=Je,Ua=16,Zh=.75;class rt{constructor(e,t=Ua){if(this.n=0,this.threshold=Math.floor(Ua*Zh),e instanceof rt){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let r=0;r<this.buckets.length;r++){let i=this.buckets[r];i&&(this.buckets[r]=i.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||bN.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(t)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let t=this.getBucket(e),r=this.buckets[t];if(!r)return r=[e],this.buckets[t]=r,this.n++,e;for(let i of r)if(this.comparator.equals(i,e))return i;return r.push(e),this.n++,e}get(e){if(e==null)return e;let t=this.getBucket(e),r=this.buckets[t];if(r){for(let i of r)if(this.comparator.equals(i,e))return i}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=Qh.MurmurHash.initialize();for(let t of this.buckets)if(t!=null)for(let r of t){if(r==null)break;e=Qh.MurmurHash.update(e,this.comparator.hashCode(r))}return e=Qh.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof rt)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,t=this.buckets.length*2,r=this.createBuckets(t);this.buckets=r,this.threshold=Math.floor(t*Zh);let i=this.size;for(let o of e)if(o)for(let s of o){let l=this.getBucket(s),a=this.buckets[l];a||(a=[],this.buckets[l]=a),a.push(s)}SN(this.n===i)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const e=new Array(this.size);let t=0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;e[t++]=i}return e}containsAll(e){if(e instanceof rt){let t=e;for(let r of t.buckets)if(r!=null)for(let i of r){if(i==null)break;if(!this.containsFast(this.asElementType(i)))return!1}}else for(let t of e)if(!this.containsFast(this.asElementType(t)))return!1;return!0}addAll(e){let t=!1;for(let r of e)this.getOrAdd(r)!==r&&(t=!0);return t}clear(){this.buckets=this.createBuckets(Ua),this.n=0,this.threshold=Math.floor(Ua*Zh)}toString(){if(this.size===0)return"{}";let e="{",t=!0;for(let r of this.buckets)if(r!=null)for(let i of r){if(i==null)break;t?t=!1:e+=", ",e+=i.toString()}return e+="}",e}toTableString(){let e="";for(let t of this.buckets){if(t==null){e+=`null
`;continue}e+="[";let r=!0;for(let i of t)r?r=!1:e+=" ",i==null?e+="_":e+=i.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}}Lt([kt.NotNull],rt.prototype,"comparator",void 0);Lt([kt.Override],rt.prototype,"hashCode",null);Lt([kt.Override],rt.prototype,"equals",null);Lt([kt.Override],rt.prototype,"add",null);Lt([kt.Override],rt.prototype,"size",null);Lt([kt.Override],rt.prototype,"isEmpty",null);Lt([kt.Override],rt.prototype,"contains",null);Lt([vN(0,kt.Nullable)],rt.prototype,"containsFast",null);Lt([kt.Override],rt.prototype,Symbol.iterator,null);Lt([kt.Override],rt.prototype,"toArray",null);Lt([kt.Override],rt.prototype,"containsAll",null);Lt([kt.Override],rt.prototype,"addAll",null);Lt([kt.Override],rt.prototype,"clear",null);Lt([kt.Override],rt.prototype,"toString",null);Lt([kt.SuppressWarnings("unchecked")],rt.prototype,"asElementType",null);Lt([kt.SuppressWarnings("unchecked")],rt.prototype,"createBuckets",null);_r.Array2DHashSet=rt;var Ii={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var eS=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.ArrayEqualityComparator=void 0;const tS=J,AN=Je,_N=nr;class Pl{hashCode(e){return e==null?0:AN.MurmurHash.hashCode(e,0)}equals(e,t){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!_N.ObjectEqualityComparator.INSTANCE.equals(e[r],t[r]))return!1;return!0}}Pl.INSTANCE=new Pl;eS([tS.Override],Pl.prototype,"hashCode",null);eS([tS.Override],Pl.prototype,"equals",null);Ii.ArrayEqualityComparator=Pl;var ut={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ut,"__esModule",{value:!0});var _p=ut.toCharArray=ut.toMap=ut.equals=ut.join=ut.escapeWhitespace=void 0;function TN(n,e){return e?n.replace(/ /,"·"):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}ut.escapeWhitespace=TN;function EN(n,e){let t="",r=!0;for(let i of n)r?r=!1:t+=e,t+=i;return t}ut.join=EN;function CN(n,e){return n===e?!0:n===void 0||e===void 0?!1:n.equals(e)}ut.equals=CN;function wN(n){let e=new Map;for(let t=0;t<n.length;t++)e.set(n[t],t);return e}ut.toMap=wN;function ON(n){if(typeof n=="string"){let e=new Uint16Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}else return n.toCharArray()}_p=ut.toCharArray=ON;(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(f,d,p,v){var m=arguments.length,y=m<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,p):v,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,v);else for(var x=f.length-1;x>=0;x--)(g=f[x])&&(y=(m<3?g(y):m>3?g(d,p,y):g(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},t=w&&w.__param||function(f,d){return function(p,v){d(p,v,f)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SemanticContext=void 0;const r=_r,i=Ii,o=Je,s=J,l=nr,a=ut;function u(f){let d;for(let p of f){if(d===void 0){d=p;continue}d.compareTo(p)<0&&(d=p)}return d}function c(f){let d;for(let p of f){if(d===void 0){d=p;continue}d.compareTo(p)>0&&(d=p)}return d}class h{static get NONE(){return h._NONE===void 0&&(h._NONE=new h.Predicate),h._NONE}evalPrecedence(d,p){return this}static and(d,p){if(!d||d===h.NONE)return p;if(p===h.NONE)return d;let v=new h.AND(d,p);return v.opnds.length===1?v.opnds[0]:v}static or(d,p){if(!d)return p;if(d===h.NONE||p===h.NONE)return h.NONE;let v=new h.OR(d,p);return v.opnds.length===1?v.opnds[0]:v}}n.SemanticContext=h,function(f){function v(_){let b=[];for(let C=0;C<_.length;C++){let O=_[C];O instanceof f.PrecedencePredicate&&(b.push(O),_.splice(C,1),C--)}return b}class m extends f{constructor(b=-1,C=-1,O=!1){super(),this.ruleIndex=b,this.predIndex=C,this.isCtxDependent=O}eval(b,C){let O=this.isCtxDependent?C:void 0;return b.sempred(O,this.ruleIndex,this.predIndex)}hashCode(){let b=o.MurmurHash.initialize();return b=o.MurmurHash.update(b,this.ruleIndex),b=o.MurmurHash.update(b,this.predIndex),b=o.MurmurHash.update(b,this.isCtxDependent?1:0),b=o.MurmurHash.finish(b,3),b}equals(b){return b instanceof m?this===b?!0:this.ruleIndex===b.ruleIndex&&this.predIndex===b.predIndex&&this.isCtxDependent===b.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}e([s.Override],m.prototype,"eval",null),e([s.Override],m.prototype,"hashCode",null),e([s.Override],m.prototype,"equals",null),e([s.Override],m.prototype,"toString",null),f.Predicate=m;class y extends f{constructor(b){super(),this.precedence=b}eval(b,C){return b.precpred(C,this.precedence)}evalPrecedence(b,C){if(b.precpred(C,this.precedence))return f.NONE}compareTo(b){return this.precedence-b.precedence}hashCode(){let b=1;return b=31*b+this.precedence,b}equals(b){return b instanceof y?this===b?!0:this.precedence===b.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}e([s.Override],y.prototype,"eval",null),e([s.Override],y.prototype,"evalPrecedence",null),e([s.Override],y.prototype,"compareTo",null),e([s.Override],y.prototype,"hashCode",null),e([s.Override],y.prototype,"equals",null),e([s.Override],y.prototype,"toString",null),f.PrecedencePredicate=y;class g extends f{}f.Operator=g;let x=class pu extends g{constructor(b,C){super();let O=new r.Array2DHashSet(l.ObjectEqualityComparator.INSTANCE);b instanceof pu?O.addAll(b.opnds):O.add(b),C instanceof pu?O.addAll(C.opnds):O.add(C),this.opnds=O.toArray();let D=v(this.opnds),M=c(D);M&&this.opnds.push(M)}get operands(){return this.opnds}equals(b){return this===b?!0:b instanceof pu?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,b.opnds):!1}hashCode(){return o.MurmurHash.hashCode(this.opnds,40363613)}eval(b,C){for(let O of this.opnds)if(!O.eval(b,C))return!1;return!0}evalPrecedence(b,C){let O=!1,D=[];for(let j of this.opnds){let k=j.evalPrecedence(b,C);if(O=O||k!==j,k==null)return;k!==f.NONE&&D.push(k)}if(!O)return this;if(D.length===0)return f.NONE;let M=D[0];for(let j=1;j<D.length;j++)M=f.and(M,D[j]);return M}toString(){return a.join(this.opnds,"&&")}};e([s.Override],x.prototype,"operands",null),e([s.Override],x.prototype,"equals",null),e([s.Override],x.prototype,"hashCode",null),e([s.Override],x.prototype,"eval",null),e([s.Override],x.prototype,"evalPrecedence",null),e([s.Override],x.prototype,"toString",null),x=e([t(0,s.NotNull),t(1,s.NotNull)],x),f.AND=x;let S=class mu extends g{constructor(b,C){super();let O=new r.Array2DHashSet(l.ObjectEqualityComparator.INSTANCE);b instanceof mu?O.addAll(b.opnds):O.add(b),C instanceof mu?O.addAll(C.opnds):O.add(C),this.opnds=O.toArray();let D=v(this.opnds),M=u(D);M&&this.opnds.push(M)}get operands(){return this.opnds}equals(b){return this===b?!0:b instanceof mu?i.ArrayEqualityComparator.INSTANCE.equals(this.opnds,b.opnds):!1}hashCode(){return o.MurmurHash.hashCode(this.opnds,486279973)}eval(b,C){for(let O of this.opnds)if(O.eval(b,C))return!0;return!1}evalPrecedence(b,C){let O=!1,D=[];for(let j of this.opnds){let k=j.evalPrecedence(b,C);if(O=O||k!==j,k===f.NONE)return f.NONE;k&&D.push(k)}if(!O)return this;if(D.length===0)return;let M=D[0];for(let j=1;j<D.length;j++)M=f.or(M,D[j]);return M}toString(){return a.join(this.opnds,"||")}};e([s.Override],S.prototype,"operands",null),e([s.Override],S.prototype,"equals",null),e([s.Override],S.prototype,"hashCode",null),e([s.Override],S.prototype,"eval",null),e([s.Override],S.prototype,"evalPrecedence",null),e([s.Override],S.prototype,"toString",null),S=e([t(0,s.NotNull),t(1,s.NotNull)],S),f.OR=S}(h=n.SemanticContext||(n.SemanticContext={}))})(ki);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ul=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},NN=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ql,"__esModule",{value:!0});ql.PredicateTransition=void 0;const DN=Io,Ao=J,PN=ki;let yi=class extends DN.AbstractPredicateTransition{constructor(e,t,r,i){super(e),this.ruleIndex=t,this.predIndex=r,this.isCtxDependent=i}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new PN.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};Ul([Ao.Override],yi.prototype,"serializationType",null);Ul([Ao.Override],yi.prototype,"isEpsilon",null);Ul([Ao.Override],yi.prototype,"matches",null);Ul([Ao.Override,Ao.NotNull],yi.prototype,"toString",null);yi=Ul([NN(0,Ao.NotNull)],yi);ql.PredicateTransition=yi;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var rS=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},RN=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ko,"__esModule",{value:!0});var nS=ko.FailedPredicateException=void 0;const LN=Gr,iS=J,kN=ql;let Vu=class oS extends LN.RecognitionException{constructor(e,t,r){super(e,e.inputStream,e.context,oS.formatMessage(t,r));let o=e.interpreter.atn.states[e.state].transition(0);o instanceof kN.PredicateTransition?(this._ruleIndex=o.ruleIndex,this._predicateIndex=o.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=t,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,t){return t||`failed predicate: {${e}}?`}};rS([iS.NotNull],Vu,"formatMessage",null);Vu=rS([RN(0,iS.NotNull)],Vu);nS=ko.FailedPredicateException=Vu;var Fi={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var IN=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},FN=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.InputMismatchException=void 0;const MN=Gr,BN=J;let Td=class extends MN.RecognitionException{constructor(e,t,r){r===void 0&&(r=e.context),super(e,e.inputStream,r),t!==void 0&&this.setOffendingState(t),this.setOffendingToken(e,e.currentToken)}};Td=IN([FN(0,BN.NotNull)],Td);Fi.InputMismatchException=Td;var is={},Fo={},xc={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.Arrays=void 0,function(e){function t(o,s,l,a){return r(o,l!==void 0?l:0,a!==void 0?a:o.length,s)}e.binarySearch=t;function r(o,s,l,a){let u=s,c=l-1;for(;u<=c;){let h=u+c>>>1,f=o[h];if(f<a)u=h+1;else if(f>a)c=h-1;else return h}return-(u+1)}function i(o){let s="[",l=!0;for(let a of o)l?l=!1:s+=", ",a===null?s+="null":a===void 0?s+="undefined":s+=a;return s+="]",s}e.toString=i}(n.Arrays||(n.Arrays={}))})(xc);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var yc=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.IntegerList=void 0;const jN=xc,vc=J,ef=new Int32Array(0),$N=4,tf=(1<<31>>>0)-1-8;class on{constructor(e){if(!e)this._data=ef,this._size=0;else if(e instanceof on)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=ef,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=ef,this._size=0;for(let t of e)this.add(t)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof on)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let t=0;for(let r of e)this._data[this._size+t]=r,t++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let t=0;t<this._size;t++)if(this._data[t]===e)return!0;return!1}set(e,t){if(e<0||e>=this._size)throw RangeError();let r=this._data[e];return this._data[e]=t,r}removeAt(e){let t=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,t}removeRange(e,t){if(e<0||t<0||e>this._size||t>this._size||e>t)throw RangeError();this._data.copyWithin(t,e,this._size),this._data.fill(0,this._size-(t-e),this._size),this._size-=t-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof on)||this._size!==e._size)return!1;for(let t=0;t<this._size;t++)if(this._data[t]!==e._data[t])return!1;return!0}hashCode(){let e=1;for(let t=0;t<this._size;t++)e=31*e+this._data[t];return e}toString(){return this._data.toString()}binarySearch(e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=this._size),t<0||r<0||t>this._size||r>this._size)throw new RangeError;if(t>r)throw new RangeError;return jN.Arrays.binarySearch(this._data,e,t,r)}ensureCapacity(e){if(e<0||e>tf)throw new RangeError;let t;for(this._data.length===0?t=$N:t=this._data.length;t<e;)t=t*2,(t<0||t>tf)&&(t=tf);let r=new Int32Array(t);r.set(this._data),this._data=r}toCharArray(){let e=new Uint16Array(this._size),t=0,r=!1;for(let i=0;i<this._size;i++){let o=this._data[i];if(o>=0&&o<65536){e[t]=o,t++;continue}if(!r){let l=new Uint16Array(this.charArraySize());l.set(e,0),e=l,r=!0}let s=String.fromCodePoint(o);e[t]=s.charCodeAt(0),e[t+1]=s.charCodeAt(1),t+=2}return e}charArraySize(){let e=0;for(let t=0;t<this._size;t++)e+=this._data[t]>=65536?2:1;return e}}yc([vc.NotNull],on.prototype,"_data",void 0);yc([vc.Override],on.prototype,"equals",null);yc([vc.Override],on.prototype,"hashCode",null);yc([vc.Override],on.prototype,"toString",null);Fo.IntegerList=on;var Ct={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Tp=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.Interval=void 0;const Ep=J,sS=1e3;class lt{constructor(e,t){this.a=e,this.b=t}static get INVALID(){return lt._INVALID}static of(e,t){return e!==t||e<0||e>sS?new lt(e,t):(lt.cache[e]==null&&(lt.cache[e]=new lt(e,e)),lt.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof lt?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return lt.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return lt.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let t;return e.startsBeforeNonDisjoint(this)?t=lt.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(t=lt.of(this.a,e.a-1)),t}toString(){return this.a+".."+this.b}}lt._INVALID=new lt(-1,-2);lt.cache=new Array(sS+1);Tp([Ep.Override],lt.prototype,"equals",null);Tp([Ep.Override],lt.prototype,"hashCode",null);Tp([Ep.Override],lt.prototype,"toString",null);Ct.Interval=lt;var os={},Sc={},Wn={},ze={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;const e=pn;(function(t){t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=e.IntStream.EOF,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1,t.MIN_USER_CHANNEL_VALUE=2})(n.Token||(n.Token={}))})(ze);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Wt=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lS=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.CommonToken=void 0;const HN=Ct,Kt=J,og=ze;let Tt=class il{constructor(e,t,r=il.EMPTY_SOURCE,i=og.Token.DEFAULT_CHANNEL,o=0,s=0){this._line=0,this._charPositionInLine=-1,this._channel=og.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=e,this.source=r,this._channel=i,this.start=o,this.stop=s,r.source!=null&&(this._line=r.source.line,this._charPositionInLine=r.source.charPositionInLine)}static fromToken(e){let t=new il(e.type,void 0,il.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return t._line=e.line,t.index=e.tokenIndex,t._charPositionInLine=e.charPositionInLine,e instanceof il?(t._text=e._text,t.source=e.source):(t._text=e.text,t.source={source:e.tokenSource,stream:e.inputStream}),t}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let t=e.size;return this.start<t&&this.stop<t?e.getText(HN.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let t="";this._channel>0&&(t=",channel="+this._channel);let r=this.text;r!=null?(r=r.replace(/\n/g,"\\n"),r=r.replace(/\r/g,"\\r"),r=r.replace(/\t/g,"\\t")):r="<no text>";let i=String(this._type);return e&&(i=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+r+"',<"+i+">"+t+","+this._line+":"+this.charPositionInLine+"]"}};Tt.EMPTY_SOURCE={source:void 0,stream:void 0};Wt([Kt.NotNull],Tt.prototype,"source",void 0);Wt([Kt.Override],Tt.prototype,"type",null);Wt([Kt.Override],Tt.prototype,"line",null);Wt([Kt.Override],Tt.prototype,"text",null);Wt([Kt.Override],Tt.prototype,"charPositionInLine",null);Wt([Kt.Override],Tt.prototype,"channel",null);Wt([Kt.Override],Tt.prototype,"startIndex",null);Wt([Kt.Override],Tt.prototype,"stopIndex",null);Wt([Kt.Override],Tt.prototype,"tokenIndex",null);Wt([Kt.Override],Tt.prototype,"tokenSource",null);Wt([Kt.Override],Tt.prototype,"inputStream",null);Wt([Kt.Override],Tt.prototype,"toString",null);Wt([lS(0,Kt.NotNull)],Tt,"fromToken",null);Tt=Wt([lS(2,Kt.NotNull)],Tt);Wn.CommonToken=Tt;(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(n,"__esModule",{value:!0}),n.CommonTokenFactory=void 0;const t=Wn,r=Ct,i=J;class o{constructor(l=!1){this.copyText=l}create(l,a,u,c,h,f,d,p){let v=new t.CommonToken(a,u,l,c,h,f);return v.line=d,v.charPositionInLine=p,u==null&&this.copyText&&l.stream!=null&&(v.text=l.stream.getText(r.Interval.of(h,f))),v}createSimple(l,a){return new t.CommonToken(l,a)}}e([i.Override],o.prototype,"create",null),e([i.Override],o.prototype,"createSimple",null),n.CommonTokenFactory=o,function(s){s.DEFAULT=new s}(o=n.CommonTokenFactory||(n.CommonTokenFactory={}))})(Sc);var Vl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Vl,"__esModule",{value:!0});Vl.IntegerStack=void 0;const zN=Fo;class qN extends zN.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}}Vl.IntegerStack=qN;var rf={},Wl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Wl,"__esModule",{value:!0});Wl.AcceptStateInfo=void 0;class UN{constructor(e,t){this._prediction=e,this._lexerActionExecutor=t}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}}Wl.AcceptStateInfo=UN;var nf={},mn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(mn,"__esModule",{value:!0});mn.Array2DHashMap=void 0;const sg=_r;class VN{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,t){return this.keyComparator.equals(e.key,t.key)}}class Wu{constructor(e){e instanceof Wu?this.backingStore=new sg.Array2DHashSet(e.backingStore):this.backingStore=new sg.Array2DHashSet(new VN(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let t=this.backingStore.get({key:e});if(t)return t.value}get isEmpty(){return this.backingStore.isEmpty}put(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?(i=r.value,r.value=t):this.backingStore.add({key:e,value:t}),i}putIfAbsent(e,t){let r=this.backingStore.get({key:e,value:t}),i;return r?i=r.value:this.backingStore.add({key:e,value:t}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof Wu?this.backingStore.equals(e.backingStore):!1}}mn.Array2DHashMap=Wu;var ss={},ls={},Mi={},Xr={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Xr,"__esModule",{value:!0});Xr.DecisionState=void 0;const WN=Kr;class KN extends WN.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}}Xr.DecisionState=KN;var of={},sf={},lg;function Cp(){return lg||(lg=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(a,u,c,h){var f=arguments.length,d=f<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,c):h,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(a,u,c,h);else for(var v=a.length-1;v>=0;v--)(p=a[v])&&(d=(f<3?p(d):f>3?p(u,c,d):p(u,c))||d);return f>3&&d&&Object.defineProperty(u,c,d),d};Object.defineProperty(n,"__esModule",{value:!0}),n.PredictionContextCache=void 0;const t=mn,r=J,i=nr,o=Tr(),s=jt();class l{constructor(u=!0){this.contexts=new t.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.childContexts=new t.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.joinContexts=new t.Array2DHashMap(i.ObjectEqualityComparator.INSTANCE),this.enableCache=u}getAsCached(u){if(!this.enableCache)return u;let c=this.contexts.get(u);return c||(c=u,this.contexts.put(u,u)),c}getChild(u,c){if(!this.enableCache)return u.getChild(c);let h=new l.PredictionContextAndInt(u,c),f=this.childContexts.get(h);return f||(f=u.getChild(c),f=this.getAsCached(f),this.childContexts.put(h,f)),f}join(u,c){if(!this.enableCache)return o.PredictionContext.join(u,c,this);let h=new l.IdentityCommutativePredictionContextOperands(u,c),f=this.joinContexts.get(h);return f||(f=o.PredictionContext.join(u,c,this),f=this.getAsCached(f),this.joinContexts.put(h,f),f)}}n.PredictionContextCache=l,l.UNCACHED=new l(!1),function(a){class u{constructor(f,d){this.obj=f,this.value=d}equals(f){if(f instanceof u){if(f===this)return!0}else return!1;let d=f;return this.value===d.value&&(this.obj===d.obj||this.obj!=null&&this.obj.equals(d.obj))}hashCode(){let f=5;return f=7*f+(this.obj!=null?this.obj.hashCode():0),f=7*f+this.value,f}}e([r.Override],u.prototype,"equals",null),e([r.Override],u.prototype,"hashCode",null),a.PredictionContextAndInt=u;class c{constructor(f,d){s(f!=null),s(d!=null),this._x=f,this._y=d}get x(){return this._x}get y(){return this._y}equals(f){if(f instanceof c){if(this===f)return!0}else return!1;let d=f;return this._x===d._x&&this._y===d._y||this._x===d._y&&this._y===d._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}e([r.Override],c.prototype,"equals",null),e([r.Override],c.prototype,"hashCode",null),a.IdentityCommutativePredictionContextOperands=c}(l=n.PredictionContextCache||(n.PredictionContextCache={}))}(sf)),sf}var ag;function Tr(){return ag||(ag=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(v,m,y,g){var x=arguments.length,S=x<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,y):g,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(v,m,y,g);else for(var b=v.length-1;b>=0;b--)(_=v[b])&&(S=(x<3?_(S):x>3?_(m,y,S):_(m,y))||S);return x>3&&S&&Object.defineProperty(m,y,S),S},t=w&&w.__param||function(v,m){return function(y,g){m(y,g,v)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SingletonPredictionContext=n.PredictionContext=void 0;const r=mn,i=_r,o=xc,s=Je,l=J,a=Cp(),u=jt(),c=1;class h{constructor(m){this.cachedHashCode=m}static calculateEmptyHashCode(){let m=s.MurmurHash.initialize(c);return m=s.MurmurHash.finish(m,0),m}static calculateSingleHashCode(m,y){let g=s.MurmurHash.initialize(c);return g=s.MurmurHash.update(g,m),g=s.MurmurHash.update(g,y),g=s.MurmurHash.finish(g,2),g}static calculateHashCode(m,y){let g=s.MurmurHash.initialize(c);for(let x of m)g=s.MurmurHash.update(g,x);for(let x of y)g=s.MurmurHash.update(g,x);return g=s.MurmurHash.finish(g,2*m.length),g}static fromRuleContext(m,y,g=!0){if(y.isEmpty)return g?h.EMPTY_FULL:h.EMPTY_LOCAL;let x;y._parent?x=h.fromRuleContext(m,y._parent,g):x=g?h.EMPTY_FULL:h.EMPTY_LOCAL;let _=m.states[y.invokingState].transition(0);return x.getChild(_.followState.stateNumber)}static addEmptyContext(m){return m.addEmptyContext()}static removeEmptyContext(m){return m.removeEmptyContext()}static join(m,y,g=a.PredictionContextCache.UNCACHED){if(m===y)return m;if(m.isEmpty)return h.isEmptyLocal(m)?m:h.addEmptyContext(y);if(y.isEmpty)return h.isEmptyLocal(y)?y:h.addEmptyContext(m);let x=m.size,S=y.size;if(x===1&&S===1&&m.getReturnState(0)===y.getReturnState(0)){let k=g.join(m.getParent(0),y.getParent(0));return k===m.getParent(0)?m:k===y.getParent(0)?y:k.getChild(m.getReturnState(0))}let _=0,b=new Array(x+S),C=new Array(b.length),O=0,D=0,M=!0,j=!0;for(;O<x&&D<S;)m.getReturnState(O)===y.getReturnState(D)?(b[_]=g.join(m.getParent(O),y.getParent(D)),C[_]=m.getReturnState(O),M=M&&b[_]===m.getParent(O),j=j&&b[_]===y.getParent(D),O++,D++):m.getReturnState(O)<y.getReturnState(D)?(b[_]=m.getParent(O),C[_]=m.getReturnState(O),j=!1,O++):(u(y.getReturnState(D)<m.getReturnState(O)),b[_]=y.getParent(D),C[_]=y.getReturnState(D),M=!1,D++),_++;for(;O<x;)b[_]=m.getParent(O),C[_]=m.getReturnState(O),O++,j=!1,_++;for(;D<S;)b[_]=y.getParent(D),C[_]=y.getReturnState(D),D++,M=!1,_++;return M?m:j?y:(_<b.length&&(b=b.slice(0,_),C=C.slice(0,_)),b.length===0?h.EMPTY_FULL:b.length===1?new p(b[0],C[0]):new d(b,C))}static isEmptyLocal(m){return m===h.EMPTY_LOCAL}static getCachedContext(m,y,g){if(m.isEmpty)return m;let x=g.get(m);if(x)return x;if(x=y.get(m),x)return g.put(m,x),x;let S=!1,_=new Array(m.size);for(let C=0;C<_.length;C++){let O=h.getCachedContext(m.getParent(C),y,g);if(S||O!==m.getParent(C)){if(!S){_=new Array(m.size);for(let D=0;D<m.size;D++)_[D]=m.getParent(D);S=!0}_[C]=O}}if(!S)return x=y.putIfAbsent(m,m),g.put(m,x??m),m;let b;if(_.length===1)b=new p(_[0],m.getReturnState(0));else{let C=new Array(m.size);for(let O=0;O<m.size;O++)C[O]=m.getReturnState(O);b=new d(_,C,m.hashCode())}return x=y.putIfAbsent(b,b),g.put(b,x||b),g.put(m,x||b),b}appendSingleContext(m,y){return this.appendContext(h.EMPTY_FULL.getChild(m),y)}getChild(m){return new p(this,m)}hashCode(){return this.cachedHashCode}toStrings(m,y,g=h.EMPTY_FULL){let x=[];e:for(let S=0;;S++){let _=0,b=!0,C=this,O=y,D="";for(D+="[";!C.isEmpty&&C!==g;){let M=0;if(C.size>0){let j=1;for(;1<<j>>>0<C.size;)j++;let k=(1<<j>>>0)-1;if(M=S>>_&k,b=b&&M>=C.size-1,M>=C.size)continue e;_+=j}if(m){D.length>1&&(D+=" ");let k=m.atn.states[O],V=m.ruleNames[k.ruleIndex];D+=V}else C.getReturnState(M)!==h.EMPTY_FULL_STATE_KEY&&(C.isEmpty||(D.length>1&&(D+=" "),D+=C.getReturnState(M)));O=C.getReturnState(M),C=C.getParent(M)}if(D+="]",x.push(D),b)break}return x}}e([l.Override],h.prototype,"hashCode",null),e([t(0,l.NotNull),t(1,l.NotNull),t(2,l.NotNull)],h,"join",null),e([t(0,l.NotNull),t(1,l.NotNull),t(2,l.NotNull)],h,"getCachedContext",null),n.PredictionContext=h;class f extends h{constructor(m){super(h.calculateEmptyHashCode()),this.fullContext=m}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(m){throw new Error("index out of bounds")}getReturnState(m){throw new Error("index out of bounds")}findReturnState(m){return-1}get size(){return 0}appendSingleContext(m,y){return y.getChild(this,m)}appendContext(m,y){return m}get isEmpty(){return!0}get hasEmpty(){return!0}equals(m){return this===m}toStrings(m,y,g){return["[]"]}}e([l.Override],f.prototype,"addEmptyContext",null),e([l.Override],f.prototype,"removeEmptyContext",null),e([l.Override],f.prototype,"getParent",null),e([l.Override],f.prototype,"getReturnState",null),e([l.Override],f.prototype,"findReturnState",null),e([l.Override],f.prototype,"size",null),e([l.Override],f.prototype,"appendSingleContext",null),e([l.Override],f.prototype,"appendContext",null),e([l.Override],f.prototype,"isEmpty",null),e([l.Override],f.prototype,"hasEmpty",null),e([l.Override],f.prototype,"equals",null),e([l.Override],f.prototype,"toStrings",null);let d=class ti extends h{constructor(m,y,g){super(g||h.calculateHashCode(m,y)),u(m.length===y.length),u(y.length>1||y[0]!==h.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=m,this.returnStates=y}getParent(m){return this.parents[m]}getReturnState(m){return this.returnStates[m]}findReturnState(m){return o.Arrays.binarySearch(this.returnStates,m)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===h.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let m=this.parents.slice(0),y=this.returnStates.slice(0);return m.push(h.EMPTY_FULL),y.push(h.EMPTY_FULL_STATE_KEY),new ti(m,y)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new p(this.parents[0],this.returnStates[0]);{let m=this.parents.slice(0,this.parents.length-1),y=this.returnStates.slice(0,this.returnStates.length-1);return new ti(m,y)}}appendContext(m,y){return ti.appendContextImpl(this,m,new h.IdentityHashMap)}static appendContextImpl(m,y,g){if(y.isEmpty){if(h.isEmptyLocal(y)){if(m.hasEmpty)return h.EMPTY_LOCAL;throw new Error("what to do here?")}return m}if(y.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let x=g.get(m);if(!x){if(m.isEmpty)x=y;else{let S=m.size;m.hasEmpty&&S--;let _=new Array(S),b=new Array(S);for(let C=0;C<S;C++)b[C]=m.getReturnState(C);for(let C=0;C<S;C++)_[C]=ti.appendContextImpl(m.getParent(C),y,g);_.length===1?x=new p(_[0],b[0]):(u(_.length>1),x=new ti(_,b)),m.hasEmpty&&(x=h.join(x,y))}g.put(m,x)}return x}equals(m){if(this===m)return!0;if(!(m instanceof ti)||this.hashCode()!==m.hashCode())return!1;let y=m;return this.equalsImpl(y,new i.Array2DHashSet)}equalsImpl(m,y){let g=[],x=[];for(g.push(this),x.push(m);;){let S=g.pop(),_=x.pop();if(!S||!_)break;let b=new a.PredictionContextCache.IdentityCommutativePredictionContextOperands(S,_);if(!y.add(b))continue;let C=b.x.size;if(C===0){if(!b.x.equals(b.y))return!1;continue}let O=b.y.size;if(C!==O)return!1;for(let D=0;D<C;D++){if(b.x.getReturnState(D)!==b.y.getReturnState(D))return!1;let M=b.x.getParent(D),j=b.y.getParent(D);if(M.hashCode()!==j.hashCode())return!1;M!==j&&(g.push(M),x.push(j))}}return!0}};e([l.NotNull],d.prototype,"parents",void 0),e([l.NotNull],d.prototype,"returnStates",void 0),e([l.Override],d.prototype,"getParent",null),e([l.Override],d.prototype,"getReturnState",null),e([l.Override],d.prototype,"findReturnState",null),e([l.Override],d.prototype,"size",null),e([l.Override],d.prototype,"isEmpty",null),e([l.Override],d.prototype,"hasEmpty",null),e([l.Override],d.prototype,"addEmptyContext",null),e([l.Override],d.prototype,"removeEmptyContext",null),e([l.Override],d.prototype,"appendContext",null),e([l.Override],d.prototype,"equals",null),d=e([t(0,l.NotNull)],d);let p=class aS extends h{constructor(m,y){super(h.calculateSingleHashCode(m,y)),this.parent=m,this.returnState=y}getParent(m){return this.parent}getReturnState(m){return this.returnState}findReturnState(m){return this.returnState===m?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(m,y){return y.getChild(this.parent.appendContext(m,y),this.returnState)}addEmptyContext(){let m=[this.parent,h.EMPTY_FULL],y=[this.returnState,h.EMPTY_FULL_STATE_KEY];return new d(m,y)}removeEmptyContext(){return this}equals(m){if(m===this)return!0;if(!(m instanceof aS))return!1;let y=m;return this.hashCode()!==y.hashCode()?!1:this.returnState===y.returnState&&this.parent.equals(y.parent)}};e([l.NotNull],p.prototype,"parent",void 0),e([l.Override],p.prototype,"getParent",null),e([l.Override],p.prototype,"getReturnState",null),e([l.Override],p.prototype,"findReturnState",null),e([l.Override],p.prototype,"size",null),e([l.Override],p.prototype,"isEmpty",null),e([l.Override],p.prototype,"hasEmpty",null),e([l.Override],p.prototype,"appendContext",null),e([l.Override],p.prototype,"addEmptyContext",null),e([l.Override],p.prototype,"removeEmptyContext",null),e([l.Override],p.prototype,"equals",null),p=e([t(0,l.NotNull)],p),n.SingletonPredictionContext=p,function(v){v.EMPTY_LOCAL=new f(!1),v.EMPTY_FULL=new f(!0),v.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),v.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class m extends r.Array2DHashMap{constructor(){super(y.INSTANCE)}}v.IdentityHashMap=m;class y{IdentityEqualityComparator(){}hashCode(x){return x.hashCode()}equals(x,S){return x===S}}y.INSTANCE=new y,e([l.Override],y.prototype,"hashCode",null),e([l.Override],y.prototype,"equals",null),v.IdentityEqualityComparator=y}(h=n.PredictionContext||(n.PredictionContext={}))}(of)),of}/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var st=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tr=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.ATNConfig=void 0;const GN=mn,XN=Xr,tn=Je,Ve=J,YN=nr,ug=Tr(),ri=ki,cg=jt(),lf=2147483648;let $t=class ol{constructor(e,t,r){typeof t=="number"?(cg((t&16777215)===t),this._state=e,this.altAndOuterContextDepth=t,this._context=r):(this._state=e,this.altAndOuterContextDepth=t.altAndOuterContextDepth,this._context=r)}static create(e,t,r,i=ri.SemanticContext.NONE,o){return i!==ri.SemanticContext.NONE?o!=null?new To(o,i,e,t,r,!1):new vi(i,e,t,r):o!=null?new _o(o,e,t,r,!1):new ol(e,t,r)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){cg(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return ri.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,t,r){return r==null?this.transformImpl(e,this._context,this.semanticContext,t,this.lexerActionExecutor):r instanceof ug.PredictionContext?this.transformImpl(e,r,this.semanticContext,t,this.lexerActionExecutor):r instanceof ri.SemanticContext?this.transformImpl(e,this._context,r,t,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,t,r)}transformImpl(e,t,r,i,o){let s=i&&ol.checkNonGreedyDecision(this,e);return r!==ri.SemanticContext.NONE?o!=null||s?new To(o,r,e,this,t,s):new vi(r,e,this,t):o!=null||s?new _o(o,e,this,t,s):new ol(e,this,t)}static checkNonGreedyDecision(e,t){return e.hasPassedThroughNonGreedyDecision||t instanceof XN.DecisionState&&t.nonGreedy}appendContext(e,t){if(typeof e=="number"){let r=this.context.appendSingleContext(e,t);return this.transform(this.state,!1,r)}else{let r=this.context.appendContext(e,t);return this.transform(this.state,!1,r)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let t=[],r=[];for(t.push(this.context),r.push(e.context);;){let i=t.pop(),o=r.pop();if(!i||!o)break;if(i===o)return!0;if(i.size<o.size)return!1;if(o.isEmpty)return i.hasEmpty;for(let s=0;s<o.size;s++){let l=i.findReturnState(o.getReturnState(s));if(l<0)return!1;t.push(i.getParent(l)),r.push(o.getParent(s))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&lf)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=lf:this.altAndOuterContextDepth&=~lf}equals(e){return this===e?!0:e instanceof ol?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&YN.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=tn.MurmurHash.initialize(7);return e=tn.MurmurHash.update(e,this.state.stateNumber),e=tn.MurmurHash.update(e,this.alt),e=tn.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=tn.MurmurHash.update(e,this.context),e=tn.MurmurHash.update(e,this.semanticContext),e=tn.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=tn.MurmurHash.update(e,this.lexerActionExecutor),e=tn.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let t=new GN.Array2DHashMap(ug.PredictionContext.IdentityEqualityComparator.INSTANCE),r=[];function i(o){let s=t.size,l=t.putIfAbsent(o,s);return l??(r.push(o),s)}for(r.push(this.context),t.put(this.context,0);;){let o=r.pop();if(!o)break;for(let s=0;s<o.size;s++)e+="  s"+i(o),e+="->",e+="s"+i(o.getParent(s)),e+='[label="'+o.getReturnState(s)+`"];
`}return e+=`}
`,e.toString()}toString(e,t,r){r==null&&(r=t!=null),t==null&&(t=!0);let i="",o;r?o=this.context.toStrings(e,this.state.stateNumber):o=["?"];let s=!0;for(let l of o)s?s=!1:i+=", ",i+="(",i+=this.state,t&&(i+=",",i+=this.alt),this.context&&(i+=",",i+=l),this.semanticContext!==ri.SemanticContext.NONE&&(i+=",",i+=this.semanticContext),this.reachesIntoOuterContext&&(i+=",up="+this.outerContextDepth),i+=")";return i.toString()}};st([Ve.NotNull],$t.prototype,"_state",void 0);st([Ve.NotNull],$t.prototype,"_context",void 0);st([Ve.NotNull],$t.prototype,"state",null);st([Ve.NotNull,tr(0,Ve.NotNull)],$t.prototype,"context",null);st([Ve.NotNull],$t.prototype,"semanticContext",null);st([Ve.Override],$t.prototype,"clone",null);st([tr(0,Ve.NotNull),tr(2,Ve.NotNull)],$t.prototype,"transformImpl",null);st([Ve.Override],$t.prototype,"equals",null);st([Ve.Override],$t.prototype,"hashCode",null);st([tr(0,Ve.NotNull),tr(3,Ve.NotNull)],$t,"create",null);$t=st([tr(0,Ve.NotNull),tr(2,Ve.NotNull)],$t);Mi.ATNConfig=$t;let vi=class extends $t{constructor(e,t,r,i){typeof r=="number"?super(t,r,i):super(t,r,i),this._semanticContext=e}get semanticContext(){return this._semanticContext}};st([Ve.NotNull],vi.prototype,"_semanticContext",void 0);st([Ve.Override],vi.prototype,"semanticContext",null);vi=st([tr(1,Ve.NotNull),tr(2,Ve.NotNull)],vi);let _o=class extends $t{constructor(e,t,r,i,o){if(typeof r=="number")super(t,r,i);else if(super(t,r,i),r.semanticContext!==ri.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};st([Ve.Override],_o.prototype,"lexerActionExecutor",null);st([Ve.Override],_o.prototype,"hasPassedThroughNonGreedyDecision",null);_o=st([tr(1,Ve.NotNull),tr(2,Ve.NotNull)],_o);let To=class extends vi{constructor(e,t,r,i,o,s){typeof i=="number"?super(t,r,i,o):super(t,r,i,o),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=s}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};st([Ve.Override],To.prototype,"lexerActionExecutor",null);st([Ve.Override],To.prototype,"hasPassedThroughNonGreedyDecision",null);To=st([tr(1,Ve.NotNull),tr(2,Ve.NotNull)],To);var Er={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Er,"__esModule",{value:!0});Er.BitSet=void 0;const JN=xi,QN=Je,as=new Uint16Array(0);function Xt(n){return n>>>4}function Zi(n){return n*16}function Ed(n){let e=1;for(let t=0;t<16;t++){if(n&e)return t;e=e<<1>>>0}throw new RangeError("No specified bit found")}function hg(n){let e=32768;for(let t=15;t>=0;t--){if(n&e)return t;e=e>>>1}throw new RangeError("No specified bit found")}function sr(n,e){return n&=15,e&=15,n===e?1<<n>>>0:65535>>>15-e^65535>>>16-n}const Cd=new Uint8Array(65536);for(let n=0;n<16;n++){const e=1<<n>>>0;let t=0;for(;t<Cd.length;){t+=e;for(let r=0;r<e;r++)Cd[t]++,t++}}class no{constructor(e){if(!e)this.data=as;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(Xt(e-1)+1)}else if(e instanceof no)this.data=e.data.slice(0);else{let t=-1;for(let r of e)t<r&&(t=r);this.data=new Uint16Array(Xt(t-1)+1);for(let r of e)this.set(r)}}and(e){const t=this.data,r=e.data,i=Math.min(t.length,r.length);let o=-1;for(let s=0;s<i;s++)(t[s]&=r[s])!==0&&(o=s);o===-1&&(this.data=as),o<t.length-1&&(this.data=t.slice(0,o+1))}andNot(e){const t=this.data,r=e.data,i=Math.min(t.length,r.length);let o=-1;for(let s=0;s<i;s++)(t[s]&=r[s]^65535)!==0&&(o=s);o===-1&&(this.data=as),o<t.length-1&&(this.data=t.slice(0,o+1))}cardinality(){if(this.isEmpty)return 0;const e=this.data,t=e.length;let r=0;for(let i=0;i<t;i++)r+=Cd[e[i]];return r}clear(e,t){e==null?this.data.fill(0):t==null?this.set(e,!1):this.set(e,t,!1)}flip(e,t){if(t==null&&(t=e),e<0||t<e)throw new RangeError;let r=Xt(e);const i=Xt(t);if(r===i)this.data[r]^=sr(e,t);else{for(this.data[r++]^=sr(e,15);r<i;)this.data[r++]^=65535;this.data[r++]^=sr(0,t)}}get(e,t){if(t===void 0)return!!(this.data[Xt(e)]&sr(e,e));{let r=new no(t+1);for(let i=e;i<=t;i++)r.set(i,this.get(i));return r}}intersects(e){let t=Math.min(this.length(),e.length());if(t===0)return!1;let r=Xt(t-1);for(let i=0;i<=r;i++)if(this.data[i]&e.data[i])return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(Zi(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const t=this.data,r=t.length;let i=Xt(e);if(i>r)return-1;let o=65535^sr(e,15);if((t[i]|o)===65535){for(i++,o=0;i<r&&t[i]===65535;i++);if(i===r)return-1}return Zi(i)+Ed((t[i]|o)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const t=this.data,r=t.length;let i=Xt(e);if(i>r)return-1;let o=sr(e,15);if(!(t[i]&o)){for(i++,o=65535;i<r&&t[i]===0;i++);if(i>=r)return-1}return Zi(i)+Ed(t[i]&o)}or(e){const t=this.data,r=e.data,i=Math.min(t.length,r.length),o=Math.max(t.length,r.length),s=t.length===o?t:new Uint16Array(o);let l=-1;for(let u=0;u<i;u++)(s[u]=t[u]|r[u])!==0&&(l=u);const a=t.length>r.length?t:r;for(let u=i;u<o;u++)(s[u]=a[u])!==0&&(l=u);l===-1?this.data=as:s.length===l+1?this.data=s:this.data=s.slice(0,l)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const t=this.data,r=t.length;let i=Xt(e);i>=r&&(i=r-1);let o=65535^sr(0,e);if((t[i]|o)===65535){for(o=0,i--;i>=0&&t[i]===65535;i--);if(i<0)return-1}return Zi(i)+hg((t[i]|o)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const t=this.data,r=t.length;let i=Xt(e);i>=r&&(i=r-1);let o=sr(0,e);if(!(t[i]&o)){for(i--,o=65535;i>=0&&t[i]===0;i--);if(i<0)return-1}return Zi(i)+hg(t[i]&o)}set(e,t,r){if(t===void 0?(t=e,r=!0):typeof t=="boolean"&&(r=t,t=e),r===void 0&&(r=!0),e<0||e>t)throw new RangeError;let i=Xt(e),o=Xt(t);if(r&&o>=this.data.length){let s=new Uint16Array(o+1);this.data.forEach((l,a)=>s[a]=l),this.data=s}else if(!r){if(i>=this.data.length)return;o>=this.data.length&&(o=this.data.length-1,t=this.data.length*16-1)}if(i===o)this._setBits(i,r,sr(e,t));else{for(this._setBits(i++,r,sr(e,15));i<o;)this.data[i++]=r?65535:0;this._setBits(i,r,sr(0,t))}}_setBits(e,t,r){t?this.data[e]|=r:this.data[e]&=65535^r}get size(){return this.data.byteLength*8}hashCode(){return QN.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof no))return!1;const t=this.length();if(t!==e.length())return!1;if(t===0)return!0;let r=Xt(t-1);for(let i=0;i<=r;i++)if(this.data[i]!==e.data[i])return!1;return!0}toString(){let e="{",t=!0;for(let r=this.nextSetBit(0);r>=0;r=this.nextSetBit(r+1))t?t=!1:e+=", ",e+=r;return e+="}",e}xor(e){const t=this.data,r=e.data,i=Math.min(t.length,r.length),o=Math.max(t.length,r.length),s=t.length===o?t:new Uint16Array(o);let l=-1;for(let u=0;u<i;u++)(s[u]=t[u]^r[u])!==0&&(l=u);const a=t.length>r.length?t:r;for(let u=i;u<o;u++)(s[u]=a[u])!==0&&(l=u);l===-1?this.data=as:s.length===l+1?this.data=s:this.data=s.slice(0,l+1)}clone(){return new no(this)}[Symbol.iterator](){return new ZN(this.data)}[JN.inspect.custom](){return"BitSet "+this.toString()}}Er.BitSet=no;class ZN{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const e=this.data[this.index]&this.mask;if(e!==0){const t=Zi(this.index)+Ed(e);return this.mask=sr(t+1,15),{done:!1,value:t}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}var fg;function Kl(){if(fg)return ls;fg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(y,g,x,S){var _=arguments.length,b=_<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,x):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,g,x,S);else for(var O=y.length-1;O>=0;O--)(C=y[O])&&(b=(_<3?C(b):_>3?C(g,x,b):C(g,x))||b);return _>3&&b&&Object.defineProperty(g,x,b),b};Object.defineProperty(ls,"__esModule",{value:!0}),ls.ATNConfigSet=void 0;const e=mn,t=_r,r=Ii,i=xn(),o=Mi,s=Er,l=J,a=nr,u=Tr(),c=Cp(),h=ki,f=jt(),d=ut;class p{hashCode(g){return g.state^g.alt}equals(g,x){return g.state===x.state&&g.alt===x.alt}}p.INSTANCE=new p;function v(y){return y?new e.Array2DHashMap(y):new e.Array2DHashMap(p.INSTANCE)}let m=class wd{constructor(g,x){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,g?(x?(this.mergedConfigs=void 0,this.unmerged=void 0):g.isReadOnly?(this.mergedConfigs=v(),this.unmerged=[]):(this.mergedConfigs=v(g.mergedConfigs),this.unmerged=g.unmerged.slice(0)),this.configs=g.configs.slice(0),this._dipsIntoOuterContext=g._dipsIntoOuterContext,this._hasSemanticContext=g._hasSemanticContext,this.outermostConfigSet=g.outermostConfigSet,(x||!g.isReadOnly)&&(this._uniqueAlt=g._uniqueAlt,this._conflictInfo=g._conflictInfo)):(this.mergedConfigs=v(),this.unmerged=[],this.configs=[],this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let g=new s.BitSet;for(let x of this)g.set(x.alt);return g}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(g){if(this.outermostConfigSet&&!g)throw new Error("IllegalStateException");f(!g||!this._dipsIntoOuterContext),this.outermostConfigSet=g}getStates(){let g=new t.Array2DHashSet(a.ObjectEqualityComparator.INSTANCE);for(let x of this.configs)g.add(x.state);return g}optimizeConfigs(g){if(this.configs.length!==0)for(let x of this.configs)x.context=g.atn.getCachedContext(x.context)}clone(g){let x=new wd(this,g);return!g&&this.isReadOnly&&x.addAll(this.configs),x}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(g){if(!(g instanceof o.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let x=g,S=this.getKey(x),_=this.mergedConfigs.get(S);if(_!=null&&this.canMerge(x,S,_))return _.contains(x);for(let b of this.unmerged)if(b.contains(g))return!0}else for(let x of this.configs)if(x.contains(g))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(g,x){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");f(!this.outermostConfigSet||!g.reachesIntoOuterContext),x==null&&(x=c.PredictionContextCache.UNCACHED);let S,_=this.getKey(g),b=this.mergedConfigs.get(_);if(S=b==null,b!=null&&this.canMerge(g,_,b)){b.outerContextDepth=Math.max(b.outerContextDepth,g.outerContextDepth),g.isPrecedenceFilterSuppressed&&(b.isPrecedenceFilterSuppressed=!0);let C=u.PredictionContext.join(b.context,g.context,x);return this.updatePropertiesForMergedConfig(g),b.context===C?!1:(b.context=C,!0)}for(let C=0;C<this.unmerged.length;C++){let O=this.unmerged[C];if(this.canMerge(g,_,O)){O.outerContextDepth=Math.max(O.outerContextDepth,g.outerContextDepth),g.isPrecedenceFilterSuppressed&&(O.isPrecedenceFilterSuppressed=!0);let D=u.PredictionContext.join(O.context,g.context,x);return this.updatePropertiesForMergedConfig(g),O.context===D?!1:(O.context=D,S&&(this.mergedConfigs.put(_,O),this.unmerged.splice(C,1)),!0)}}return this.configs.push(g),S?this.mergedConfigs.put(_,g):this.unmerged.push(g),this.updatePropertiesForAddedConfig(g),!0}updatePropertiesForMergedConfig(g){this._dipsIntoOuterContext=this._dipsIntoOuterContext||g.reachesIntoOuterContext,f(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(g){this.configs.length===1?this._uniqueAlt=g.alt:this._uniqueAlt!==g.alt&&(this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!h.SemanticContext.NONE.equals(g.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||g.reachesIntoOuterContext,f(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(g,x,S){return g.state.stateNumber!==S.state.stateNumber||x.alt!==S.alt?!1:g.semanticContext.equals(S.semanticContext)}getKey(g){return{state:g.state.stateNumber,alt:g.alt}}containsAll(g){for(let x of g)if(!(x instanceof o.ATNConfig)||!this.contains(x))return!1;return!0}addAll(g,x){this.ensureWritable();let S=!1;for(let _ of g)this.add(_,x)&&(S=!0);return S}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=i.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(g){return this===g?!0:g instanceof wd?this.outermostConfigSet===g.outermostConfigSet&&d.equals(this._conflictInfo,g._conflictInfo)&&r.ArrayEqualityComparator.INSTANCE.equals(this.configs,g.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let g=1;return g=5*g^(this.outermostConfigSet?1:0),g=5*g^r.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=g),g}toString(g){g==null&&(g=!1);let x="",S=this.configs.slice(0);S.sort((_,b)=>_.alt!==b.alt?_.alt-b.alt:_.state.stateNumber!==b.state.stateNumber?_.state.stateNumber-b.state.stateNumber:_.semanticContext.toString().localeCompare(b.semanticContext.toString())),x+="[";for(let _=0;_<S.length;_++)_>0&&(x+=", "),x+=S[_].toString(void 0,!0,g);return x+="]",this._hasSemanticContext&&(x+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==i.ATN.INVALID_ALT_NUMBER&&(x+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(x+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(x+="*")),this._dipsIntoOuterContext&&(x+=",dipsIntoOuterContext"),x.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(g){this.ensureWritable(),this._hasSemanticContext=g}get conflictInfo(){return this._conflictInfo}set conflictInfo(g){this.ensureWritable(),this._conflictInfo=g}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(g){return this.configs[g]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}};return n([l.NotNull],m.prototype,"getRepresentedAlternatives",null),n([l.Override],m.prototype,"size",null),n([l.Override],m.prototype,"isEmpty",null),n([l.Override],m.prototype,"contains",null),n([l.Override],m.prototype,Symbol.iterator,null),n([l.Override],m.prototype,"toArray",null),n([l.Override],m.prototype,"containsAll",null),n([l.Override],m.prototype,"clear",null),n([l.Override],m.prototype,"equals",null),n([l.Override],m.prototype,"hashCode",null),ls.ATNConfigSet=m,ls}var us={},af={},uf={},dg;function bc(){return dg||(dg=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(c,h,f,d){var p=arguments.length,v=p<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(c,h,f,d);else for(var y=c.length-1;y>=0;y--)(m=c[y])&&(v=(p<3?m(v):p>3?m(h,f,v):m(h,f))||v);return p>3&&v&&Object.defineProperty(h,f,v),v},t=w&&w.__param||function(c,h){return function(f,d){h(f,d,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DFAState=void 0;const r=xn(),i=Er,o=Je,s=J,l=Tr(),a=jt();class u{constructor(h){this.stateNumber=-1,this.configs=h,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(h){return this.isContextSensitive?this.contextSymbols.get(h):!1}setContextSymbol(h){a(this.isContextSensitive),this.contextSymbols.set(h)}setContextSensitive(h){a(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new i.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(h){this._acceptStateInfo=h}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:r.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(h){return this.edges.get(h)}setTarget(h,f){this.edges.set(h,f)}getEdgeMap(){return this.edges}getContextTarget(h){return h===l.PredictionContext.EMPTY_FULL_STATE_KEY&&(h=-1),this.contextEdges.get(h)}setContextTarget(h,f){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");h===l.PredictionContext.EMPTY_FULL_STATE_KEY&&(h=-1),this.contextEdges.set(h,f)}getContextEdgeMap(){let h=new Map(this.contextEdges),f=h.get(-1);if(f!==void 0)if(h.size===1){let d=new Map;return d.set(l.PredictionContext.EMPTY_FULL_STATE_KEY,f),d}else h.delete(-1),h.set(l.PredictionContext.EMPTY_FULL_STATE_KEY,f);return h}hashCode(){let h=o.MurmurHash.initialize(7);return h=o.MurmurHash.update(h,this.configs.hashCode()),h=o.MurmurHash.finish(h,1),h}equals(h){if(this===h)return!0;if(!(h instanceof u))return!1;let f=h;return this.configs.equals(f.configs)}toString(){let h="";return h+=this.stateNumber+":"+this.configs,this.isAcceptState&&(h+="=>",this.predicates?h+=this.predicates:h+=this.prediction),h.toString()}}e([s.NotNull],u.prototype,"configs",void 0),e([s.NotNull],u.prototype,"edges",void 0),e([s.NotNull],u.prototype,"contextEdges",void 0),e([s.Override],u.prototype,"hashCode",null),e([s.Override],u.prototype,"equals",null),e([s.Override],u.prototype,"toString",null),n.DFAState=u,function(c){let h=class{constructor(d,p){this.alt=p,this.pred=d}toString(){return"("+this.pred+", "+this.alt+")"}};e([s.NotNull],h.prototype,"pred",void 0),e([s.Override],h.prototype,"toString",null),h=e([t(0,s.NotNull)],h),c.PredPrediction=h}(u=n.DFAState||(n.DFAState={}))}(uf)),uf}var pg;function Ac(){return pg||(pg=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(a,u,c,h){var f=arguments.length,d=f<3?u:h===null?h=Object.getOwnPropertyDescriptor(u,c):h,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(a,u,c,h);else for(var v=a.length-1;v>=0;v--)(p=a[v])&&(d=(f<3?p(d):f>3?p(u,c,d):p(u,c))||d);return f>3&&d&&Object.defineProperty(u,c,d),d},t=w&&w.__param||function(a,u){return function(c,h){u(c,h,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ATNSimulator=void 0;const r=Kl(),i=bc(),o=J,s=Tr();let l=class sl{constructor(u){this.atn=u}static get ERROR(){return sl._ERROR||(sl._ERROR=new i.DFAState(new r.ATNConfigSet),sl._ERROR.stateNumber=s.PredictionContext.EMPTY_FULL_STATE_KEY),sl._ERROR}clearDFA(){this.atn.clearDFA()}};e([o.NotNull],l.prototype,"atn",void 0),e([o.NotNull],l,"ERROR",null),l=e([t(0,o.NotNull)],l),n.ATNSimulator=l,l=n.ATNSimulator||(n.ATNSimulator={}),n.ATNSimulator=l}(af)),af}var Kn={},Gl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Gl,"__esModule",{value:!0});Gl.ConsoleErrorListener=void 0;class Od{syntaxError(e,t,r,i,o,s){console.error(`line ${r}:${i} ${o}`)}}Gl.ConsoleErrorListener=Od;Od.INSTANCE=new Od;var Mo={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mg=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ProxyErrorListener=void 0;const cf=J;class uS{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,t,r,i,o,s){this.delegates.forEach(l=>{l.syntaxError&&l.syntaxError(e,t,r,i,o,s)})}}e3([cf.Override,mg(0,cf.NotNull),mg(4,cf.NotNull)],uS.prototype,"syntaxError",null);Mo.ProxyErrorListener=uS;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Yr=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_c=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Recognizer=void 0;const t3=Gl,r3=Mo,rr=J,gg=ze,n3=ut;class ht{constructor(){this._listeners=[t3.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,t=ht.tokenTypeMapCache.get(e);if(t==null){let r=new Map;for(let i=0;i<=this.atn.maxTokenType;i++){let o=e.getLiteralName(i);o!=null&&r.set(o,i);let s=e.getSymbolicName(i);s!=null&&r.set(s,i)}r.set("EOF",gg.Token.EOF),t=r,ht.tokenTypeMapCache.set(e,t)}return t}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let t=ht.ruleIndexMapCache.get(e);return t==null&&(t=n3.toMap(e),ht.ruleIndexMapCache.set(e,t)),t}getTokenType(e){let t=this.getTokenTypeMap().get(e);return t??gg.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let t=e.getOffendingToken();if(!t)return"";let r=t.line,i=t.charPositionInLine;return"line "+r+":"+i}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new r3.ProxyErrorListener(this.getErrorListeners())}sempred(e,t,r){return!0}precpred(e,t){return!0}action(e,t,r){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}}ht.EOF=-1;ht.tokenTypeMapCache=new WeakMap;ht.ruleIndexMapCache=new WeakMap;Yr([rr.SuppressWarnings("serial"),rr.NotNull],ht.prototype,"_listeners",void 0);Yr([rr.NotNull],ht.prototype,"getTokenTypeMap",null);Yr([rr.NotNull],ht.prototype,"getRuleIndexMap",null);Yr([rr.NotNull],ht.prototype,"serializedATN",null);Yr([rr.NotNull],ht.prototype,"atn",null);Yr([rr.NotNull,_c(0,rr.NotNull)],ht.prototype,"interpreter",null);Yr([rr.NotNull,_c(0,rr.NotNull)],ht.prototype,"getErrorHeader",null);Yr([_c(0,rr.NotNull)],ht.prototype,"addErrorListener",null);Yr([_c(0,rr.NotNull)],ht.prototype,"removeErrorListener",null);Yr([rr.NotNull],ht.prototype,"getErrorListeners",null);Kn.Recognizer=ht;var gn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Gn=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(gn,"__esModule",{value:!0});var wp=gn.VocabularyImpl=void 0;const an=J,i3=ze;class yr{constructor(e,t,r){this.literalNames=e,this.symbolicNames=t,this.displayNames=r,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===i3.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let i=this.displayNames[e];if(i)return i}let t=this.getLiteralName(e);if(t)return t;let r=this.getSymbolicName(e);return r||String(e)}}yr.EMPTY_VOCABULARY=new yr([],[],[]);Gn([an.NotNull],yr.prototype,"literalNames",void 0);Gn([an.NotNull],yr.prototype,"symbolicNames",void 0);Gn([an.NotNull],yr.prototype,"displayNames",void 0);Gn([an.Override],yr.prototype,"maxTokenType",null);Gn([an.Override],yr.prototype,"getLiteralName",null);Gn([an.Override],yr.prototype,"getSymbolicName",null);Gn([an.Override,an.NotNull],yr.prototype,"getDisplayName",null);Gn([an.NotNull],yr,"EMPTY_VOCABULARY",void 0);wp=gn.VocabularyImpl=yr;var xg;function cS(){if(xg)return us;xg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(l,a,u,c){var h=arguments.length,f=h<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,u):c,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,a,u,c);else for(var p=l.length-1;p>=0;p--)(d=l[p])&&(f=(h<3?d(f):h>3?d(a,u,f):d(a,u))||f);return h>3&&f&&Object.defineProperty(a,u,f),f};Object.defineProperty(us,"__esModule",{value:!0}),us.DFASerializer=void 0;const e=Ac(),t=J,r=Tr(),i=Kn,o=gn;let s=class{constructor(a,u,c,h){u instanceof i.Recognizer?(c=u.ruleNames,h=u.atn,u=u.vocabulary):u||(u=o.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=a,this.vocabulary=u,this.ruleNames=c,this.atn=h}toString(){if(!this.dfa.s0)return"";let a="";if(this.dfa.states){let c=new Array(...this.dfa.states.toArray());c.sort((h,f)=>h.stateNumber-f.stateNumber);for(let h of c){let f=h.getEdgeMap(),d=[...f.keys()].sort((m,y)=>m-y),p=h.getContextEdgeMap(),v=[...p.keys()].sort((m,y)=>m-y);for(let m of d){let y=f.get(m);if((y==null||y===e.ATNSimulator.ERROR)&&!h.isContextSymbol(m))continue;let g=!1;a+=this.getStateString(h)+"-"+this.getEdgeLabel(m)+"->",h.isContextSymbol(m)&&(a+="!",g=!0);let x=y;x&&x.stateNumber!==e.ATNSimulator.ERROR.stateNumber?a+=this.getStateString(x)+`
`:g&&(a+=`ctx
`)}if(h.isContextSensitive)for(let m of v)a+=this.getStateString(h)+"-"+this.getContextLabel(m)+"->"+this.getStateString(p.get(m))+`
`}}let u=a;return u.length===0?"":u}getContextLabel(a){if(a===r.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(a===r.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&a>0&&a<=this.atn.states.length){let c=this.atn.states[a].ruleIndex;if(this.ruleNames&&c>=0&&c<this.ruleNames.length)return"ctx:"+String(a)+"("+this.ruleNames[c]+")"}return"ctx:"+String(a)}getEdgeLabel(a){return this.vocabulary.getDisplayName(a)}getStateString(a){if(a===e.ATNSimulator.ERROR)return"ERROR";let u=a.stateNumber,c="s"+u;if(a.isAcceptState&&(a.predicates?c=":s"+u+"=>"+a.predicates:c=":s"+u+"=>"+a.prediction),a.isContextSensitive){c+="*";for(let h of a.configs)if(h.reachesIntoOuterContext){c+="*";break}}return c}};return n([t.NotNull],s.prototype,"dfa",void 0),n([t.NotNull],s.prototype,"vocabulary",void 0),n([t.Override],s.prototype,"toString",null),us.DFASerializer=s,us}var cs={},yg;function o3(){if(yg)return cs;yg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h},e=w&&w.__param||function(s,l){return function(a,u){l(a,u,s)}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.LexerDFASerializer=void 0;const t=cS(),r=J,i=gn;let o=class extends t.DFASerializer{constructor(l){super(l,i.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(l){return"'"+String.fromCodePoint(l)+"'"}};return n([r.Override,r.NotNull],o.prototype,"getEdgeLabel",null),o=n([e(0,r.NotNull)],o),cs.LexerDFASerializer=o,cs}var Bo={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var s3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.StarLoopEntryState=void 0;const l3=mt,a3=Er,u3=Xr,c3=J;class hS extends u3.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new a3.BitSet}get stateType(){return l3.ATNStateType.STAR_LOOP_ENTRY}}s3([c3.Override],hS.prototype,"stateType",null);Bo.StarLoopEntryState=hS;var vg;function fS(){if(vg)return ss;vg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(f,d,p,v){var m=arguments.length,y=m<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,p):v,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,v);else for(var x=f.length-1;x>=0;x--)(g=f[x])&&(y=(m<3?g(y):m>3?g(d,p,y):g(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},e=w&&w.__param||function(f,d){return function(p,v){d(p,v,f)}};Object.defineProperty(ss,"__esModule",{value:!0}),ss.DFA=void 0;const t=_r,r=Kl(),i=cS(),o=bc(),s=o3(),l=J,a=nr,u=Bo,c=gn;let h=class{constructor(d,p=0){if(this.states=new t.Array2DHashSet(a.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!d.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=d,this.atn=d.atn,this.decision=p;let v=!1;d instanceof u.StarLoopEntryState&&d.precedenceRuleDecision&&(v=!0,this.s0=new o.DFAState(new r.ATNConfigSet),this.s0full=new o.DFAState(new r.ATNConfigSet)),this.precedenceDfa=v}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(d,p){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return p?this.s0full.getTarget(d):this.s0.getTarget(d)}setPrecedenceStartState(d,p,v){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");d<0||(p?this.s0full.setTarget(d,v):this.s0.setTarget(d,v))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(d){return d.stateNumber=this.nextStateNumber++,this.states.getOrAdd(d)}toString(d,p){if(d||(d=c.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let v;return p?v=new i.DFASerializer(this,d,p,this.atnStartState.atn):v=new i.DFASerializer(this,d),v.toString()}toLexerString(){return this.s0?new s.LexerDFASerializer(this).toString():""}};return n([l.NotNull],h.prototype,"states",void 0),n([l.NotNull],h.prototype,"atnStartState",void 0),n([l.NotNull],h.prototype,"atn",void 0),h=n([e(0,l.NotNull)],h),ss.DFA=h,ss}var Xl={},Yl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var h3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.BasicState=void 0;const f3=Kr,d3=mt,p3=J;class dS extends f3.ATNState{get stateType(){return d3.ATNStateType.BASIC}}h3([p3.Override],dS.prototype,"stateType",null);Yl.BasicState=dS;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var m3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.InvalidState=void 0;const g3=mt,x3=Yl,y3=J;class pS extends x3.BasicState{get stateType(){return g3.ATNStateType.INVALID_TYPE}}m3([y3.Override],pS.prototype,"stateType",null);Xl.InvalidState=pS;var hs={},fs={},ds={},Sg;function Op(){if(Sg)return ds;Sg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(l,a,u,c){var h=arguments.length,f=h<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,u):c,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,a,u,c);else for(var p=l.length-1;p>=0;p--)(d=l[p])&&(f=(h<3?d(f):h>3?d(a,u,f):d(a,u))||f);return h>3&&f&&Object.defineProperty(a,u,f),f},e=w&&w.__param||function(l,a){return function(u,c){a(u,c,l)}};Object.defineProperty(ds,"__esModule",{value:!0}),ds.SetTransition=void 0;const t=zi(),r=J,i=ze,o=Ar;let s=class extends o.Transition{constructor(a,u){super(a),u==null&&(u=t.IntervalSet.of(i.Token.INVALID_TYPE)),this.set=u}get serializationType(){return 7}get label(){return this.set}matches(a,u,c){return this.set.contains(a)}toString(){return this.set.toString()}};return n([r.NotNull],s.prototype,"set",void 0),n([r.Override],s.prototype,"serializationType",null),n([r.Override,r.NotNull],s.prototype,"label",null),n([r.Override],s.prototype,"matches",null),n([r.Override,r.NotNull],s.prototype,"toString",null),s=n([e(0,r.NotNull),e(1,r.Nullable)],s),ds.SetTransition=s,ds}var bg;function Np(){if(bg)return fs;bg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(fs,"__esModule",{value:!0}),fs.NotSetTransition=void 0;const t=J,r=Op();let i=class extends r.SetTransition{constructor(s,l){super(s,l)}get serializationType(){return 8}matches(s,l,a){return s>=l&&s<=a&&!super.matches(s,l,a)}toString(){return"~"+super.toString()}};return n([t.Override],i.prototype,"serializationType",null),n([t.Override],i.prototype,"matches",null),n([t.Override],i.prototype,"toString",null),i=n([e(0,t.NotNull),e(1,t.Nullable)],i),fs.NotSetTransition=i,fs}var Xn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var mS=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.RuleStopState=void 0;const v3=Kr,S3=mt,gS=J;class Dp extends v3.ATNState{get nonStopStateNumber(){return-1}get stateType(){return S3.ATNStateType.RULE_STOP}}mS([gS.Override],Dp.prototype,"nonStopStateNumber",null);mS([gS.Override],Dp.prototype,"stateType",null);Xn.RuleStopState=Dp;var jo={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Jl=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ag=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(jo,"__esModule",{value:!0});jo.RuleTransition=void 0;const Eo=J,b3=Ar;let Si=class extends b3.Transition{constructor(e,t,r,i){super(e),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=t,this.precedence=r,this.followState=i}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,t,r){return!1}};Jl([Eo.NotNull],Si.prototype,"followState",void 0);Jl([Eo.Override],Si.prototype,"serializationType",null);Jl([Eo.Override],Si.prototype,"isEpsilon",null);Jl([Eo.Override],Si.prototype,"matches",null);Si=Jl([Ag(0,Eo.NotNull),Ag(3,Eo.NotNull)],Si);jo.RuleTransition=Si;var Ql={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Tc=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},A3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.WildcardTransition=void 0;const Rl=J,_3=Ar;let Co=class extends _3.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,t,r){return e>=t&&e<=r}toString(){return"."}};Tc([Rl.Override],Co.prototype,"serializationType",null);Tc([Rl.Override],Co.prototype,"matches",null);Tc([Rl.Override,Rl.NotNull],Co.prototype,"toString",null);Co=Tc([A3(0,Rl.NotNull)],Co);Ql.WildcardTransition=Co;var _g;function T3(){if(_g)return hs;_g=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(m,y,g,x){var S=arguments.length,_=S<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,g):x,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(m,y,g,x);else for(var C=m.length-1;C>=0;C--)(b=m[C])&&(_=(S<3?b(_):S>3?b(y,g,_):b(y,g))||_);return S>3&&_&&Object.defineProperty(y,g,_),_},e=w&&w.__param||function(m,y){return function(g,x){y(g,x,m)}};Object.defineProperty(hs,"__esModule",{value:!0}),hs.LL1Analyzer=void 0;const t=Io,r=_r,i=Mi,o=Er,s=zi(),l=J,a=Np(),u=nr,c=Tr(),h=Xn,f=jo,d=ze,p=Ql;let v=class Nd{constructor(y){this.atn=y}getDecisionLookahead(y){if(y==null)return;let g=new Array(y.numberOfTransitions);for(let x=0;x<y.numberOfTransitions;x++){let S=new s.IntervalSet;g[x]=S;let _=new r.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE);this._LOOK(y.transition(x).target,void 0,c.PredictionContext.EMPTY_LOCAL,S,_,new o.BitSet,!1,!1),(S.size===0||S.contains(Nd.HIT_PRED))&&(S=void 0,g[x]=S)}return g}LOOK(y,g,x){if(x===void 0){if(y.atn==null)throw new Error("Illegal state");x=y.atn.ruleToStopState[y.ruleIndex]}else x===null&&(x=void 0);let S=new s.IntervalSet;return this._LOOK(y,x,g,S,new r.Array2DHashSet,new o.BitSet,!0,!0),S}_LOOK(y,g,x,S,_,b,C,O){let D=i.ATNConfig.create(y,0,x);if(!_.add(D))return;if(y===g){if(c.PredictionContext.isEmptyLocal(x)){S.add(d.Token.EPSILON);return}else if(x.isEmpty){O&&S.add(d.Token.EOF);return}}if(y instanceof h.RuleStopState){if(x.isEmpty&&!c.PredictionContext.isEmptyLocal(x)){O&&S.add(d.Token.EOF);return}let j=b.get(y.ruleIndex);try{b.clear(y.ruleIndex);for(let k=0;k<x.size;k++){if(x.getReturnState(k)===c.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let V=this.atn.states[x.getReturnState(k)];this._LOOK(V,g,x.getParent(k),S,_,b,C,O)}}finally{j&&b.set(y.ruleIndex)}}let M=y.numberOfTransitions;for(let j=0;j<M;j++){let k=y.transition(j);if(k instanceof f.RuleTransition){if(b.get(k.ruleIndex))continue;let V=x.getChild(k.followState.stateNumber);try{b.set(k.ruleIndex),this._LOOK(k.target,g,V,S,_,b,C,O)}finally{b.clear(k.ruleIndex)}}else if(k instanceof t.AbstractPredicateTransition)C?this._LOOK(k.target,g,x,S,_,b,C,O):S.add(Nd.HIT_PRED);else if(k.isEpsilon)this._LOOK(k.target,g,x,S,_,b,C,O);else if(k instanceof p.WildcardTransition)S.addAll(s.IntervalSet.of(d.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let V=k.label;V!=null&&(k instanceof a.NotSetTransition&&(V=V.complement(s.IntervalSet.of(d.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),S.addAll(V))}}}};return v.HIT_PRED=d.Token.INVALID_TYPE,n([l.NotNull],v.prototype,"atn",void 0),n([l.NotNull,e(0,l.NotNull),e(1,l.NotNull)],v.prototype,"LOOK",null),n([e(0,l.NotNull),e(2,l.NotNull),e(3,l.NotNull),e(4,l.NotNull),e(5,l.NotNull)],v.prototype,"_LOOK",null),v=n([e(0,l.NotNull)],v),hs.LL1Analyzer=v,hs}var Tg;function xn(){return Tg||(Tg=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(p,v,m,y){var g=arguments.length,x=g<3?v:y===null?y=Object.getOwnPropertyDescriptor(v,m):y,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(p,v,m,y);else for(var _=p.length-1;_>=0;_--)(S=p[_])&&(x=(g<3?S(x):g>3?S(v,m,x):S(v,m))||x);return g>3&&x&&Object.defineProperty(v,m,x),x},t=w&&w.__param||function(p,v){return function(m,y){v(m,y,p)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ATN=void 0;const r=mn,i=fS(),o=zi(),s=Xl,l=T3(),a=J,u=nr,c=Tr(),h=ze,f=jt();let d=class{constructor(v,m){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new r.Array2DHashMap(u.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=v,this.maxTokenType=m}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let v=0;v<this.decisionToDFA.length;v++)this.decisionToDFA[v]=new i.DFA(this.decisionToState[v],v);this.modeToDFA=new Array(this.modeToStartState.length);for(let v=0;v<this.modeToDFA.length;v++)this.modeToDFA[v]=new i.DFA(this.modeToStartState[v]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(v){return c.PredictionContext.getCachedContext(v,this.contextCache,new c.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return f(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(v,m){return m?new l.LL1Analyzer(this).LOOK(v,m):(v.nextTokenWithinRule||(v.nextTokenWithinRule=this.nextTokens(v,c.PredictionContext.EMPTY_LOCAL),v.nextTokenWithinRule.setReadonly(!0)),v.nextTokenWithinRule)}addState(v){v.atn=this,v.stateNumber=this.states.length,this.states.push(v)}removeState(v){let m=new s.InvalidState;m.atn=this,m.stateNumber=v.stateNumber,this.states[v.stateNumber]=m}defineMode(v,m){this.modeNameToStartState.set(v,m),this.modeToStartState.push(m),this.modeToDFA.push(new i.DFA(m)),this.defineDecisionState(m)}defineDecisionState(v){return this.decisionToState.push(v),v.decision=this.decisionToState.length-1,this.decisionToDFA.push(new i.DFA(v,v.decision)),v.decision}getDecisionState(v){if(this.decisionToState.length>0)return this.decisionToState[v]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(v,m){if(v<0||v>=this.states.length)throw new RangeError("Invalid state number.");let y=m,g=this.states[v],x=this.nextTokens(g);if(!x.contains(h.Token.EPSILON))return x;let S=new o.IntervalSet;for(S.addAll(x),S.remove(h.Token.EPSILON);y!=null&&y.invokingState>=0&&x.contains(h.Token.EPSILON);){let b=this.states[y.invokingState].transition(0);x=this.nextTokens(b.followState),S.addAll(x),S.remove(h.Token.EPSILON),y=y._parent}return x.contains(h.Token.EPSILON)&&S.add(h.Token.EOF),S}};e([a.NotNull],d.prototype,"states",void 0),e([a.NotNull],d.prototype,"decisionToState",void 0),e([a.NotNull],d.prototype,"modeNameToStartState",void 0),e([a.NotNull],d.prototype,"modeToStartState",void 0),e([a.NotNull],d.prototype,"decisionToDFA",void 0),e([a.NotNull],d.prototype,"modeToDFA",void 0),e([a.NotNull],d.prototype,"nextTokens",null),e([t(0,a.NotNull)],d.prototype,"removeState",null),e([t(0,a.NotNull),t(1,a.NotNull)],d.prototype,"defineMode",null),e([t(0,a.NotNull)],d.prototype,"defineDecisionState",null),e([a.NotNull],d.prototype,"getExpectedTokens",null),d=e([t(0,a.NotNull)],d),n.ATN=d,function(p){p.INVALID_ALT_NUMBER=0}(d=n.ATN||(n.ATN={})),n.ATN=d}(nf)),nf}var Ec={},Cc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Bi=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},E3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.LexerIndexedCustomAction=void 0;const Va=Je,ji=J;let un=class xS{constructor(e,t){this._offset=e,this._action=t}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=Va.MurmurHash.initialize();return e=Va.MurmurHash.update(e,this._offset),e=Va.MurmurHash.update(e,this._action),Va.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof xS?this._offset===e._offset&&this._action.equals(e._action):!1}};Bi([ji.NotNull],un.prototype,"action",null);Bi([ji.Override],un.prototype,"actionType",null);Bi([ji.Override],un.prototype,"isPositionDependent",null);Bi([ji.Override],un.prototype,"execute",null);Bi([ji.Override],un.prototype,"hashCode",null);Bi([ji.Override],un.prototype,"equals",null);un=Bi([E3(1,ji.NotNull)],un);Cc.LexerIndexedCustomAction=un;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var $i=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Pp=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.LexerActionExecutor=void 0;const C3=Ii,hf=Cc,ff=Je,qn=J;let cn=class ll{constructor(e){this._lexerActions=e;let t=ff.MurmurHash.initialize();for(let r of e)t=ff.MurmurHash.update(t,r);this.cachedHashCode=ff.MurmurHash.finish(t,e.length)}static append(e,t){if(!e)return new ll([t]);let r=e._lexerActions.slice(0);return r.push(t),new ll(r)}fixOffsetBeforeMatch(e){let t;for(let r=0;r<this._lexerActions.length;r++)this._lexerActions[r].isPositionDependent&&!(this._lexerActions[r]instanceof hf.LexerIndexedCustomAction)&&(t||(t=this._lexerActions.slice(0)),t[r]=new hf.LexerIndexedCustomAction(e,this._lexerActions[r]));return t?new ll(t):this}get lexerActions(){return this._lexerActions}execute(e,t,r){let i=!1,o=t.index;try{for(let s of this._lexerActions){if(s instanceof hf.LexerIndexedCustomAction){let l=s.offset;t.seek(r+l),s=s.action,i=r+l!==o}else s.isPositionDependent&&(t.seek(o),i=!1);s.execute(e)}}finally{i&&t.seek(o)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof ll?this.cachedHashCode===e.cachedHashCode&&C3.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};$i([qn.NotNull],cn.prototype,"_lexerActions",void 0);$i([qn.NotNull],cn.prototype,"lexerActions",null);$i([Pp(0,qn.NotNull)],cn.prototype,"execute",null);$i([qn.Override],cn.prototype,"hashCode",null);$i([qn.Override],cn.prototype,"equals",null);$i([qn.NotNull,Pp(1,qn.NotNull)],cn,"append",null);cn=$i([Pp(0,qn.NotNull)],cn);Ec.LexerActionExecutor=cn;var Hi={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Rp=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},w3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.LexerNoViableAltException=void 0;const O3=Gr,Lp=J,N3=Ct,D3=ut;let Ll=class extends O3.RecognitionException{constructor(e,t,r,i){super(e,t),this._startIndex=r,this._deadEndConfigs=i}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(N3.Interval.of(this._startIndex,this._startIndex)),e=D3.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};Rp([Lp.Override],Ll.prototype,"inputStream",null);Rp([Lp.Override],Ll.prototype,"toString",null);Ll=Rp([w3(1,Lp.NotNull)],Ll);Hi.LexerNoViableAltException=Ll;var ps={},Eg;function P3(){if(Eg)return ps;Eg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(i,o,s,l){var a=arguments.length,u=a<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,o,s,l);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(u=(a<3?c(u):a>3?c(o,s,u):c(o,s))||u);return a>3&&u&&Object.defineProperty(o,s,u),u};Object.defineProperty(ps,"__esModule",{value:!0}),ps.OrderedATNConfigSet=void 0;const e=Kl(),t=J;let r=class yS extends e.ATNConfigSet{constructor(o,s){o!=null&&s!=null?super(o,s):super()}clone(o){let s=new yS(this,o);return!o&&this.isReadOnly&&s.addAll(this),s}getKey(o){return{state:0,alt:o.hashCode()}}canMerge(o,s,l){return o.equals(l)}};return n([t.Override],r.prototype,"clone",null),n([t.Override],r.prototype,"getKey",null),n([t.Override],r.prototype,"canMerge",null),ps.OrderedATNConfigSet=r,ps}var Cg;function wc(){return Cg||(Cg=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(_,b,C,O){var D=arguments.length,M=D<3?b:O===null?O=Object.getOwnPropertyDescriptor(b,C):O,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(_,b,C,O);else for(var k=_.length-1;k>=0;k--)(j=_[k])&&(M=(D<3?j(M):D>3?j(b,C,M):j(b,C))||M);return D>3&&M&&Object.defineProperty(b,C,M),M},t=w&&w.__param||function(_,b){return function(C,O){b(C,O,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LexerATNSimulator=void 0;const r=Wl,i=xn(),o=Mi,s=Kl(),l=Ac(),a=bc(),u=Ct,c=pn,h=Yn(),f=Ec,d=Hi,p=J,v=P3(),m=Tr(),y=Xn,g=ze,x=jt();let S=class Yt extends l.ATNSimulator{constructor(b,C){super(b),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=h.Lexer.DEFAULT_MODE,this.prevAccept=new Yt.SimState,this.recog=C}copyState(b){this._charPositionInLine=b.charPositionInLine,this._line=b._line,this.mode=b.mode,this.startIndex=b.startIndex}match(b,C){this.mode=C;let O=b.mark();try{this.startIndex=b.index,this.prevAccept.reset();let D=this.atn.modeToDFA[C].s0;return D==null?this.matchATN(b):this.execATN(b,D)}finally{b.release(O)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=h.Lexer.DEFAULT_MODE}matchATN(b){let C=this.atn.modeToStartState[this.mode];Yt.debug&&console.log(`matchATN mode ${this.mode} start: ${C}`);let O=this.mode,D=this.computeStartState(b,C),M=D.hasSemanticContext;M&&(D.hasSemanticContext=!1);let j=this.addDFAState(D);if(!M){let V=this.atn.modeToDFA[this.mode];V.s0?j=V.s0:V.s0=j}let k=this.execATN(b,j);return Yt.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[O].toLexerString()}`),k}execATN(b,C){Yt.debug&&console.log(`start state closure=${C.configs}`),C.isAcceptState&&this.captureSimState(this.prevAccept,b,C);let O=b.LA(1),D=C;for(;;){Yt.debug&&console.log(`execATN loop starting closure: ${D.configs}`);let M=this.getExistingTargetState(D,O);if(M==null&&(M=this.computeTargetState(b,D,O)),M===l.ATNSimulator.ERROR||(O!==c.IntStream.EOF&&this.consume(b),M.isAcceptState&&(this.captureSimState(this.prevAccept,b,M),O===c.IntStream.EOF)))break;O=b.LA(1),D=M}return this.failOrAccept(this.prevAccept,b,D.configs,O)}getExistingTargetState(b,C){let O=b.getTarget(C);return Yt.debug&&O!=null&&console.log("reuse state "+b.stateNumber+" edge to "+O.stateNumber),O}computeTargetState(b,C,O){let D=new v.OrderedATNConfigSet;return this.getReachableConfigSet(b,C.configs,D,O),D.isEmpty?(D.hasSemanticContext||this.addDFAEdge(C,O,l.ATNSimulator.ERROR),l.ATNSimulator.ERROR):this.addDFAEdge(C,O,D)}failOrAccept(b,C,O,D){if(b.dfaState!=null){let M=b.dfaState.lexerActionExecutor;return this.accept(C,M,this.startIndex,b.index,b.line,b.charPos),b.dfaState.prediction}else{if(D===c.IntStream.EOF&&C.index===this.startIndex)return g.Token.EOF;throw new d.LexerNoViableAltException(this.recog,C,this.startIndex,O)}}getReachableConfigSet(b,C,O,D){let M=i.ATN.INVALID_ALT_NUMBER;for(let j of C){let k=j.alt===M;if(k&&j.hasPassedThroughNonGreedyDecision)continue;Yt.debug&&console.log(`testing ${this.getTokenName(D)} at ${j.toString(this.recog,!0)}`);let V=j.state.numberOfOptimizedTransitions;for(let se=0;se<V;se++){let ie=j.state.getOptimizedTransition(se),fe=this.getReachableTarget(ie,D);if(fe!=null){let Ee=j.lexerActionExecutor,me;Ee!=null?(Ee=Ee.fixOffsetBeforeMatch(b.index-this.startIndex),me=j.transform(fe,!0,Ee)):(x(j.lexerActionExecutor==null),me=j.transform(fe,!0));let ee=D===c.IntStream.EOF;if(this.closure(b,me,O,k,!0,ee)){M=j.alt;break}}}}}accept(b,C,O,D,M,j){Yt.debug&&console.log(`ACTION ${C}`),b.seek(D),this._line=M,this._charPositionInLine=j,C!=null&&this.recog!=null&&C.execute(this.recog,b,O)}getReachableTarget(b,C){if(b.matches(C,h.Lexer.MIN_CHAR_VALUE,h.Lexer.MAX_CHAR_VALUE))return b.target}computeStartState(b,C){let O=m.PredictionContext.EMPTY_FULL,D=new v.OrderedATNConfigSet;for(let M=0;M<C.numberOfTransitions;M++){let j=C.transition(M).target,k=o.ATNConfig.create(j,M+1,O);this.closure(b,k,D,!1,!1,!1)}return D}closure(b,C,O,D,M,j){if(Yt.debug&&console.log("closure("+C.toString(this.recog,!0)+")"),C.state instanceof y.RuleStopState){Yt.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[C.state.ruleIndex]} rule stop ${C}`):console.log(`closure at rule stop ${C}`));let V=C.context;if(V.isEmpty)return O.add(C),!0;V.hasEmpty&&(O.add(C.transform(C.state,!0,m.PredictionContext.EMPTY_FULL)),D=!0);for(let se=0;se<V.size;se++){let ie=V.getReturnState(se);if(ie===m.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let fe=V.getParent(se),Ee=this.atn.states[ie],me=C.transform(Ee,!1,fe);D=this.closure(b,me,O,D,M,j)}return D}C.state.onlyHasEpsilonTransitions||(!D||!C.hasPassedThroughNonGreedyDecision)&&O.add(C);let k=C.state;for(let V=0;V<k.numberOfOptimizedTransitions;V++){let se=k.getOptimizedTransition(V),ie=this.getEpsilonTarget(b,C,se,O,M,j);ie!=null&&(D=this.closure(b,ie,O,D,M,j))}return D}getEpsilonTarget(b,C,O,D,M,j){let k;switch(O.serializationType){case 3:let V=O;if(this.optimize_tail_calls&&V.optimizedTailCall&&!C.context.hasEmpty)k=C.transform(O.target,!0);else{let ie=C.context.getChild(V.followState.stateNumber);k=C.transform(O.target,!0,ie)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let se=O;Yt.debug&&console.log("EVAL rule "+se.ruleIndex+":"+se.predIndex),D.hasSemanticContext=!0,this.evaluatePredicate(b,se.ruleIndex,se.predIndex,M)?k=C.transform(O.target,!0):k=void 0;break;case 6:if(C.context.hasEmpty){let ie=f.LexerActionExecutor.append(C.lexerActionExecutor,this.atn.lexerActions[O.actionIndex]);k=C.transform(O.target,!0,ie);break}else{k=C.transform(O.target,!0);break}case 1:k=C.transform(O.target,!0);break;case 5:case 2:case 7:if(j&&O.matches(c.IntStream.EOF,h.Lexer.MIN_CHAR_VALUE,h.Lexer.MAX_CHAR_VALUE)){k=C.transform(O.target,!1);break}k=void 0;break;default:k=void 0;break}return k}evaluatePredicate(b,C,O,D){if(this.recog==null)return!0;if(!D)return this.recog.sempred(void 0,C,O);let M=this._charPositionInLine,j=this._line,k=b.index,V=b.mark();try{return this.consume(b),this.recog.sempred(void 0,C,O)}finally{this._charPositionInLine=M,this._line=j,b.seek(k),b.release(V)}}captureSimState(b,C,O){b.index=C.index,b.line=this._line,b.charPos=this._charPositionInLine,b.dfaState=O}addDFAEdge(b,C,O){if(O instanceof s.ATNConfigSet){let D=O.hasSemanticContext;D&&(O.hasSemanticContext=!1);let M=this.addDFAState(O);return D||this.addDFAEdge(b,C,M),M}else Yt.debug&&console.log("EDGE "+b+" -> "+O+" upon "+String.fromCharCode(C)),b!=null&&b.setTarget(C,O)}addDFAState(b){x(!b.hasSemanticContext);let C=new a.DFAState(b),O=this.atn.modeToDFA[this.mode].states.get(C);if(O!=null)return O;b.optimizeConfigs(this);let D=new a.DFAState(b.clone(!0)),M;for(let j of b)if(j.state instanceof y.RuleStopState){M=j;break}if(M!=null){let j=this.atn.ruleToTokenType[M.state.ruleIndex],k=M.lexerActionExecutor;D.acceptStateInfo=new r.AcceptStateInfo(j,k)}return this.atn.modeToDFA[this.mode].addState(D)}getDFA(b){return this.atn.modeToDFA[b]}getText(b){return b.getText(u.Interval.of(this.startIndex,b.index-1))}get line(){return this._line}set line(b){this._line=b}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(b){this._charPositionInLine=b}consume(b){b.LA(1)===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,b.consume()}getTokenName(b){return b===-1?"EOF":"'"+String.fromCharCode(b)+"'"}};e([p.NotNull],S.prototype,"prevAccept",void 0),e([t(0,p.NotNull)],S.prototype,"copyState",null),e([t(0,p.NotNull)],S.prototype,"match",null),e([p.Override],S.prototype,"reset",null),e([t(0,p.NotNull)],S.prototype,"matchATN",null),e([t(0,p.NotNull),t(1,p.NotNull)],S.prototype,"execATN",null),e([t(0,p.NotNull)],S.prototype,"getExistingTargetState",null),e([p.NotNull,t(0,p.NotNull),t(1,p.NotNull)],S.prototype,"computeTargetState",null),e([t(0,p.NotNull),t(1,p.NotNull),t(2,p.NotNull)],S.prototype,"getReachableConfigSet",null),e([t(0,p.NotNull)],S.prototype,"accept",null),e([p.NotNull,t(0,p.NotNull),t(1,p.NotNull)],S.prototype,"computeStartState",null),e([t(0,p.NotNull),t(1,p.NotNull),t(2,p.NotNull)],S.prototype,"closure",null),e([t(0,p.NotNull),t(1,p.NotNull),t(2,p.NotNull),t(3,p.NotNull)],S.prototype,"getEpsilonTarget",null),e([t(0,p.NotNull)],S.prototype,"evaluatePredicate",null),e([t(0,p.NotNull),t(1,p.NotNull),t(2,p.NotNull)],S.prototype,"captureSimState",null),e([p.NotNull,t(0,p.NotNull)],S.prototype,"addDFAState",null),e([p.NotNull],S.prototype,"getDFA",null),e([p.NotNull,t(0,p.NotNull)],S.prototype,"getText",null),e([t(0,p.NotNull)],S.prototype,"consume",null),e([p.NotNull],S.prototype,"getTokenName",null),S=e([t(0,p.NotNull)],S),n.LexerATNSimulator=S,function(_){_.debug=!1,_.dfa_debug=!1;class b{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}_.SimState=b}(S=n.LexerATNSimulator||(n.LexerATNSimulator={})),n.LexerATNSimulator=S}(rf)),rf}var wg;function Yn(){if(wg)return os;wg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(h,f,d,p){var v=arguments.length,m=v<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(h,f,d,p);else for(var g=h.length-1;g>=0;g--)(y=h[g])&&(m=(v<3?y(m):v>3?y(f,d,m):y(f,d))||m);return v>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(os,"__esModule",{value:!0}),os.Lexer=void 0;const e=Sc,t=Vl,r=Ct,i=pn,o=wc(),s=Hi,l=J,a=Kn,u=ze;let c=class _n extends a.Recognizer{constructor(f){super(),this._factory=e.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new t.IntegerStack,this._mode=_n.DEFAULT_MODE,this._input=f,this._tokenFactorySourcePair={source:this,stream:f}}static get DEFAULT_TOKEN_CHANNEL(){return u.Token.DEFAULT_CHANNEL}static get HIDDEN(){return u.Token.HIDDEN_CHANNEL}reset(f){(f===void 0||f)&&this._input.seek(0),this._token=void 0,this._type=u.Token.INVALID_TYPE,this._channel=u.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=_n.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let f=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=u.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=u.Token.INVALID_TYPE;let d;try{d=this.interpreter.match(this._input,this._mode)}catch(p){if(p instanceof s.LexerNoViableAltException)this.notifyListeners(p),this.recover(p),d=_n.SKIP;else throw p}if(this._input.LA(1)===i.IntStream.EOF&&(this._hitEOF=!0),this._type===u.Token.INVALID_TYPE&&(this._type=d),this._type===_n.SKIP)continue e}while(this._type===_n.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(f)}}skip(){this._type=_n.SKIP}more(){this._type=_n.MORE}mode(f){this._mode=f}pushMode(f){o.LexerATNSimulator.debug&&console.log("pushMode "+f),this._modeStack.push(this._mode),this.mode(f)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return o.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(f){this._factory=f}get inputStream(){return this._input}set inputStream(f){this.reset(!1),this._input=f,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(f){return f||(f=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=f,f}emitEOF(){let f=this.charPositionInLine,d=this.line,p=this._factory.create(this._tokenFactorySourcePair,u.Token.EOF,void 0,u.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,d,f);return this.emit(p),p}get line(){return this.interpreter.line}set line(f){this.interpreter.line=f}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(f){this.interpreter.charPositionInLine=f}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(f){this._text=f}get token(){return this._token}set token(f){this._token=f}set type(f){this._type=f}get type(){return this._type}set channel(f){this._channel=f}get channel(){return this._channel}getAllTokens(){let f=[],d=this.nextToken();for(;d.type!==u.Token.EOF;)f.push(d),d=this.nextToken();return f}notifyListeners(f){let d=this._input.getText(r.Interval.of(this._tokenStartCharIndex,this._input.index)),p="token recognition error at: '"+this.getErrorDisplay(d)+"'",v=this.getErrorListenerDispatch();v.syntaxError&&v.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,p,f)}getErrorDisplay(f){if(typeof f=="number"){switch(f){case u.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(f)}return f.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(f){return"'"+this.getErrorDisplay(f)+"'"}recover(f){f instanceof s.LexerNoViableAltException?this._input.LA(1)!==i.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}};return c.DEFAULT_MODE=0,c.MORE=-2,c.SKIP=-3,c.MIN_CHAR_VALUE=0,c.MAX_CHAR_VALUE=1114111,n([l.Override],c.prototype,"nextToken",null),n([l.Override],c.prototype,"tokenFactory",null),n([l.Override],c.prototype,"inputStream",null),n([l.Override],c.prototype,"sourceName",null),n([l.Override],c.prototype,"line",null),n([l.Override],c.prototype,"charPositionInLine",null),os.Lexer=c,os}var Og;function zi(){if(Og)return is;Og=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(c,h,f,d){var p=arguments.length,v=p<3?h:d===null?d=Object.getOwnPropertyDescriptor(h,f):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(c,h,f,d);else for(var y=c.length-1;y>=0;y--)(m=c[y])&&(v=(p<3?m(v):p>3?m(h,f,v):m(h,f))||v);return p>3&&v&&Object.defineProperty(h,f,v),v},e=w&&w.__param||function(c,h){return function(f,d){h(f,d,c)}};Object.defineProperty(is,"__esModule",{value:!0}),is.IntervalSet=void 0;const t=Ii,r=Fo,i=Ct,o=Yn(),s=Je,l=J,a=ze;let u=class Be{constructor(h){this.readonly=!1,h!=null?this._intervals=h.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return Be._COMPLETE_CHAR_SET===void 0&&(Be._COMPLETE_CHAR_SET=Be.of(o.Lexer.MIN_CHAR_VALUE,o.Lexer.MAX_CHAR_VALUE),Be._COMPLETE_CHAR_SET.setReadonly(!0)),Be._COMPLETE_CHAR_SET}static get EMPTY_SET(){return Be._EMPTY_SET==null&&(Be._EMPTY_SET=new Be,Be._EMPTY_SET.setReadonly(!0)),Be._EMPTY_SET}static of(h,f=h){let d=new Be;return d.add(h,f),d}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(h,f=h){this.addRange(i.Interval.of(h,f))}addRange(h){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(h.b<h.a)){for(let f=0;f<this._intervals.length;f++){let d=this._intervals[f];if(h.equals(d))return;if(h.adjacent(d)||!h.disjoint(d)){let p=h.union(d);for(this._intervals[f]=p;f<this._intervals.length-1;){f++;let v=this._intervals[f];if(!p.adjacent(v)&&p.disjoint(v))break;this._intervals.splice(f,1),f--,this._intervals[f]=p.union(v)}return}if(h.startsBeforeDisjoint(d)){this._intervals.splice(f,0,h);return}}this._intervals.push(h)}}static or(h){let f=new Be;for(let d of h)f.addAll(d);return f}addAll(h){if(h==null)return this;if(h instanceof Be){let f=h,d=f._intervals.length;for(let p=0;p<d;p++){let v=f._intervals[p];this.add(v.a,v.b)}}else for(let f of h.toArray())this.add(f);return this}complementRange(h,f){return this.complement(Be.of(h,f))}complement(h){if(h.isNil)return Be.EMPTY_SET;let f;return h instanceof Be?f=h:(f=new Be,f.addAll(h)),f.subtract(this)}subtract(h){if(h==null||h.isNil)return new Be(this._intervals);if(h instanceof Be)return Be.subtract(this,h);let f=new Be;return f.addAll(h),Be.subtract(this,f)}static subtract(h,f){if(h.isNil)return new Be;let d=new Be(h._intervals);if(f.isNil)return d;let p=0,v=0;for(;p<d._intervals.length&&v<f._intervals.length;){let m=d._intervals[p],y=f._intervals[v];if(y.b<m.a){v++;continue}if(y.a>m.b){p++;continue}let g,x;if(y.a>m.a&&(g=new i.Interval(m.a,y.a-1)),y.b<m.b&&(x=new i.Interval(y.b+1,m.b)),g)if(x){d._intervals[p]=g,d._intervals.splice(p+1,0,x),p++,v++;continue}else{d._intervals[p]=g,p++;continue}else if(x){d._intervals[p]=x,v++;continue}else{d._intervals.splice(p,1);continue}}return d}or(h){let f=new Be;return f.addAll(this),f.addAll(h),f}and(h){if(h.isNil)return new Be;let f=this._intervals,d=h._intervals,p,v=f.length,m=d.length,y=0,g=0;for(;y<v&&g<m;){let x=f[y],S=d[g];x.startsBeforeDisjoint(S)?y++:S.startsBeforeDisjoint(x)?g++:x.properlyContains(S)?(p||(p=new Be),p.addRange(x.intersection(S)),g++):S.properlyContains(x)?(p||(p=new Be),p.addRange(x.intersection(S)),y++):x.disjoint(S)||(p||(p=new Be),p.addRange(x.intersection(S)),x.startsAfterNonDisjoint(S)?g++:S.startsAfterNonDisjoint(x)&&y++)}return p||new Be}contains(h){let f=this._intervals.length,d=0,p=f-1;for(;d<=p;){let v=d+p>>1,m=this._intervals[v],y=m.a;if(m.b<h)d=v+1;else if(y>h)p=v-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let h=s.MurmurHash.initialize();for(let f of this._intervals)h=s.MurmurHash.update(h,f.a),h=s.MurmurHash.update(h,f.b);return h=s.MurmurHash.finish(h,this._intervals.length*2),h}equals(h){return h==null||!(h instanceof Be)?!1:t.ArrayEqualityComparator.INSTANCE.equals(this._intervals,h._intervals)}toString(h=!1){let f="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(f+="{");let d=!0;for(let p of this._intervals){d?d=!1:f+=", ";let v=p.a,m=p.b;v===m?v===a.Token.EOF?f+="<EOF>":h?f+="'"+String.fromCodePoint(v)+"'":f+=v:h?f+="'"+String.fromCodePoint(v)+"'..'"+String.fromCodePoint(m)+"'":f+=v+".."+m}return this.size>1&&(f+="}"),f}toStringVocabulary(h){if(this._intervals==null||this._intervals.length===0)return"{}";let f="";this.size>1&&(f+="{");let d=!0;for(let p of this._intervals){d?d=!1:f+=", ";let v=p.a,m=p.b;if(v===m)f+=this.elementName(h,v);else for(let y=v;y<=m;y++)y>v&&(f+=", "),f+=this.elementName(h,y)}return this.size>1&&(f+="}"),f}elementName(h,f){return f===a.Token.EOF?"<EOF>":f===a.Token.EPSILON?"<EPSILON>":h.getDisplayName(f)}get size(){let h=0,f=this._intervals.length;if(f===1){let d=this._intervals[0];return d.b-d.a+1}for(let d=0;d<f;d++){let p=this._intervals[d];h+=p.b-p.a+1}return h}toIntegerList(){let h=new r.IntegerList(this.size),f=this._intervals.length;for(let d=0;d<f;d++){let p=this._intervals[d],v=p.a,m=p.b;for(let y=v;y<=m;y++)h.add(y)}return h}toSet(){let h=new Set;for(let f of this._intervals){let d=f.a,p=f.b;for(let v=d;v<=p;v++)h.add(v)}return h}toArray(){let h=new Array,f=this._intervals.length;for(let d=0;d<f;d++){let p=this._intervals[d],v=p.a,m=p.b;for(let y=v;y<=m;y++)h.push(y)}return h}remove(h){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let f=this._intervals.length;for(let d=0;d<f;d++){let p=this._intervals[d],v=p.a,m=p.b;if(h<v)break;if(h===v&&h===m){this._intervals.splice(d,1);break}if(h===v){this._intervals[d]=i.Interval.of(p.a+1,p.b);break}if(h===m){this._intervals[d]=i.Interval.of(p.a,p.b-1);break}if(h>v&&h<m){let y=p.b;this._intervals[d]=i.Interval.of(p.a,h-1),this.add(h+1,y)}}}get isReadonly(){return this.readonly}setReadonly(h){if(this.readonly&&!h)throw new Error("can't alter readonly IntervalSet");this.readonly=h}};return n([l.Override],u.prototype,"addAll",null),n([l.Override],u.prototype,"complement",null),n([l.Override],u.prototype,"subtract",null),n([l.Override],u.prototype,"or",null),n([l.Override],u.prototype,"and",null),n([l.Override],u.prototype,"contains",null),n([l.Override],u.prototype,"isNil",null),n([l.Override],u.prototype,"hashCode",null),n([l.Override],u.prototype,"equals",null),n([e(0,l.NotNull)],u.prototype,"toStringVocabulary",null),n([l.NotNull,e(0,l.NotNull)],u.prototype,"elementName",null),n([l.Override],u.prototype,"size",null),n([l.Override],u.prototype,"remove",null),n([l.NotNull],u,"of",null),n([l.NotNull],u,"subtract",null),is.IntervalSet=u,is}var ms={},gs={},Zl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var R3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.ATNDeserializationOptions=void 0;const L3=J;class Nn{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return Nn._defaultOptions==null&&(Nn._defaultOptions=new Nn,Nn._defaultOptions.makeReadOnly()),Nn._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}}R3([L3.NotNull],Nn,"defaultOptions",null);Zl.ATNDeserializationOptions=Nn;var xs={},ea={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ta=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},k3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ea,"__esModule",{value:!0});ea.ActionTransition=void 0;const ra=J,I3=Ar;let bi=class extends I3.Transition{constructor(e,t,r=-1,i=!1){super(e),this.ruleIndex=t,this.actionIndex=r,this.isCtxDependent=i}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};ta([ra.Override],bi.prototype,"serializationType",null);ta([ra.Override],bi.prototype,"isEpsilon",null);ta([ra.Override],bi.prototype,"matches",null);ta([ra.Override],bi.prototype,"toString",null);bi=ta([k3(0,ra.NotNull)],bi);ea.ActionTransition=bi;var na={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ia=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},F3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(na,"__esModule",{value:!0});na.AtomTransition=void 0;const M3=zi(),Ai=J,B3=Ar;let _i=class extends B3.Transition{constructor(e,t){super(e),this._label=t}get serializationType(){return 5}get label(){return M3.IntervalSet.of(this._label)}matches(e,t,r){return this._label===e}toString(){return String(this.label)}};ia([Ai.Override],_i.prototype,"serializationType",null);ia([Ai.Override,Ai.NotNull],_i.prototype,"label",null);ia([Ai.Override],_i.prototype,"matches",null);ia([Ai.Override,Ai.NotNull],_i.prototype,"toString",null);_i=ia([F3(0,Ai.NotNull)],_i);na.AtomTransition=_i;var Oc={},qi={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(qi,"__esModule",{value:!0});qi.BlockStartState=void 0;const j3=Xr;class $3 extends j3.DecisionState{}qi.BlockStartState=$3;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var H3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.BasicBlockStartState=void 0;const z3=mt,q3=qi,U3=J;class vS extends q3.BlockStartState{get stateType(){return z3.ATNStateType.BLOCK_START}}H3([U3.Override],vS.prototype,"stateType",null);Oc.BasicBlockStartState=vS;var Nc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var V3=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.BlockEndState=void 0;const W3=Kr,K3=mt,G3=J;class SS extends W3.ATNState{get stateType(){return K3.ATNStateType.BLOCK_END}}V3([G3.Override],SS.prototype,"stateType",null);Nc.BlockEndState=SS;var Dc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var oa=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},X3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Dc,"__esModule",{value:!0});Dc.EpsilonTransition=void 0;const wo=J,Y3=Ar;let Ti=class extends Y3.Transition{constructor(e,t=-1){super(e),this._outermostPrecedenceReturn=t}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,t,r){return!1}toString(){return"epsilon"}};oa([wo.Override],Ti.prototype,"serializationType",null);oa([wo.Override],Ti.prototype,"isEpsilon",null);oa([wo.Override],Ti.prototype,"matches",null);oa([wo.Override,wo.NotNull],Ti.prototype,"toString",null);Ti=oa([X3(0,wo.NotNull)],Ti);Dc.EpsilonTransition=Ti;var Pc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var $o=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},J3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.LexerChannelAction=void 0;const Wa=Je,Ei=J;class yn{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=Wa.MurmurHash.initialize();return e=Wa.MurmurHash.update(e,this.actionType),e=Wa.MurmurHash.update(e,this._channel),Wa.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof yn?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}}$o([Ei.Override],yn.prototype,"actionType",null);$o([Ei.Override],yn.prototype,"isPositionDependent",null);$o([Ei.Override,J3(0,Ei.NotNull)],yn.prototype,"execute",null);$o([Ei.Override],yn.prototype,"hashCode",null);$o([Ei.Override],yn.prototype,"equals",null);$o([Ei.Override],yn.prototype,"toString",null);Pc.LexerChannelAction=yn;var Rc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var sa=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Q3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.LexerCustomAction=void 0;const ys=Je,Oo=J;class Jn{constructor(e,t){this._ruleIndex=e,this._actionIndex=t}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=ys.MurmurHash.initialize();return e=ys.MurmurHash.update(e,this.actionType),e=ys.MurmurHash.update(e,this._ruleIndex),e=ys.MurmurHash.update(e,this._actionIndex),ys.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof Jn?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}}sa([Oo.Override],Jn.prototype,"actionType",null);sa([Oo.Override],Jn.prototype,"isPositionDependent",null);sa([Oo.Override,Q3(0,Oo.NotNull)],Jn.prototype,"execute",null);sa([Oo.Override],Jn.prototype,"hashCode",null);sa([Oo.Override],Jn.prototype,"equals",null);Rc.LexerCustomAction=Jn;var Lc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ho=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Z3=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.LexerModeAction=void 0;const Ka=Je,Ci=J;class vn{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=Ka.MurmurHash.initialize();return e=Ka.MurmurHash.update(e,this.actionType),e=Ka.MurmurHash.update(e,this._mode),Ka.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof vn?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}}Ho([Ci.Override],vn.prototype,"actionType",null);Ho([Ci.Override],vn.prototype,"isPositionDependent",null);Ho([Ci.Override,Z3(0,Ci.NotNull)],vn.prototype,"execute",null);Ho([Ci.Override],vn.prototype,"hashCode",null);Ho([Ci.Override],vn.prototype,"equals",null);Ho([Ci.Override],vn.prototype,"toString",null);Lc.LexerModeAction=vn;var bS={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h},t=w&&w.__param||function(s,l){return function(a,u){l(a,u,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LexerMoreAction=void 0;const r=Je,i=J;class o{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(l){l.more()}hashCode(){let l=r.MurmurHash.initialize();return l=r.MurmurHash.update(l,this.actionType),r.MurmurHash.finish(l,1)}equals(l){return l===this}toString(){return"more"}}e([i.Override],o.prototype,"actionType",null),e([i.Override],o.prototype,"isPositionDependent",null),e([i.Override,t(0,i.NotNull)],o.prototype,"execute",null),e([i.Override],o.prototype,"hashCode",null),e([i.Override],o.prototype,"equals",null),e([i.Override],o.prototype,"toString",null),n.LexerMoreAction=o,function(s){s.INSTANCE=new s}(o=n.LexerMoreAction||(n.LexerMoreAction={}))})(bS);var AS={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h},t=w&&w.__param||function(s,l){return function(a,u){l(a,u,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LexerPopModeAction=void 0;const r=Je,i=J;class o{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(l){l.popMode()}hashCode(){let l=r.MurmurHash.initialize();return l=r.MurmurHash.update(l,this.actionType),r.MurmurHash.finish(l,1)}equals(l){return l===this}toString(){return"popMode"}}e([i.Override],o.prototype,"actionType",null),e([i.Override],o.prototype,"isPositionDependent",null),e([i.Override,t(0,i.NotNull)],o.prototype,"execute",null),e([i.Override],o.prototype,"hashCode",null),e([i.Override],o.prototype,"equals",null),e([i.Override],o.prototype,"toString",null),n.LexerPopModeAction=o,function(s){s.INSTANCE=new s}(o=n.LexerPopModeAction||(n.LexerPopModeAction={}))})(AS);var kc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var zo=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(kc,"__esModule",{value:!0});kc.LexerPushModeAction=void 0;const Ga=Je,wi=J;class Sn{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=Ga.MurmurHash.initialize();return e=Ga.MurmurHash.update(e,this.actionType),e=Ga.MurmurHash.update(e,this._mode),Ga.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Sn?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}}zo([wi.Override],Sn.prototype,"actionType",null);zo([wi.Override],Sn.prototype,"isPositionDependent",null);zo([wi.Override,eD(0,wi.NotNull)],Sn.prototype,"execute",null);zo([wi.Override],Sn.prototype,"hashCode",null);zo([wi.Override],Sn.prototype,"equals",null);zo([wi.Override],Sn.prototype,"toString",null);kc.LexerPushModeAction=Sn;var _S={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h},t=w&&w.__param||function(s,l){return function(a,u){l(a,u,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LexerSkipAction=void 0;const r=Je,i=J;class o{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(l){l.skip()}hashCode(){let l=r.MurmurHash.initialize();return l=r.MurmurHash.update(l,this.actionType),r.MurmurHash.finish(l,1)}equals(l){return l===this}toString(){return"skip"}}e([i.Override],o.prototype,"actionType",null),e([i.Override],o.prototype,"isPositionDependent",null),e([i.Override,t(0,i.NotNull)],o.prototype,"execute",null),e([i.Override],o.prototype,"hashCode",null),e([i.Override],o.prototype,"equals",null),e([i.Override],o.prototype,"toString",null),n.LexerSkipAction=o,function(s){s.INSTANCE=new s}(o=n.LexerSkipAction||(n.LexerSkipAction={}))})(_S);var Ic={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var qo=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.LexerTypeAction=void 0;const Xa=Je,Oi=J;class bn{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=Xa.MurmurHash.initialize();return e=Xa.MurmurHash.update(e,this.actionType),e=Xa.MurmurHash.update(e,this._type),Xa.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof bn?this._type===e._type:!1}toString(){return`type(${this._type})`}}qo([Oi.Override],bn.prototype,"actionType",null);qo([Oi.Override],bn.prototype,"isPositionDependent",null);qo([Oi.Override,tD(0,Oi.NotNull)],bn.prototype,"execute",null);qo([Oi.Override],bn.prototype,"hashCode",null);qo([Oi.Override],bn.prototype,"equals",null);qo([Oi.Override],bn.prototype,"toString",null);Ic.LexerTypeAction=bn;var la={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var rD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(la,"__esModule",{value:!0});la.LoopEndState=void 0;const nD=Kr,iD=mt,oD=J;class TS extends nD.ATNState{get stateType(){return iD.ATNStateType.LOOP_END}}rD([oD.Override],TS.prototype,"stateType",null);la.LoopEndState=TS;var vs={},Fc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ES=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ConflictInfo=void 0;const CS=J,sD=ut;class aa{constructor(e,t){this._conflictedAlts=e,this.exact=t}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof aa?this.isExact===e.isExact&&sD.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}}ES([CS.Override],aa.prototype,"equals",null);ES([CS.Override],aa.prototype,"hashCode",null);Fc.ConflictInfo=aa;var Ss={},Uo={},An={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Jr=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(An,"__esModule",{value:!0});An.TerminalNode=void 0;const lD=Ct,Qr=J,aD=ze;class Cr{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new lD.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===aD.Token.EOF?"<EOF>":this._symbol.text||""}}Jr([Qr.Override],Cr.prototype,"getChild",null);Jr([Qr.Override],Cr.prototype,"parent",null);Jr([Qr.Override],Cr.prototype,"setParent",null);Jr([Qr.Override],Cr.prototype,"payload",null);Jr([Qr.Override],Cr.prototype,"sourceInterval",null);Jr([Qr.Override],Cr.prototype,"childCount",null);Jr([Qr.Override],Cr.prototype,"accept",null);Jr([Qr.Override],Cr.prototype,"text",null);Jr([Qr.Override],Cr.prototype,"toStringTree",null);Jr([Qr.Override],Cr.prototype,"toString",null);An.TerminalNode=Cr;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var uD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.ErrorNode=void 0;const cD=J,hD=An;class wS extends hD.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}}uD([cD.Override],wS.prototype,"accept",null);Uo.ErrorNode=wS;var bs={},Vo={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Vo,"__esModule",{value:!0});Vo.RuleNode=void 0;class fD{}Vo.RuleNode=fD;var As={},Ng;function Ui(){if(Ng)return As;Ng=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(d,p,v,m){var y=arguments.length,g=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,v):m,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,p,v,m);else for(var S=d.length-1;S>=0;S--)(x=d[S])&&(g=(y<3?x(g):y>3?x(p,v,g):x(p,v))||g);return y>3&&g&&Object.defineProperty(p,v,g),g},e=w&&w.__param||function(d,p){return function(v,m){p(v,m,d)}};Object.defineProperty(As,"__esModule",{value:!0}),As.Trees=void 0;const t=xn(),r=Wn,i=Uo,o=J,s=va(),l=wr(),a=Vo,u=An,c=ze,h=ut;let f=class Tn{static toStringTree(p,v){let m;v instanceof s.Parser?m=v.ruleNames:m=v;let y=h.escapeWhitespace(this.getNodeText(p,m),!1);if(p.childCount===0)return y;let g="";g+="(",y=h.escapeWhitespace(this.getNodeText(p,m),!1),g+=y,g+=" ";for(let x=0;x<p.childCount;x++)x>0&&(g+=" "),g+=this.toStringTree(p.getChild(x),m);return g+=")",g}static getNodeText(p,v){let m;if(v instanceof s.Parser)m=v.ruleNames;else if(v)m=v;else{let y=p.payload;return typeof y.text=="string"?y.text:p.payload.toString()}if(p instanceof a.RuleNode){let y=p.ruleContext,g=y.ruleIndex,x=m[g],S=y.altNumber;return S!==t.ATN.INVALID_ALT_NUMBER?x+":"+S:x}else{if(p instanceof i.ErrorNode)return p.toString();if(p instanceof u.TerminalNode)return p.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(p){let v=[];for(let m=0;m<p.childCount;m++)v.push(p.getChild(m));return v}static getAncestors(p){let v=[],m=p.parent;for(;m;)v.unshift(m),m=m.parent;return v}static isAncestorOf(p,v){if(!p||!v||!p.parent)return!1;let m=v.parent;for(;m;){if(p===m)return!0;m=m.parent}return!1}static findAllTokenNodes(p,v){return Tn.findAllNodes(p,v,!0)}static findAllRuleNodes(p,v){return Tn.findAllNodes(p,v,!1)}static findAllNodes(p,v,m){let y=[];return Tn._findAllNodes(p,v,m,y),y}static _findAllNodes(p,v,m,y){m&&p instanceof u.TerminalNode?p.symbol.type===v&&y.push(p):!m&&p instanceof l.ParserRuleContext&&p.ruleIndex===v&&y.push(p);for(let g=0;g<p.childCount;g++)Tn._findAllNodes(p.getChild(g),v,m,y)}static getDescendants(p){let v=[];function m(y){v.push(y);const g=y.childCount;for(let x=0;x<g;x++)m(y.getChild(x))}return m(p),v}static getRootOfSubtreeEnclosingRegion(p,v,m){let y=p.childCount;for(let g=0;g<y;g++){let x=p.getChild(g),S=Tn.getRootOfSubtreeEnclosingRegion(x,v,m);if(S)return S}if(p instanceof l.ParserRuleContext){let g=p.stop;if(v>=p.start.tokenIndex&&(g==null||m<=g.tokenIndex))return p}}static stripChildrenOutOfRange(p,v,m,y){if(!p)return;let g=p.childCount;for(let x=0;x<g;x++){let S=p.getChild(x),_=S.sourceInterval;if(S instanceof l.ParserRuleContext&&(_.b<m||_.a>y)&&Tn.isAncestorOf(S,v)){let b=new r.CommonToken(c.Token.INVALID_TYPE,"...");p.children[x]=new u.TerminalNode(b)}}}static findNodeSuchThat(p,v){if(v(p))return p;let m=p.childCount;for(let y=0;y<m;y++){let g=Tn.findNodeSuchThat(p.getChild(y),v);if(g!==void 0)return g}}};return n([e(0,o.NotNull)],f,"toStringTree",null),n([o.NotNull,e(0,o.NotNull)],f,"getAncestors",null),n([e(0,o.NotNull)],f,"getRootOfSubtreeEnclosingRegion",null),As.Trees=f,As}var Dg;function NS(){if(Dg)return bs;Dg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(u,c,h,f){var d=arguments.length,p=d<3?c:f===null?f=Object.getOwnPropertyDescriptor(c,h):f,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,c,h,f);else for(var m=u.length-1;m>=0;m--)(v=u[m])&&(p=(d<3?v(p):d>3?v(c,h,p):v(c,h))||p);return d>3&&p&&Object.defineProperty(c,h,p),p};Object.defineProperty(bs,"__esModule",{value:!0}),bs.RuleContext=void 0;const e=xn(),t=Kn,r=Vo,i=Ct,o=J,s=Ui(),l=wr();let a=class OS extends r.RuleNode{constructor(c,h){super(),this._parent=c,this.invokingState=h??-1}static getChildContext(c,h){return new OS(c,h)}depth(){let c=0,h=this;for(;h;)h=h._parent,c++;return c}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return i.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(c){this._parent=c}get payload(){return this}get text(){if(this.childCount===0)return"";let c="";for(let h=0;h<this.childCount;h++)c+=this.getChild(h).text;return c.toString()}get ruleIndex(){return-1}get altNumber(){return e.ATN.INVALID_ALT_NUMBER}set altNumber(c){}getChild(c){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(c){return c.visitChildren(this)}toStringTree(c){return s.Trees.toStringTree(this,c)}toString(c,h){const f=c instanceof t.Recognizer?c.ruleNames:c;h=h||l.ParserRuleContext.emptyContext();let d="",p=this;for(d+="[";p&&p!==h;){if(!f)p.isEmpty||(d+=p.invokingState);else{let v=p.ruleIndex,m=v>=0&&v<f.length?f[v]:v.toString();d+=m}p._parent&&(f||!p._parent.isEmpty)&&(d+=" "),p=p._parent}return d+="]",d.toString()}};return n([o.Override],a.prototype,"sourceInterval",null),n([o.Override],a.prototype,"ruleContext",null),n([o.Override],a.prototype,"parent",null),n([o.Override],a.prototype,"setParent",null),n([o.Override],a.prototype,"payload",null),n([o.Override],a.prototype,"text",null),n([o.Override],a.prototype,"getChild",null),n([o.Override],a.prototype,"childCount",null),n([o.Override],a.prototype,"accept",null),n([o.Override],a.prototype,"toStringTree",null),bs.RuleContext=a,bs}var Pg;function wr(){if(Pg)return Ss;Pg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(l,a,u,c){var h=arguments.length,f=h<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,u):c,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,a,u,c);else for(var p=l.length-1;p>=0;p--)(d=l[p])&&(f=(h<3?d(f):h>3?d(a,u,f):d(a,u))||f);return h>3&&f&&Object.defineProperty(a,u,f),f};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.ParserRuleContext=void 0;const e=Uo,t=Ct,r=J,i=NS(),o=An;let s=class Dd extends i.RuleContext{constructor(a,u){u==null?super():super(a,u)}static emptyContext(){return Dd.EMPTY}copyFrom(a){if(this._parent=a._parent,this.invokingState=a.invokingState,this._start=a._start,this._stop=a._stop,a.children){this.children=[];for(let u of a.children)u instanceof e.ErrorNode&&this.addChild(u)}}enterRule(a){}exitRule(a){}addAnyChild(a){return this.children?this.children.push(a):this.children=[a],a}addChild(a){if(a instanceof o.TerminalNode){a.setParent(this),this.addAnyChild(a);return}else if(a instanceof i.RuleContext){this.addAnyChild(a);return}else return a=new o.TerminalNode(a),this.addAnyChild(a),a.setParent(this),a}addErrorNode(a){if(a instanceof e.ErrorNode){const u=a;return u.setParent(this),this.addAnyChild(u)}else{const u=a;let c=new e.ErrorNode(u);return this.addAnyChild(c),c.setParent(this),c}}removeLastChild(){this.children&&this.children.pop()}get parent(){let a=super.parent;if(a===void 0||a instanceof Dd)return a;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(a,u){if(!this.children||a<0||a>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(u==null)return this.children[a];let c=this.tryGetChild(a,u);if(c===void 0)throw new Error("The specified node does not exist");return c}tryGetChild(a,u){if(!this.children||a<0||a>=this.children.length)return;let c=-1;for(let h of this.children)if(h instanceof u&&(c++,c===a))return h}getToken(a,u){let c=this.tryGetToken(a,u);if(c===void 0)throw new Error("The specified token does not exist");return c}tryGetToken(a,u){if(!this.children||u<0||u>=this.children.length)return;let c=-1;for(let h of this.children)if(h instanceof o.TerminalNode&&h.symbol.type===a&&(c++,c===u))return h}getTokens(a){let u=[];if(!this.children)return u;for(let c of this.children)c instanceof o.TerminalNode&&c.symbol.type===a&&u.push(c);return u}get ruleContext(){return this}getRuleContext(a,u){return this.getChild(a,u)}tryGetRuleContext(a,u){return this.tryGetChild(a,u)}getRuleContexts(a){let u=[];if(!this.children)return u;for(let c of this.children)c instanceof a&&u.push(c);return u}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?t.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):t.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):t.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(a){return"ParserRuleContext"+a.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}};return s.EMPTY=new s,n([r.Override],s.prototype,"parent",null),n([r.Override],s.prototype,"childCount",null),n([r.Override],s.prototype,"sourceInterval",null),Ss.ParserRuleContext=s,Ss}var DS={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(n,"__esModule",{value:!0}),n.PredictionMode=void 0;const t=mn,r=Je,i=J,o=Xn;(function(s){s[s.SLL=0]="SLL",s[s.LL=1]="LL",s[s.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(n.PredictionMode||(n.PredictionMode={})),function(s){class l extends t.Array2DHashMap{constructor(){super(a.INSTANCE)}}class a{AltAndContextConfigEqualityComparator(){}hashCode(f){let d=r.MurmurHash.initialize(7);return d=r.MurmurHash.update(d,f.state.stateNumber),d=r.MurmurHash.update(d,f.context),d=r.MurmurHash.finish(d,2),d}equals(f,d){return f===d?!0:f==null||d==null?!1:f.state.stateNumber===d.state.stateNumber&&f.context.equals(d.context)}}a.INSTANCE=new a,e([i.Override],a.prototype,"hashCode",null),e([i.Override],a.prototype,"equals",null);function u(h){for(let f of h)if(f.state instanceof o.RuleStopState)return!0;return!1}s.hasConfigInRuleStopState=u;function c(h){for(let f of h)if(!(f.state instanceof o.RuleStopState))return!1;return!0}s.allConfigsInRuleStopStates=c}(n.PredictionMode||(n.PredictionMode={}))})(DS);var _s={},Rg;function PS(){if(Rg)return _s;Rg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(_s,"__esModule",{value:!0}),_s.SimulatorState=void 0;const t=J,r=wr();let i=class{constructor(s,l,a,u){this.outerContext=s??r.ParserRuleContext.emptyContext(),this.s0=l,this.useContext=a,this.remainingOuterContext=u}};return i=n([e(1,t.NotNull)],i),_s.SimulatorState=i,_s}var Lg;function ua(){if(Lg)return vs;Lg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(le,E,A,T){var N=arguments.length,R=N<3?E:T===null?T=Object.getOwnPropertyDescriptor(E,A):T,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(le,E,A,T);else for(var L=le.length-1;L>=0;L--)(P=le[L])&&(R=(N<3?P(R):N>3?P(E,A,R):P(E,A))||R);return N>3&&R&&Object.defineProperty(E,A,R),R},e=w&&w.__param||function(le,E){return function(A,T){E(A,T,le)}};Object.defineProperty(vs,"__esModule",{value:!0}),vs.ParserATNSimulator=void 0;const t=Wl,r=ea,i=_r,o=xc,s=xn(),l=Mi,a=Kl(),u=Ac(),c=mt,h=na,f=Er,d=Fc,p=Xr,v=bc(),m=Fo,y=Ct,g=pn,x=J,S=Np(),_=Jc(),b=nr,C=wr(),O=Tr(),D=Cp(),M=DS,j=Xn,k=jo,V=ki,se=Op(),ie=PS(),fe=ze,Ee=gn,me=jt(),ee=65535,X=-(1<<31>>>0);let Z=class we extends u.ATNSimulator{constructor(E,A){super(E),this.predictionMode=M.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=A}getPredictionMode(){return this.predictionMode}setPredictionMode(E){this.predictionMode=E}reset(){}adaptivePredict(E,A,T,N){N===void 0&&(N=!1);let R=this.atn.decisionToDFA[A];if(me(R!=null),this.optimize_ll1&&!R.isPrecedenceDfa&&!R.isEmpty){let W=E.LA(1);if(W>=0&&W<=65535){let Y=(A<<16>>>0)+W,I=this.atn.LL1Table.get(Y);if(I!=null)return I}}this.dfa=R,this.force_global_context?N=!0:this.always_try_local_context||(N=N||R.isContextSensitive),this.userWantsCtxSensitive=N||this.predictionMode!==M.PredictionMode.SLL&&T!=null&&!this.atn.decisionToState[A].sll,T==null&&(T=C.ParserRuleContext.emptyContext());let P;R.isEmpty||(P=this.getStartState(R,E,T,N)),P==null&&(T==null&&(T=C.ParserRuleContext.emptyContext()),we.debug&&console.log("ATN decision "+R.decision+" exec LA(1)=="+this.getLookaheadName(E)+", outerContext="+T.toString(this._parser)),P=this.computeStartState(R,T,N));let L=E.mark(),z=E.index;try{let W=this.execDFA(R,E,z,P);return we.debug&&console.log("DFA after predictATN: "+R.toString(this._parser.vocabulary,this._parser.ruleNames)),W}finally{this.dfa=void 0,E.seek(z),E.release(L)}}getStartState(E,A,T,N){if(!N)if(E.isPrecedenceDfa){let L=E.getPrecedenceStartState(this._parser.precedence,!1);return L==null?void 0:new ie.SimulatorState(T,L,!1,T)}else return E.s0==null?void 0:new ie.SimulatorState(T,E.s0,!1,T);if(!this.enable_global_context_dfa)return;let R=T;me(T!=null);let P;for(E.isPrecedenceDfa?P=E.getPrecedenceStartState(this._parser.precedence,!0):P=E.s0full;R!=null&&P!=null&&P.isContextSensitive;)R=this.skipTailCalls(R),P=P.getContextTarget(this.getReturnState(R)),R.isEmpty?me(P==null||!P.isContextSensitive):R=R.parent;if(P!=null)return new ie.SimulatorState(T,P,N,R)}execDFA(E,A,T,N){let R=N.outerContext;we.dfa_debug&&console.log("DFA decision "+E.decision+" exec LA(1)=="+this.getLookaheadName(A)+", outerContext="+R.toString(this._parser)),we.dfa_debug&&console.log(E.toString(this._parser.vocabulary,this._parser.ruleNames));let P=N.s0,L=A.LA(1),z=N.remainingOuterContext;for(;;){if(we.dfa_debug&&console.log("DFA state "+P.stateNumber+" LA(1)=="+this.getLookaheadName(A)),N.useContext)for(;P.isContextSymbol(L);){let I;if(z!=null&&(z=this.skipTailCalls(z),I=P.getContextTarget(this.getReturnState(z))),I==null){let F=new ie.SimulatorState(N.outerContext,P,N.useContext,z);return this.execATN(E,A,T,F)}me(z!=null),z=z.parent,P=I}if(this.isAcceptState(P,N.useContext)){P.predicates!=null?we.dfa_debug&&console.log("accept "+P):we.dfa_debug&&console.log("accept; predict "+P.prediction+" in state "+P.stateNumber);break}me(!this.isAcceptState(P,N.useContext));let Y=this.getExistingTargetState(P,L);if(Y==null){we.dfa_debug&&L>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(L));let I;if(we.dfa_debug){let U=y.Interval.of(T,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(U)+" at DFA state "+P.stateNumber)}let F=new ie.SimulatorState(R,P,N.useContext,z);return I=this.execATN(E,A,T,F),we.dfa_debug&&console.log("back from DFA update, alt="+I+`, dfa=
`+E.toString(this._parser.vocabulary,this._parser.ruleNames)),we.dfa_debug&&console.log("DFA decision "+E.decision+" predicts "+I),I}else if(Y===u.ATNSimulator.ERROR){let I=new ie.SimulatorState(R,P,N.useContext,z);return this.handleNoViableAlt(A,T,I)}P=Y,!this.isAcceptState(P,N.useContext)&&L!==g.IntStream.EOF&&(A.consume(),L=A.LA(1))}if(!N.useContext&&P.configs.conflictInfo!=null&&E.atnStartState instanceof p.DecisionState&&!(!this.userWantsCtxSensitive||!P.configs.dipsIntoOuterContext&&P.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&A.index===T)){me(!N.useContext);let Y,I=P.predicates;if(I!=null){let F=A.index;if(F!==T&&A.seek(T),Y=this.evalSemanticContext(I,R,!0),Y.cardinality()===1)return Y.nextSetBit(0);F!==T&&A.seek(F)}if(this.reportAmbiguities){let F=new ie.SimulatorState(R,P,N.useContext,z);this.reportAttemptingFullContext(E,Y,F,T,A.index)}return A.seek(T),this.adaptivePredict(A,E.decision,R,!0)}let W=P.predicates;if(W!=null){let Y=A.index;T!==Y&&A.seek(T);let I=this.evalSemanticContext(W,R,this.reportAmbiguities&&this.predictionMode===M.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(I.cardinality()){case 0:throw this.noViableAlt(A,R,P.configs,T);case 1:return I.nextSetBit(0);default:return T!==Y&&A.seek(Y),this.reportAmbiguity(E,P,T,Y,P.configs.isExactConflict,I,P.configs),I.nextSetBit(0)}}return we.dfa_debug&&console.log("DFA decision "+E.decision+" predicts "+P.prediction),P.prediction}isAcceptState(E,A){return E.isAcceptState?E.configs.conflictingAlts==null?!0:A&&this.predictionMode===M.PredictionMode.LL_EXACT_AMBIG_DETECTION?E.configs.isExactConflict:!0:!1}execATN(E,A,T,N){we.debug&&console.log("execATN decision "+E.decision+" exec LA(1)=="+this.getLookaheadName(A));let R=N.outerContext,P=N.useContext,L=A.LA(1),z=N,W=new D.PredictionContextCache;for(;;){let Y=this.computeReachSet(E,z,L,W);if(Y==null)return this.setDFAEdge(z.s0,A.LA(1),u.ATNSimulator.ERROR),this.handleNoViableAlt(A,T,z);let I=Y.s0;if(me(I.isAcceptState||I.prediction===s.ATN.INVALID_ALT_NUMBER),me(I.isAcceptState||I.configs.conflictInfo==null),this.isAcceptState(I,P)){let F=I.configs.conflictingAlts,U=F==null?I.prediction:s.ATN.INVALID_ALT_NUMBER;if(U!==s.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&A.index===T&&!E.isPrecedenceDfa&&Y.outerContext===Y.remainingOuterContext&&E.decision>=0&&!I.configs.hasSemanticContext&&L>=0&&L<=ee){let ne=(E.decision<<16>>>0)+L;this.atn.LL1Table.set(ne,U)}P&&this.always_try_local_context&&this.reportContextSensitivity(E,U,Y,T,A.index)}U=I.prediction;let Q=F!=null&&this.userWantsCtxSensitive;if(Q&&(Q=!P&&(I.configs.dipsIntoOuterContext||!I.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||A.index!==T)),I.configs.hasSemanticContext){let ne=I.predicates;if(ne!=null){let oe=A.index;switch(oe!==T&&A.seek(T),F=this.evalSemanticContext(ne,R,Q||this.reportAmbiguities),F.cardinality()){case 0:throw this.noViableAlt(A,R,I.configs,T);case 1:return F.nextSetBit(0)}oe!==T&&A.seek(oe)}}if(Q){me(!P),me(this.isAcceptState(I,!1)),we.debug&&console.log("RETRY with outerContext="+R);let ne=this.computeStartState(E,R,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(E,F,Y,T,A.index),A.seek(T),this.execATN(E,A,T,ne)}else return F!=null&&(this.reportAmbiguities&&F.cardinality()>1&&this.reportAmbiguity(E,I,T,A.index,I.configs.isExactConflict,F,I.configs),U=F.nextSetBit(0)),U}z=Y,L!==g.IntStream.EOF&&(A.consume(),L=A.LA(1))}}handleNoViableAlt(E,A,T){if(T.s0!=null){let N=new f.BitSet,R=0;for(let P of T.s0.configs)(P.reachesIntoOuterContext||P.state instanceof j.RuleStopState)&&(N.set(P.alt),R=Math.max(R,P.alt));switch(N.cardinality()){case 0:break;case 1:return N.nextSetBit(0);default:if(!T.s0.configs.hasSemanticContext)return N.nextSetBit(0);let P=new a.ATNConfigSet;for(let z of T.s0.configs)(z.reachesIntoOuterContext||z.state instanceof j.RuleStopState)&&P.add(z);let L=this.getPredsForAmbigAlts(N,P,R);if(L!=null){let z=this.getPredicatePredictions(N,L);if(z!=null){let W=E.index;try{E.seek(A);let Y=this.evalSemanticContext(z,T.outerContext,!1);if(!Y.isEmpty)return Y.nextSetBit(0)}finally{E.seek(W)}}}return N.nextSetBit(0)}}throw this.noViableAlt(E,T.outerContext,T.s0.configs,A)}computeReachSet(E,A,T,N){let R=A.useContext,P=A.remainingOuterContext,L=A.s0;if(R)for(;L.isContextSymbol(T);){let Y;if(P!=null&&(P=this.skipTailCalls(P),Y=L.getContextTarget(this.getReturnState(P))),Y==null)break;me(P!=null),P=P.parent,L=Y}if(me(!this.isAcceptState(L,R)),this.isAcceptState(L,R))return new ie.SimulatorState(A.outerContext,L,R,P);let z=L,W=this.getExistingTargetState(z,T);if(W==null){let Y=this.computeTargetState(E,z,P,T,R,N);W=Y[0],P=Y[1]}if(W!==u.ATNSimulator.ERROR)return me(!R||!W.configs.dipsIntoOuterContext),new ie.SimulatorState(A.outerContext,W,R,P)}getExistingTargetState(E,A){return E.getTarget(A)}computeTargetState(E,A,T,N,R,P){let L=A.configs.toArray(),z,W=new a.ATNConfigSet,Y;do{let F=!R||T!=null;F||(W.isOutermostConfigSet=!0);let U=new a.ATNConfigSet,Q;for(let H of L){if(we.debug&&console.log("testing "+this.getTokenName(N)+" at "+H.toString()),H.state instanceof j.RuleStopState){me(H.context.isEmpty),(R&&!H.reachesIntoOuterContext||N===g.IntStream.EOF)&&(Q==null&&(Q=[]),Q.push(H));continue}let G=H.state.numberOfOptimizedTransitions;for(let ge=0;ge<G;ge++){let ke=H.state.getOptimizedTransition(ge),He=this.getReachableTarget(H,ke,N);He!=null&&U.add(H.transform(He,!1),P)}}if(this.optimize_unique_closure&&Q==null&&N!==fe.Token.EOF&&U.uniqueAlt!==s.ATN.INVALID_ALT_NUMBER){U.isOutermostConfigSet=W.isOutermostConfigSet,W=U;break}let ne=!1,oe=N===fe.Token.EOF;if(this.closure(U,W,ne,F,P,oe),Y=W.dipsIntoOuterContext,N===g.IntStream.EOF&&(W=this.removeAllConfigsNotInRuleStopState(W,P)),Q!=null&&(!R||!M.PredictionMode.hasConfigInRuleStopState(W))){me(Q.length>0);for(let H of Q)W.add(H,P)}if(R&&Y){W.clear(),T=T,T=this.skipTailCalls(T);let H=this.getReturnState(T);if(z==null&&(z=new m.IntegerList),T.isEmpty?T=void 0:T=T.parent,z.add(H),H!==O.PredictionContext.EMPTY_FULL_STATE_KEY)for(let G=0;G<L.length;G++)L[G]=L[G].appendContext(H,P)}}while(R&&Y);return W.isEmpty?(this.setDFAEdge(A,N,u.ATNSimulator.ERROR),[u.ATNSimulator.ERROR,T]):[this.addDFAEdge(E,A,N,z,W,P),T]}removeAllConfigsNotInRuleStopState(E,A){if(M.PredictionMode.allConfigsInRuleStopStates(E))return E;let T=new a.ATNConfigSet;for(let N of E)N.state instanceof j.RuleStopState&&T.add(N,A);return T}computeStartState(E,A,T){let N=E.isPrecedenceDfa?E.getPrecedenceStartState(this._parser.precedence,T):T?E.s0full:E.s0;if(N!=null){if(!T)return new ie.SimulatorState(A,N,T,A);N.setContextSensitive(this.atn)}E.decision;let R=E.atnStartState,P=0,L=A,z=T?O.PredictionContext.EMPTY_FULL:O.PredictionContext.EMPTY_LOCAL,W=new D.PredictionContextCache;if(T){if(!this.enable_global_context_dfa)for(;L!=null;)L.isEmpty?(P=O.PredictionContext.EMPTY_FULL_STATE_KEY,L=void 0):(P=this.getReturnState(L),z=z.appendSingleContext(P,W),L=L.parent);for(;N!=null&&N.isContextSensitive&&L!=null;){let I;if(L=this.skipTailCalls(L),L.isEmpty?(I=N.getContextTarget(O.PredictionContext.EMPTY_FULL_STATE_KEY),P=O.PredictionContext.EMPTY_FULL_STATE_KEY,L=void 0):(P=this.getReturnState(L),I=N.getContextTarget(P),z=z.appendSingleContext(P,W),L=L.parent),I==null)break;N=I}}if(N!=null&&!N.isContextSensitive)return new ie.SimulatorState(A,N,T,L);let Y=new a.ATNConfigSet;for(;;){let I=new a.ATNConfigSet,F=R.numberOfTransitions;for(let G=0;G<F;G++){let ge=R.transition(G).target;I.add(l.ATNConfig.create(ge,G+1,z))}let U=L!=null;U||(Y.isOutermostConfigSet=!0),this.closure(I,Y,!0,U,W,!1);let ne=Y.dipsIntoOuterContext,oe;if(T&&!this.enable_global_context_dfa){N=this.addDFAState(E,Y,W);break}else N==null?E.isPrecedenceDfa?(Y=this.applyPrecedenceFilter(Y,A,W),oe=this.addDFAState(E,Y,W),E.setPrecedenceStartState(this._parser.precedence,T,oe)):(oe=this.addDFAState(E,Y,W),T?E.s0full?oe=E.s0full:E.s0full=oe:E.s0?oe=E.s0:E.s0=oe):(E.isPrecedenceDfa&&(Y=this.applyPrecedenceFilter(Y,A,W)),oe=this.addDFAState(E,Y,W),N.setContextTarget(P,oe));if(N=oe,!T||!ne)break;oe.setContextSensitive(this.atn),L=L,Y.clear(),L=this.skipTailCalls(L);let H=this.getReturnState(L);L.isEmpty?L=void 0:L=L.parent,H!==O.PredictionContext.EMPTY_FULL_STATE_KEY&&(z=z.appendSingleContext(H,W)),P=H}return new ie.SimulatorState(A,N,T,L)}applyPrecedenceFilter(E,A,T){let N=new Map,R=new a.ATNConfigSet;for(let P of E){if(P.alt!==1)continue;let L=P.semanticContext.evalPrecedence(this._parser,A);L!=null&&(N.set(P.state.stateNumber,P.context),L!==P.semanticContext?R.add(P.transform(P.state,!1,L),T):R.add(P,T))}for(let P of E)if(P.alt!==1){if(!P.isPrecedenceFilterSuppressed){let L=N.get(P.state.stateNumber);if(L!=null&&L.equals(P.context))continue}R.add(P,T)}return R}getReachableTarget(E,A,T){if(A.matches(T,0,this.atn.maxTokenType))return A.target}predicateDFAState(E,A,T){let N=this.getConflictingAltsFromConfigSet(A);if(!N)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");we.debug&&console.log("predicateDFAState "+E);let R=this.getPredsForAmbigAlts(N,A,T),P;return R!=null&&(P=this.getPredicatePredictions(N,R),E.predicates=P),P}getPredsForAmbigAlts(E,A,T){let N=new Array(T+1),R=N.length;for(let z of A)E.get(z.alt)&&(N[z.alt]=V.SemanticContext.or(N[z.alt],z.semanticContext));let P=0;for(let z=0;z<R;z++)N[z]==null?N[z]=V.SemanticContext.NONE:N[z]!==V.SemanticContext.NONE&&P++;let L=N;return P===0&&(L=void 0),we.debug&&console.log("getPredsForAmbigAlts result "+(L?o.Arrays.toString(L):"undefined")),L}getPredicatePredictions(E,A){let T=[],N=!1;for(let R=1;R<A.length;R++){let P=A[R];me(P!=null),E!=null&&E.get(R)&&P===V.SemanticContext.NONE?T.push(new v.DFAState.PredPrediction(P,R)):P!==V.SemanticContext.NONE&&(N=!0,T.push(new v.DFAState.PredPrediction(P,R)))}if(N)return T}evalSemanticContext(E,A,T){let N=new f.BitSet;for(let R of E){if(R.pred===V.SemanticContext.NONE){if(N.set(R.alt),!T)break;continue}let P=this.evalSemanticContextImpl(R.pred,A,R.alt);if((we.debug||we.dfa_debug)&&console.log("eval pred "+R+"="+P),P&&((we.debug||we.dfa_debug)&&console.log("PREDICT "+R.alt),N.set(R.alt),!T))break}return N}evalSemanticContextImpl(E,A,T){return E.eval(this._parser,A)}closure(E,A,T,N,R,P){R==null&&(R=D.PredictionContextCache.UNCACHED);let L=E,z=new i.Array2DHashSet(b.ObjectEqualityComparator.INSTANCE);for(;L.size>0;){let W=new a.ATNConfigSet;for(let Y of L)this.closureImpl(Y,A,W,z,T,N,R,0,P);L=W}}closureImpl(E,A,T,N,R,P,L,z,W){if(we.debug&&console.log("closure("+E.toString(this._parser,!0)+")"),E.state instanceof j.RuleStopState)if(E.context.isEmpty)if(P)we.debug&&console.log("FALLING off rule "+this.getRuleName(E.state.ruleIndex)),E.context===O.PredictionContext.EMPTY_FULL?E=E.transform(E.state,!1,O.PredictionContext.EMPTY_LOCAL):!E.reachesIntoOuterContext&&O.PredictionContext.isEmptyLocal(E.context)&&A.add(E,L);else{A.add(E,L);return}else{let I=E.context.hasEmpty,F=E.context.size-(I?1:0);for(let U=0;U<F;U++){let Q=E.context.getParent(U),ne=this.atn.states[E.context.getReturnState(U)],oe=l.ATNConfig.create(ne,E.alt,Q,E.semanticContext);oe.outerContextDepth=E.outerContextDepth,oe.isPrecedenceFilterSuppressed=E.isPrecedenceFilterSuppressed,me(z>X),this.closureImpl(oe,A,T,N,R,P,L,z-1,W)}if(!I||!P)return;E=E.transform(E.state,!1,O.PredictionContext.EMPTY_LOCAL)}let Y=E.state;Y.onlyHasEpsilonTransitions||(A.add(E,L),we.debug&&console.log("added config "+A));for(let I=0;I<Y.numberOfOptimizedTransitions;I++){if(I===0&&Y.stateType===c.ATNStateType.STAR_LOOP_ENTRY&&Y.precedenceRuleDecision&&!E.context.hasEmpty){let ne=Y,oe=!0;for(let H=0;H<E.context.size;H++)if(!ne.precedenceLoopbackStates.get(E.context.getReturnState(H))){oe=!1;break}if(oe)continue}let F=Y.getOptimizedTransition(I),U=!(F instanceof r.ActionTransition)&&R,Q=this.getEpsilonTarget(E,F,U,z===0,L,W);if(Q!=null){if(F instanceof k.RuleTransition&&T!=null&&!R){T.add(Q,L);continue}let ne=z;if(E.state instanceof j.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&F.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(Q.isPrecedenceFilterSuppressed=!0),Q.outerContextDepth=Q.outerContextDepth+1,!N.add(Q))continue;me(ne>X),ne--,we.debug&&console.log("dips into outer ctx: "+Q)}else if(F instanceof k.RuleTransition)this.optimize_tail_calls&&F.optimizedTailCall&&(!this.tail_call_preserves_sll||!O.PredictionContext.isEmptyLocal(E.context))?(me(Q.context===E.context),ne===0&&(ne--,!this.tail_call_preserves_sll&&O.PredictionContext.isEmptyLocal(E.context)&&(Q.outerContextDepth=Q.outerContextDepth+1))):ne>=0&&ne++;else if(!F.isEpsilon&&!N.add(Q))continue;this.closureImpl(Q,A,T,N,U,P,L,ne,W)}}}getRuleName(E){return this._parser!=null&&E>=0?this._parser.ruleNames[E]:"<rule "+E+">"}getEpsilonTarget(E,A,T,N,R,P){switch(A.serializationType){case 3:return this.ruleTransition(E,A,R);case 10:return this.precedenceTransition(E,A,T,N);case 4:return this.predTransition(E,A,T,N);case 6:return this.actionTransition(E,A);case 1:return E.transform(A.target,!1);case 5:case 2:case 7:return P&&A.matches(fe.Token.EOF,0,1)?E.transform(A.target,!1):void 0;default:return}}actionTransition(E,A){return we.debug&&console.log("ACTION edge "+A.ruleIndex+":"+A.actionIndex),E.transform(A.target,!1)}precedenceTransition(E,A,T,N){we.debug&&(console.log("PRED (collectPredicates="+T+") "+A.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let R;if(T&&N){let P=V.SemanticContext.and(E.semanticContext,A.predicate);R=E.transform(A.target,!1,P)}else R=E.transform(A.target,!1);return we.debug&&console.log("config from pred transition="+R),R}predTransition(E,A,T,N){we.debug&&(console.log("PRED (collectPredicates="+T+") "+A.ruleIndex+":"+A.predIndex+", ctx dependent="+A.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let R;if(T&&(!A.isCtxDependent||A.isCtxDependent&&N)){let P=V.SemanticContext.and(E.semanticContext,A.predicate);R=E.transform(A.target,!1,P)}else R=E.transform(A.target,!1);return we.debug&&console.log("config from pred transition="+R),R}ruleTransition(E,A,T){we.debug&&console.log("CALL rule "+this.getRuleName(A.target.ruleIndex)+", ctx="+E.context);let N=A.followState,R;return this.optimize_tail_calls&&A.optimizedTailCall&&(!this.tail_call_preserves_sll||!O.PredictionContext.isEmptyLocal(E.context))?R=E.context:T!=null?R=T.getChild(E.context,N.stateNumber):R=E.context.getChild(N.stateNumber),E.transform(A.target,!1,R)}isConflicted(E,A){if(E.uniqueAlt!==s.ATN.INVALID_ALT_NUMBER||E.size<=1)return;let T=E.toArray();T.sort(we.STATE_ALT_SORT_COMPARATOR);let N=!E.dipsIntoOuterContext,R=new f.BitSet,P=T[0].alt;R.set(P);let L=T[0].state.nonStopStateNumber;for(let F of T){let U=F.state.nonStopStateNumber;if(U!==L){if(F.alt!==P)return;L=U}}let z;if(N){L=T[0].state.nonStopStateNumber,z=new f.BitSet;let F=P;for(let Q of T){if(Q.state.nonStopStateNumber!==L)break;let ne=Q.alt;z.set(ne),F=ne}L=T[0].state.nonStopStateNumber;let U=P;for(let Q of T){let ne=Q.state.nonStopStateNumber,oe=Q.alt;if(ne!==L){if(U!==F){N=!1;break}L=ne,U=P}else if(oe!==U){if(oe!==z.nextSetBit(U+1)){N=!1;break}U=oe}}}L=T[0].state.nonStopStateNumber;let W=0,Y=0,I=T[0].context;for(let F=1;F<T.length;F++){let U=T[F];if(U.alt!==P||U.state.nonStopStateNumber!==L)break;Y=F,I=A.join(I,T[F].context)}for(let F=Y+1;F<T.length;F++){let U=T[F],Q=U.state;if(R.set(U.alt),Q.nonStopStateNumber!==L){L=Q.nonStopStateNumber,W=F,Y=F,I=U.context;for(let ge=W+1;ge<T.length;ge++){let ke=T[ge];if(ke.alt!==P||ke.state.nonStopStateNumber!==L)break;Y=ge,I=A.join(I,ke.context)}F=Y;continue}let ne=U.context,oe=U.alt,H=F;for(let ge=H+1;ge<T.length;ge++){let ke=T[ge];if(ke.alt!==oe||ke.state.nonStopStateNumber!==L)break;H=ge,ne=A.join(ne,ke.context)}F=H;let G=A.join(I,ne);if(!I.equals(G))return;N=N&&I.equals(ne)}return new d.ConflictInfo(R,N)}getConflictingAltsFromConfigSet(E){let A=E.conflictingAlts;return A==null&&E.uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(A=new f.BitSet,A.set(E.uniqueAlt)),A}getTokenName(E){if(E===fe.Token.EOF)return"EOF";let T=(this._parser!=null?this._parser.vocabulary:Ee.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(E);return T===String(E)?T:T+"<"+E+">"}getLookaheadName(E){return this.getTokenName(E.LA(1))}dumpDeadEndConfigs(E){console.log("dead end configs: ");let A=E.deadEndConfigs;if(A)for(let T of A){let N="no edges";if(T.state.numberOfOptimizedTransitions>0){let R=T.state.getOptimizedTransition(0);R instanceof h.AtomTransition?N="Atom "+this.getTokenName(R._label):R instanceof se.SetTransition&&(N=(R instanceof S.NotSetTransition?"~":"")+"Set "+R.set.toString())}console.log(T.toString(this._parser,!0)+":"+N)}}noViableAlt(E,A,T,N){return new _.NoViableAltException(this._parser,E,E.get(N),E.LT(1),T,A)}getUniqueAlt(E){let A=s.ATN.INVALID_ALT_NUMBER;for(let T of E)if(A===s.ATN.INVALID_ALT_NUMBER)A=T.alt;else if(T.alt!==A)return s.ATN.INVALID_ALT_NUMBER;return A}configWithAltAtStopState(E,A){for(let T of E)if(T.alt===A&&T.state instanceof j.RuleStopState)return!0;return!1}addDFAEdge(E,A,T,N,R,P){me(N==null||N.isEmpty||E.isContextSensitive);let L=A,z=this.addDFAState(E,R,P);if(N!=null)for(let W of N.toArray()){if(W===O.PredictionContext.EMPTY_FULL_STATE_KEY&&L.configs.isOutermostConfigSet)continue;L.setContextSensitive(this.atn),L.setContextSymbol(T);let Y=L.getContextTarget(W);if(Y!=null){L=Y;continue}Y=this.addDFAContextState(E,L.configs,W,P),me(W!==O.PredictionContext.EMPTY_FULL_STATE_KEY||Y.configs.isOutermostConfigSet),L.setContextTarget(W,Y),L=Y}return we.debug&&console.log("EDGE "+L+" -> "+z+" upon "+this.getTokenName(T)),this.setDFAEdge(L,T,z),we.debug&&console.log(`DFA=
`+E.toString(this._parser!=null?this._parser.vocabulary:Ee.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),z}setDFAEdge(E,A,T){E!=null&&E.setTarget(A,T)}addDFAContextState(E,A,T,N){if(T!==O.PredictionContext.EMPTY_FULL_STATE_KEY){let R=new a.ATNConfigSet;for(let P of A)R.add(P.appendContext(T,N));return this.addDFAState(E,R,N)}else return me(!A.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),A=A.clone(!0),A.isOutermostConfigSet=!0,this.addDFAState(E,A,N)}addDFAState(E,A,T){let N=this.enable_global_context_dfa||!A.isOutermostConfigSet;if(N){A.isReadOnly||A.optimizeConfigs(this);let W=this.createDFAState(E,A),Y=E.states.get(W);if(Y!=null)return Y}A.isReadOnly||A.conflictInfo==null&&(A.conflictInfo=this.isConflicted(A,T));let R=this.createDFAState(E,A.clone(!0)),P=this.atn.getDecisionState(E.decision),L=this.getUniqueAlt(A);if(L!==s.ATN.INVALID_ALT_NUMBER)R.acceptStateInfo=new t.AcceptStateInfo(L);else if(A.conflictingAlts!=null){let W=A.conflictingAlts;W&&(R.acceptStateInfo=new t.AcceptStateInfo(W.nextSetBit(0)))}if(R.isAcceptState&&A.hasSemanticContext&&this.predicateDFAState(R,A,P.numberOfTransitions),!N)return R;let z=E.addState(R);return we.debug&&z===R&&console.log("adding new DFA state: "+R),z}createDFAState(E,A){return new v.DFAState(A)}reportAttemptingFullContext(E,A,T,N,R){if(we.debug||we.retry_debug){let P=y.Interval.of(N,R);console.log("reportAttemptingFullContext decision="+E.decision+":"+T.s0.configs+", input="+this._parser.inputStream.getText(P))}if(this._parser!=null){let P=this._parser.getErrorListenerDispatch();P.reportAttemptingFullContext&&P.reportAttemptingFullContext(this._parser,E,N,R,A,T)}}reportContextSensitivity(E,A,T,N,R){if(we.debug||we.retry_debug){let P=y.Interval.of(N,R);console.log("reportContextSensitivity decision="+E.decision+":"+T.s0.configs+", input="+this._parser.inputStream.getText(P))}if(this._parser!=null){let P=this._parser.getErrorListenerDispatch();P.reportContextSensitivity&&P.reportContextSensitivity(this._parser,E,N,R,A,T)}}reportAmbiguity(E,A,T,N,R,P,L){if(we.debug||we.retry_debug){let z=y.Interval.of(T,N);console.log("reportAmbiguity "+P+":"+L+", input="+this._parser.inputStream.getText(z))}if(this._parser!=null){let z=this._parser.getErrorListenerDispatch();z.reportAmbiguity&&z.reportAmbiguity(this._parser,E,T,N,R,P,L)}}getReturnState(E){return E.isEmpty?O.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[E.invokingState].transition(0).followState.stateNumber}skipTailCalls(E){if(!this.optimize_tail_calls)return E;for(;!E.isEmpty;){let A=this.atn.states[E.invokingState];if(me(A.numberOfTransitions===1&&A.transition(0).serializationType===3),!A.transition(0).tailCall)break;E=E.parent}return E}get parser(){return this._parser}};return Z.debug=!1,Z.dfa_debug=!1,Z.retry_debug=!1,Z.STATE_ALT_SORT_COMPARATOR=(le,E)=>{let A=le.state.nonStopStateNumber-E.state.nonStopStateNumber;return A!==0||(A=le.alt-E.alt,A!==0)?A:0},n([x.NotNull],Z.prototype,"predictionMode",void 0),n([x.NotNull],Z.prototype,"getPredictionMode",null),n([e(0,x.NotNull)],Z.prototype,"setPredictionMode",null),n([x.Override],Z.prototype,"reset",null),n([e(0,x.NotNull)],Z.prototype,"adaptivePredict",null),n([e(0,x.NotNull),e(1,x.NotNull),e(2,x.NotNull)],Z.prototype,"getStartState",null),n([e(0,x.NotNull),e(1,x.NotNull),e(3,x.NotNull)],Z.prototype,"execDFA",null),n([e(0,x.NotNull),e(1,x.NotNull),e(3,x.NotNull)],Z.prototype,"execATN",null),n([e(0,x.NotNull),e(2,x.NotNull)],Z.prototype,"handleNoViableAlt",null),n([e(0,x.NotNull)],Z.prototype,"getExistingTargetState",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"computeTargetState",null),n([x.NotNull,e(0,x.NotNull)],Z.prototype,"removeAllConfigsNotInRuleStopState",null),n([x.NotNull],Z.prototype,"computeStartState",null),n([x.NotNull,e(0,x.NotNull)],Z.prototype,"applyPrecedenceFilter",null),n([e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"getReachableTarget",null),n([e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"getPredsForAmbigAlts",null),n([e(0,x.NotNull)],Z.prototype,"evalSemanticContext",null),n([e(0,x.NotNull)],Z.prototype,"evalSemanticContextImpl",null),n([e(1,x.NotNull),e(4,x.Nullable)],Z.prototype,"closure",null),n([e(0,x.NotNull),e(1,x.NotNull),e(2,x.Nullable),e(3,x.NotNull),e(6,x.NotNull)],Z.prototype,"closureImpl",null),n([x.NotNull],Z.prototype,"getRuleName",null),n([e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"getEpsilonTarget",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"actionTransition",null),n([x.Nullable,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"precedenceTransition",null),n([x.Nullable,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"predTransition",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull),e(2,x.Nullable)],Z.prototype,"ruleTransition",null),n([e(0,x.NotNull)],Z.prototype,"isConflicted",null),n([x.NotNull],Z.prototype,"getTokenName",null),n([e(0,x.NotNull)],Z.prototype,"dumpDeadEndConfigs",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull),e(2,x.NotNull)],Z.prototype,"noViableAlt",null),n([e(0,x.NotNull)],Z.prototype,"getUniqueAlt",null),n([e(0,x.NotNull)],Z.prototype,"configWithAltAtStopState",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull),e(4,x.NotNull)],Z.prototype,"addDFAEdge",null),n([e(0,x.Nullable),e(2,x.Nullable)],Z.prototype,"setDFAEdge",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"addDFAContextState",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"addDFAState",null),n([x.NotNull,e(0,x.NotNull),e(1,x.NotNull)],Z.prototype,"createDFAState",null),n([e(0,x.NotNull),e(2,x.NotNull)],Z.prototype,"reportAttemptingFullContext",null),n([e(0,x.NotNull),e(2,x.NotNull)],Z.prototype,"reportContextSensitivity",null),n([e(0,x.NotNull),e(5,x.NotNull),e(6,x.NotNull)],Z.prototype,"reportAmbiguity",null),Z=n([e(0,x.NotNull)],Z),vs.ParserATNSimulator=Z,vs}var Mc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var dD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.PlusBlockStartState=void 0;const pD=mt,mD=qi,gD=J;class RS extends mD.BlockStartState{get stateType(){return pD.ATNStateType.PLUS_BLOCK_START}}dD([gD.Override],RS.prototype,"stateType",null);Mc.PlusBlockStartState=RS;var Bc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var xD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.PlusLoopbackState=void 0;const yD=mt,vD=Xr,SD=J;class LS extends vD.DecisionState{get stateType(){return yD.ATNStateType.PLUS_LOOP_BACK}}xD([SD.Override],LS.prototype,"stateType",null);Bc.PlusLoopbackState=LS;var jc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ca=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(jc,"__esModule",{value:!0});jc.PrecedencePredicateTransition=void 0;const AD=Io,ha=J,_D=ki;let Ni=class extends AD.AbstractPredicateTransition{constructor(e,t){super(e),this.precedence=t}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,t,r){return!1}get predicate(){return new _D.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};ca([ha.Override],Ni.prototype,"serializationType",null);ca([ha.Override],Ni.prototype,"isEpsilon",null);ca([ha.Override],Ni.prototype,"matches",null);ca([ha.Override],Ni.prototype,"toString",null);Ni=ca([bD(0,ha.NotNull)],Ni);jc.PrecedencePredicateTransition=Ni;var $c={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var fa=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty($c,"__esModule",{value:!0});$c.RangeTransition=void 0;const ED=zi(),Di=J,CD=Ar;let Pi=class extends CD.Transition{constructor(e,t,r){super(e),this.from=t,this.to=r}get serializationType(){return 2}get label(){return ED.IntervalSet.of(this.from,this.to)}matches(e,t,r){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};fa([Di.Override],Pi.prototype,"serializationType",null);fa([Di.Override,Di.NotNull],Pi.prototype,"label",null);fa([Di.Override],Pi.prototype,"matches",null);fa([Di.Override,Di.NotNull],Pi.prototype,"toString",null);Pi=fa([TD(0,Di.NotNull)],Pi);$c.RangeTransition=Pi;var Hc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var wD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.RuleStartState=void 0;const OD=Kr,ND=mt,DD=J;class kS extends OD.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return ND.ATNStateType.RULE_START}}wD([DD.Override],kS.prototype,"stateType",null);Hc.RuleStartState=kS;var zc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var PD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(zc,"__esModule",{value:!0});zc.StarBlockStartState=void 0;const RD=mt,LD=qi,kD=J;class IS extends LD.BlockStartState{get stateType(){return RD.ATNStateType.STAR_BLOCK_START}}PD([kD.Override],IS.prototype,"stateType",null);zc.StarBlockStartState=IS;var qc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ID=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(qc,"__esModule",{value:!0});qc.StarLoopbackState=void 0;const FD=Kr,MD=mt,BD=J;class FS extends FD.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return MD.ATNStateType.STAR_LOOP_BACK}}ID([BD.Override],FS.prototype,"stateType",null);qc.StarLoopbackState=FS;var Uc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var jD=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.TokensStartState=void 0;const $D=mt,HD=Xr,zD=J;class MS extends HD.DecisionState{get stateType(){return $D.ATNStateType.TOKEN_START}}jD([zD.Override],MS.prototype,"stateType",null);Uc.TokensStartState=MS;var Vc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Vc,"__esModule",{value:!0});Vc.UUID=void 0;const qD=Je;class Ku{constructor(e,t,r,i){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=t,this.data[2]=r,this.data[3]=i}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let t=e.split("-"),r=parseInt(t[0],16),i=(parseInt(t[1],16)<<16>>>0)+parseInt(t[2],16),o=(parseInt(t[3],16)<<16>>>0)+parseInt(t[4].substr(0,4),16),s=parseInt(t[4].substr(-8),16);return new Ku(r,i,o,s)}hashCode(){return qD.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof Ku?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}Vc.UUID=Ku;var kg;function kp(){if(kg)return xs;kg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(Y,I,F,U){var Q=arguments.length,ne=Q<3?I:U===null?U=Object.getOwnPropertyDescriptor(I,F):U,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(Y,I,F,U);else for(var H=Y.length-1;H>=0;H--)(oe=Y[H])&&(ne=(Q<3?oe(ne):Q>3?oe(I,F,ne):oe(I,F))||ne);return Q>3&&ne&&Object.defineProperty(I,F,ne),ne},e=w&&w.__param||function(Y,I){return function(F,U){I(F,U,Y)}};Object.defineProperty(xs,"__esModule",{value:!0}),xs.ATNDeserializer=void 0;const t=ea,r=_r,i=xn(),o=Zl,s=mt,l=na,a=Oc,u=Yl,c=Er,h=Nc,f=qi,d=Xr,p=fS(),v=Dc,m=zi(),y=Xl,g=Pc,x=Rc,S=Lc,_=bS,b=AS,C=kc,O=_S,D=Ic,M=la,j=J,k=Np(),V=ua(),se=Mc,ie=Bc,fe=jc,Ee=ql,me=$c,ee=Hc,X=Xn,Z=jo,le=Op(),E=zc,A=qc,T=Bo,N=ze,R=Uc,P=Vc,L=Ql;var z;(function(Y){Y[Y.UNICODE_BMP=0]="UNICODE_BMP",Y[Y.UNICODE_SMP=1]="UNICODE_SMP"})(z||(z={}));let W=class xe{constructor(I){I===void 0&&(I=o.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=I}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(I,F){let U=xe.SUPPORTED_UUIDS.findIndex(Q=>Q.equals(I));return U<0?!1:xe.SUPPORTED_UUIDS.findIndex(Q=>Q.equals(F))>=U}static getUnicodeDeserializer(I){return I===0?{readUnicode:(F,U)=>xe.toInt(F[U]),size:1}:{readUnicode:(F,U)=>xe.toInt32(F,U),size:2}}deserialize(I){I=I.slice(0);for(let K=1;K<I.length;K++)I[K]=I[K]-2&65535;let F=0,U=xe.toInt(I[F++]);if(U!==xe.SERIALIZED_VERSION){let K=`Could not deserialize ATN with version ${U} (expected ${xe.SERIALIZED_VERSION}).`;throw new Error(K)}let Q=xe.toUUID(I,F);if(F+=8,xe.SUPPORTED_UUIDS.findIndex(K=>K.equals(Q))<0){let K=`Could not deserialize ATN with UUID ${Q} (expected ${xe.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(K)}let ne=xe.isFeatureSupported(xe.ADDED_LEXER_ACTIONS,Q),oe=xe.toInt(I[F++]),H=xe.toInt(I[F++]),G=new i.ATN(oe,H),ge=[],ke=[],He=xe.toInt(I[F++]);for(let K=0;K<He;K++){let be=xe.toInt(I[F++]);if(be===s.ATNStateType.INVALID_TYPE){G.addState(new y.InvalidState);continue}let _e=xe.toInt(I[F++]);_e===65535&&(_e=-1);let Ce=this.stateFactory(be,_e);if(be===s.ATNStateType.LOOP_END){let $e=xe.toInt(I[F++]);ge.push([Ce,$e])}else if(Ce instanceof f.BlockStartState){let $e=xe.toInt(I[F++]);ke.push([Ce,$e])}G.addState(Ce)}for(let K of ge)K[0].loopBackState=G.states[K[1]];for(let K of ke)K[0].endState=G.states[K[1]];let B=xe.toInt(I[F++]);for(let K=0;K<B;K++){let be=xe.toInt(I[F++]);G.states[be].nonGreedy=!0}let q=xe.toInt(I[F++]);for(let K=0;K<q;K++){let be=xe.toInt(I[F++]);G.states[be].sll=!0}let ae=xe.toInt(I[F++]);for(let K=0;K<ae;K++){let be=xe.toInt(I[F++]);G.states[be].isPrecedenceRule=!0}let ye=xe.toInt(I[F++]);G.grammarType===0&&(G.ruleToTokenType=new Int32Array(ye)),G.ruleToStartState=new Array(ye);for(let K=0;K<ye;K++){let be=xe.toInt(I[F++]),_e=G.states[be];if(_e.leftFactored=xe.toInt(I[F++])!==0,G.ruleToStartState[K]=_e,G.grammarType===0){let Ce=xe.toInt(I[F++]);Ce===65535&&(Ce=N.Token.EOF),G.ruleToTokenType[K]=Ce,xe.isFeatureSupported(xe.ADDED_LEXER_ACTIONS,Q)||xe.toInt(I[F++])}}G.ruleToStopState=new Array(ye);for(let K of G.states)K instanceof X.RuleStopState&&(G.ruleToStopState[K.ruleIndex]=K,G.ruleToStartState[K.ruleIndex].stopState=K);let ve=xe.toInt(I[F++]);for(let K=0;K<ve;K++){let be=xe.toInt(I[F++]);G.modeToStartState.push(G.states[be])}G.modeToDFA=new Array(ve);for(let K=0;K<ve;K++)G.modeToDFA[K]=new p.DFA(G.modeToStartState[K]);let Ne=[];F=this.deserializeSets(I,F,Ne,xe.getUnicodeDeserializer(0)),xe.isFeatureSupported(xe.ADDED_UNICODE_SMP,Q)&&(F=this.deserializeSets(I,F,Ne,xe.getUnicodeDeserializer(1)));let Te=xe.toInt(I[F++]);for(let K=0;K<Te;K++){let be=xe.toInt(I[F]),_e=xe.toInt(I[F+1]),Ce=xe.toInt(I[F+2]),$e=xe.toInt(I[F+3]),zt=xe.toInt(I[F+4]),gt=xe.toInt(I[F+5]),or=this.edgeFactory(G,Ce,be,_e,$e,zt,gt,Ne);G.states[be].addTransition(or),F+=6}let Ie=new r.Array2DHashSet({hashCode:K=>K.stopState^K.returnState^K.outermostPrecedenceReturn,equals:(K,be)=>K.stopState===be.stopState&&K.returnState===be.returnState&&K.outermostPrecedenceReturn===be.outermostPrecedenceReturn}),Fe=[];for(let K of G.states){let be=K.ruleIndex>=0&&G.ruleToStartState[K.ruleIndex].leftFactored;for(let _e=0;_e<K.numberOfTransitions;_e++){let Ce=K.transition(_e);if(!(Ce instanceof Z.RuleTransition))continue;let $e=Ce;if(!G.ruleToStartState[$e.target.ruleIndex].leftFactored&&be)continue;let gt=-1;G.ruleToStartState[$e.target.ruleIndex].isPrecedenceRule&&$e.precedence===0&&(gt=$e.target.ruleIndex);let or={stopState:$e.target.ruleIndex,returnState:$e.followState.stateNumber,outermostPrecedenceReturn:gt};Ie.add(or)&&Fe.push(or)}}for(let K of Fe){let be=new v.EpsilonTransition(G.states[K.returnState],K.outermostPrecedenceReturn);G.ruleToStopState[K.stopState].addTransition(be)}for(let K of G.states){if(K instanceof f.BlockStartState){if(K.endState===void 0)throw new Error("IllegalStateException");if(K.endState.startState!==void 0)throw new Error("IllegalStateException");K.endState.startState=K}if(K instanceof ie.PlusLoopbackState){let be=K;for(let _e=0;_e<be.numberOfTransitions;_e++){let Ce=be.transition(_e).target;Ce instanceof se.PlusBlockStartState&&(Ce.loopBackState=be)}}else if(K instanceof A.StarLoopbackState){let be=K;for(let _e=0;_e<be.numberOfTransitions;_e++){let Ce=be.transition(_e).target;Ce instanceof T.StarLoopEntryState&&(Ce.loopBackState=be)}}}let Ze=xe.toInt(I[F++]);for(let K=1;K<=Ze;K++){let be=xe.toInt(I[F++]),_e=G.states[be];G.decisionToState.push(_e),_e.decision=K-1}if(G.grammarType===0)if(ne){G.lexerActions=new Array(xe.toInt(I[F++]));for(let K=0;K<G.lexerActions.length;K++){let be=xe.toInt(I[F++]),_e=xe.toInt(I[F++]);_e===65535&&(_e=-1);let Ce=xe.toInt(I[F++]);Ce===65535&&(Ce=-1);let $e=this.lexerActionFactory(be,_e,Ce);G.lexerActions[K]=$e}}else{let K=[];for(let be of G.states)for(let _e=0;_e<be.numberOfTransitions;_e++){let Ce=be.transition(_e);if(!(Ce instanceof t.ActionTransition))continue;let $e=Ce.ruleIndex,zt=Ce.actionIndex,gt=new x.LexerCustomAction($e,zt);be.setTransition(_e,new t.ActionTransition(Ce.target,$e,K.length,!1)),K.push(gt)}G.lexerActions=K}this.markPrecedenceDecisions(G),G.decisionToDFA=new Array(Ze);for(let K=0;K<Ze;K++)G.decisionToDFA[K]=new p.DFA(G.decisionToState[K],K);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(G),this.deserializationOptions.isGenerateRuleBypassTransitions&&G.grammarType===1){G.ruleToTokenType=new Int32Array(G.ruleToStartState.length);for(let K=0;K<G.ruleToStartState.length;K++)G.ruleToTokenType[K]=G.maxTokenType+K+1;for(let K=0;K<G.ruleToStartState.length;K++){let be=new a.BasicBlockStartState;be.ruleIndex=K,G.addState(be);let _e=new h.BlockEndState;_e.ruleIndex=K,G.addState(_e),be.endState=_e,G.defineDecisionState(be),_e.startState=be;let Ce,$e;if(G.ruleToStartState[K].isPrecedenceRule){Ce=void 0;for(let gt of G.states){if(gt.ruleIndex!==K||!(gt instanceof T.StarLoopEntryState))continue;let or=gt.transition(gt.numberOfTransitions-1).target;if(or instanceof M.LoopEndState&&or.epsilonOnlyTransitions&&or.transition(0).target instanceof X.RuleStopState){Ce=gt;break}}if(!Ce)throw new Error("Couldn't identify final state of the precedence rule prefix section.");$e=Ce.loopBackState.transition(0)}else Ce=G.ruleToStopState[K];for(let gt of G.states)for(let or=0;or<gt.numberOfTransitions;or++){let Sa=gt.transition(or);Sa!==$e&&Sa.target===Ce&&(Sa.target=_e)}for(;G.ruleToStartState[K].numberOfTransitions>0;){let gt=G.ruleToStartState[K].removeTransition(G.ruleToStartState[K].numberOfTransitions-1);be.addTransition(gt)}G.ruleToStartState[K].addTransition(new v.EpsilonTransition(be)),_e.addTransition(new v.EpsilonTransition(Ce));let zt=new u.BasicState;G.addState(zt),zt.addTransition(new l.AtomTransition(_e,G.ruleToTokenType[K])),be.addTransition(new v.EpsilonTransition(zt))}this.deserializationOptions.isVerifyATN&&this.verifyATN(G)}if(this.deserializationOptions.isOptimize){for(;;){let K=0;K+=xe.inlineSetRules(G),K+=xe.combineChainedEpsilons(G);let be=G.grammarType===0;if(K+=xe.optimizeSets(G,be),K===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(G)}return xe.identifyTailCalls(G),G}deserializeSets(I,F,U,Q){let ne=xe.toInt(I[F++]);for(let oe=0;oe<ne;oe++){let H=xe.toInt(I[F]);F++;let G=new m.IntervalSet;U.push(G),xe.toInt(I[F++])!==0&&G.add(-1);for(let ke=0;ke<H;ke++){let He=Q.readUnicode(I,F);F+=Q.size;let B=Q.readUnicode(I,F);F+=Q.size,G.add(He,B)}}return F}markPrecedenceDecisions(I){let F=new Map;for(let U of I.states)if(U instanceof T.StarLoopEntryState&&I.ruleToStartState[U.ruleIndex].isPrecedenceRule){let Q=U.transition(U.numberOfTransitions-1).target;Q instanceof M.LoopEndState&&Q.epsilonOnlyTransitions&&Q.transition(0).target instanceof X.RuleStopState&&(F.set(U.ruleIndex,U),U.precedenceRuleDecision=!0,U.precedenceLoopbackStates=new c.BitSet(I.states.length))}for(let U of F)for(let Q of I.ruleToStopState[U[0]].getTransitions())Q.serializationType!==1||Q.outermostPrecedenceReturn!==-1||U[1].precedenceLoopbackStates.set(Q.target.stateNumber)}verifyATN(I){for(let F of I.states)if(this.checkCondition(F!==void 0,"ATN states should not be undefined."),F.stateType!==s.ATNStateType.INVALID_TYPE){if(this.checkCondition(F.onlyHasEpsilonTransitions||F.numberOfTransitions<=1),F instanceof se.PlusBlockStartState&&this.checkCondition(F.loopBackState!==void 0),F instanceof T.StarLoopEntryState){let U=F;if(this.checkCondition(U.loopBackState!==void 0),this.checkCondition(U.numberOfTransitions===2),U.transition(0).target instanceof E.StarBlockStartState)this.checkCondition(U.transition(1).target instanceof M.LoopEndState),this.checkCondition(!U.nonGreedy);else if(U.transition(0).target instanceof M.LoopEndState)this.checkCondition(U.transition(1).target instanceof E.StarBlockStartState),this.checkCondition(U.nonGreedy);else throw new Error("IllegalStateException")}if(F instanceof A.StarLoopbackState&&(this.checkCondition(F.numberOfTransitions===1),this.checkCondition(F.transition(0).target instanceof T.StarLoopEntryState)),F instanceof M.LoopEndState&&this.checkCondition(F.loopBackState!==void 0),F instanceof ee.RuleStartState&&this.checkCondition(F.stopState!==void 0),F instanceof f.BlockStartState&&this.checkCondition(F.endState!==void 0),F instanceof h.BlockEndState&&this.checkCondition(F.startState!==void 0),F instanceof d.DecisionState){let U=F;this.checkCondition(U.numberOfTransitions<=1||U.decision>=0)}else this.checkCondition(F.numberOfTransitions<=1||F instanceof X.RuleStopState)}}checkCondition(I,F){if(!I)throw new Error("IllegalStateException: "+F)}static inlineSetRules(I){let F=0,U=new Array(I.ruleToStartState.length);for(let Q=0;Q<I.ruleToStartState.length;Q++){let oe=I.ruleToStartState[Q];for(;oe.onlyHasEpsilonTransitions&&oe.numberOfOptimizedTransitions===1&&oe.getOptimizedTransition(0).serializationType===1;)oe=oe.getOptimizedTransition(0).target;if(oe.numberOfOptimizedTransitions!==1)continue;let H=oe.getOptimizedTransition(0),G=H.target;if(!(H.isEpsilon||!G.onlyHasEpsilonTransitions||G.numberOfOptimizedTransitions!==1||!(G.getOptimizedTransition(0).target instanceof X.RuleStopState)))switch(H.serializationType){case 5:case 2:case 7:U[Q]=H;break;case 8:case 9:continue;default:continue}}for(let Q of I.states){if(Q.ruleIndex<0)continue;let ne;for(let oe=0;oe<Q.numberOfOptimizedTransitions;oe++){let H=Q.getOptimizedTransition(oe);if(!(H instanceof Z.RuleTransition)){ne!==void 0&&ne.push(H);continue}let G=H,ge=U[G.target.ruleIndex];if(ge===void 0){ne!==void 0&&ne.push(H);continue}if(ne===void 0){ne=[];for(let B=0;B<oe;B++)ne.push(Q.getOptimizedTransition(oe))}F++;let ke=G.followState,He=new u.BasicState;switch(He.setRuleIndex(ke.ruleIndex),I.addState(He),ne.push(new v.EpsilonTransition(He)),ge.serializationType){case 5:He.addTransition(new l.AtomTransition(ke,ge._label));break;case 2:He.addTransition(new me.RangeTransition(ke,ge.from,ge.to));break;case 7:He.addTransition(new le.SetTransition(ke,ge.label));break;default:throw new Error("UnsupportedOperationException")}}if(ne!==void 0){if(Q.isOptimized)for(;Q.numberOfOptimizedTransitions>0;)Q.removeOptimizedTransition(Q.numberOfOptimizedTransitions-1);for(let oe of ne)Q.addOptimizedTransition(oe)}}return V.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+F+" rule invocations by inlining sets."),F}static combineChainedEpsilons(I){let F=0;for(let U of I.states){if(!U.onlyHasEpsilonTransitions||U instanceof X.RuleStopState)continue;let Q;e:for(let ne=0;ne<U.numberOfOptimizedTransitions;ne++){let oe=U.getOptimizedTransition(ne),H=oe.target;if(oe.serializationType!==1||oe.outermostPrecedenceReturn!==-1||H.stateType!==s.ATNStateType.BASIC||!H.onlyHasEpsilonTransitions){Q!==void 0&&Q.push(oe);continue e}for(let G=0;G<H.numberOfOptimizedTransitions;G++)if(H.getOptimizedTransition(G).serializationType!==1||H.getOptimizedTransition(G).outermostPrecedenceReturn!==-1){Q!==void 0&&Q.push(oe);continue e}if(F++,Q===void 0){Q=[];for(let G=0;G<ne;G++)Q.push(U.getOptimizedTransition(G))}for(let G=0;G<H.numberOfOptimizedTransitions;G++){let ge=H.getOptimizedTransition(G).target;Q.push(new v.EpsilonTransition(ge))}}if(Q!==void 0){if(U.isOptimized)for(;U.numberOfOptimizedTransitions>0;)U.removeOptimizedTransition(U.numberOfOptimizedTransitions-1);for(let ne of Q)U.addOptimizedTransition(ne)}}return V.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+F+" transitions by combining chained epsilon transitions."),F}static optimizeSets(I,F){if(F)return 0;let U=0,Q=I.decisionToState;for(let ne of Q){let oe=new m.IntervalSet;for(let B=0;B<ne.numberOfOptimizedTransitions;B++){let q=ne.getOptimizedTransition(B);if(!(q instanceof v.EpsilonTransition)||q.target.numberOfOptimizedTransitions!==1)continue;let ae=q.target.getOptimizedTransition(0);ae.target instanceof h.BlockEndState&&(ae instanceof k.NotSetTransition||(ae instanceof l.AtomTransition||ae instanceof me.RangeTransition||ae instanceof le.SetTransition)&&oe.add(B))}if(oe.size<=1)continue;let H=[];for(let B=0;B<ne.numberOfOptimizedTransitions;B++)oe.contains(B)||H.push(ne.getOptimizedTransition(B));let G=ne.getOptimizedTransition(oe.minElement).target.getOptimizedTransition(0).target,ge=new m.IntervalSet;for(let B of oe.intervals)for(let q=B.a;q<=B.b;q++){let ae=ne.getOptimizedTransition(q).target.getOptimizedTransition(0);if(ae instanceof k.NotSetTransition)throw new Error("Not yet implemented.");ge.addAll(ae.label)}let ke;if(ge.intervals.length===1)if(ge.size===1)ke=new l.AtomTransition(G,ge.minElement);else{let B=ge.intervals[0];ke=new me.RangeTransition(G,B.a,B.b)}else ke=new le.SetTransition(G,ge);let He=new u.BasicState;if(He.setRuleIndex(ne.ruleIndex),I.addState(He),He.addTransition(ke),H.push(new v.EpsilonTransition(He)),U+=ne.numberOfOptimizedTransitions-H.length,ne.isOptimized)for(;ne.numberOfOptimizedTransitions>0;)ne.removeOptimizedTransition(ne.numberOfOptimizedTransitions-1);for(let B of H)ne.addOptimizedTransition(B)}return V.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+U+" paths by collapsing sets."),U}static identifyTailCalls(I){for(let F of I.states){for(let U=0;U<F.numberOfTransitions;U++){let Q=F.transition(U);Q instanceof Z.RuleTransition&&(Q.tailCall=this.testTailCall(I,Q,!1),Q.optimizedTailCall=this.testTailCall(I,Q,!0))}if(F.isOptimized)for(let U=0;U<F.numberOfOptimizedTransitions;U++){let Q=F.getOptimizedTransition(U);Q instanceof Z.RuleTransition&&(Q.tailCall=this.testTailCall(I,Q,!1),Q.optimizedTailCall=this.testTailCall(I,Q,!0))}}}static testTailCall(I,F,U){if(!U&&F.tailCall||U&&F.optimizedTailCall)return!0;let Q=new c.BitSet(I.states.length),ne=[];for(ne.push(F.followState);;){let oe=ne.pop();if(!oe)break;if(Q.get(oe.stateNumber)||oe instanceof X.RuleStopState)continue;if(!oe.onlyHasEpsilonTransitions)return!1;let H=U?oe.numberOfOptimizedTransitions:oe.numberOfTransitions;for(let G=0;G<H;G++){let ge=U?oe.getOptimizedTransition(G):oe.transition(G);if(ge.serializationType!==1)return!1;ne.push(ge.target)}}return!0}static toInt(I){return I}static toInt32(I,F){return(I[F]|I[F+1]<<16)>>>0}static toUUID(I,F){let U=xe.toInt32(I,F),Q=xe.toInt32(I,F+2),ne=xe.toInt32(I,F+4),oe=xe.toInt32(I,F+6);return new P.UUID(oe,ne,Q,U)}edgeFactory(I,F,U,Q,ne,oe,H,G){let ge=I.states[Q];switch(F){case 1:return new v.EpsilonTransition(ge);case 2:return H!==0?new me.RangeTransition(ge,N.Token.EOF,oe):new me.RangeTransition(ge,ne,oe);case 3:return new Z.RuleTransition(I.states[ne],oe,H,ge);case 4:return new Ee.PredicateTransition(ge,ne,oe,H!==0);case 10:return new fe.PrecedencePredicateTransition(ge,ne);case 5:return H!==0?new l.AtomTransition(ge,N.Token.EOF):new l.AtomTransition(ge,ne);case 6:return new t.ActionTransition(ge,ne,oe,H!==0);case 7:return new le.SetTransition(ge,G[ne]);case 8:return new k.NotSetTransition(ge,G[ne]);case 9:return new L.WildcardTransition(ge)}throw new Error("The specified transition type is not valid.")}stateFactory(I,F){let U;switch(I){case s.ATNStateType.INVALID_TYPE:return new y.InvalidState;case s.ATNStateType.BASIC:U=new u.BasicState;break;case s.ATNStateType.RULE_START:U=new ee.RuleStartState;break;case s.ATNStateType.BLOCK_START:U=new a.BasicBlockStartState;break;case s.ATNStateType.PLUS_BLOCK_START:U=new se.PlusBlockStartState;break;case s.ATNStateType.STAR_BLOCK_START:U=new E.StarBlockStartState;break;case s.ATNStateType.TOKEN_START:U=new R.TokensStartState;break;case s.ATNStateType.RULE_STOP:U=new X.RuleStopState;break;case s.ATNStateType.BLOCK_END:U=new h.BlockEndState;break;case s.ATNStateType.STAR_LOOP_BACK:U=new A.StarLoopbackState;break;case s.ATNStateType.STAR_LOOP_ENTRY:U=new T.StarLoopEntryState;break;case s.ATNStateType.PLUS_LOOP_BACK:U=new ie.PlusLoopbackState;break;case s.ATNStateType.LOOP_END:U=new M.LoopEndState;break;default:let Q=`The specified state type ${I} is not valid.`;throw new Error(Q)}return U.ruleIndex=F,U}lexerActionFactory(I,F,U){switch(I){case 0:return new g.LexerChannelAction(F);case 1:return new x.LexerCustomAction(F,U);case 2:return new S.LexerModeAction(F);case 3:return _.LexerMoreAction.INSTANCE;case 4:return b.LexerPopModeAction.INSTANCE;case 5:return new C.LexerPushModeAction(F);case 6:return O.LexerSkipAction.INSTANCE;case 7:return new D.LexerTypeAction(F);default:let Q=`The specified lexer action type ${I} is not valid.`;throw new Error(Q)}}};return W.BASE_SERIALIZED_UUID=P.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),W.ADDED_LEXER_ACTIONS=P.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),W.ADDED_UNICODE_SMP=P.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),W.SUPPORTED_UUIDS=[W.BASE_SERIALIZED_UUID,W.ADDED_LEXER_ACTIONS,W.ADDED_UNICODE_SMP],W.SERIALIZED_UUID=W.ADDED_UNICODE_SMP,n([j.NotNull],W.prototype,"deserializationOptions",void 0),n([e(0,j.NotNull)],W.prototype,"deserialize",null),n([e(0,j.NotNull)],W.prototype,"markPrecedenceDecisions",null),n([j.NotNull,e(0,j.NotNull)],W.prototype,"edgeFactory",null),xs.ATNDeserializer=W,xs}var Wc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ip=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},UD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.ParseInfo=void 0;const Fp=J;let kl=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),t=[];for(let r=0;r<e.length;r++)e[r].LL_Fallback>0&&t.push(r);return t}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.timeInPrediction;return t}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_TotalLook;return t}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_TotalLook;return t}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions;return t}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.LL_ATNTransitions;return t}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),t=0;for(let r of e)t+=r.SLL_ATNTransitions,t+=r.LL_ATNTransitions;return t}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let t=0,r=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<r.length;i++)t+=this.getDFASize(i);return t}}};Ip([Fp.NotNull],kl.prototype,"getDecisionInfo",null);Ip([Fp.NotNull],kl.prototype,"getLLDecisions",null);kl=Ip([UD(0,Fp.NotNull)],kl);Wc.ParseInfo=kl;var da={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Mp=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(da,"__esModule",{value:!0});da.ProxyParserErrorListener=void 0;const VD=Mo,Bp=J;class Kc extends VD.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,t,r,i,o,s,l){this.getDelegates().forEach(a=>{a.reportAmbiguity&&a.reportAmbiguity(e,t,r,i,o,s,l)})}reportAttemptingFullContext(e,t,r,i,o,s){this.getDelegates().forEach(l=>{l.reportAttemptingFullContext&&l.reportAttemptingFullContext(e,t,r,i,o,s)})}reportContextSensitivity(e,t,r,i,o,s){this.getDelegates().forEach(l=>{l.reportContextSensitivity&&l.reportContextSensitivity(e,t,r,i,o,s)})}}Mp([Bp.Override],Kc.prototype,"reportAmbiguity",null);Mp([Bp.Override],Kc.prototype,"reportAttemptingFullContext",null);Mp([Bp.Override],Kc.prototype,"reportContextSensitivity",null);da.ProxyParserErrorListener=Kc;var df={},Gc={},jp={},Fn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Fn,"__esModule",{value:!0});Fn.isSupplementaryCodePoint=Fn.isLowSurrogate=Fn.isHighSurrogate=void 0;function WD(n){return n>=55296&&n<=56319}Fn.isHighSurrogate=WD;function KD(n){return n>=56320&&n<=57343}Fn.isLowSurrogate=KD;function GD(n){return n>=65536}Fn.isSupplementaryCodePoint=GD;(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.CodePointBuffer=void 0;const e=jt(),t=Fn;class r{constructor(o,s){this.buffer=o,this._position=0,this._size=s}static withArray(o){return new r(o,o.length)}get position(){return this._position}set position(o){if(o<0||o>this._size)throw new RangeError;this._position=o}get remaining(){return this._size-this.position}get(o){return this.buffer[o]}array(){return this.buffer.slice(0,this._size)}static builder(o){return new r.Builder(o)}}n.CodePointBuffer=r,function(i){let o;(function(l){l[l.BYTE=0]="BYTE",l[l.CHAR=1]="CHAR",l[l.INT=2]="INT"})(o||(o={}));class s{constructor(a){this.type=0,this.buffer=new Uint8Array(a),this.prevHighSurrogate=-1,this.position=0}build(){return new i(this.buffer,this.position)}static roundUpToNextPowerOfTwo(a){let u=32-Math.clz32(a-1);return Math.pow(2,u)}ensureRemaining(a){switch(this.type){case 0:if(this.buffer.length-this.position<a){let u=s.roundUpToNextPowerOfTwo(this.buffer.length+a),c=new Uint8Array(u);c.set(this.buffer.subarray(0,this.position),0),this.buffer=c}break;case 1:if(this.buffer.length-this.position<a){let u=s.roundUpToNextPowerOfTwo(this.buffer.length+a),c=new Uint16Array(u);c.set(this.buffer.subarray(0,this.position),0),this.buffer=c}break;case 2:if(this.buffer.length-this.position<a){let u=s.roundUpToNextPowerOfTwo(this.buffer.length+a),c=new Int32Array(u);c.set(this.buffer.subarray(0,this.position),0),this.buffer=c}break}}append(a){this.ensureRemaining(a.length),this.appendArray(a)}appendArray(a){switch(this.type){case 0:this.appendArrayByte(a);break;case 1:this.appendArrayChar(a);break;case 2:this.appendArrayInt(a);break}}appendArrayByte(a){e(this.prevHighSurrogate===-1);let u=a,c=0,h=a.length,f=this.buffer,d=this.position;for(;c<h;){let p=u[c];if(p<=255)f[d]=p;else if(a=a.subarray(c,h),this.position=d,t.isHighSurrogate(p)){this.byteToIntBuffer(a.length),this.appendArrayInt(a);return}else{this.byteToCharBuffer(a.length),this.appendArrayChar(a);return}c++,d++}this.position=d}appendArrayChar(a){e(this.prevHighSurrogate===-1);let u=a,c=0,h=a.length,f=this.buffer,d=this.position;for(;c<h;){let p=u[c];if(!t.isHighSurrogate(p))f[d]=p;else{a=a.subarray(c,h),this.position=d,this.charToIntBuffer(a.length),this.appendArrayInt(a);return}c++,d++}this.position=d}appendArrayInt(a){let u=a,c=0,h=a.length,f=this.buffer,d=this.position;for(;c<h;){let p=u[c];c++,this.prevHighSurrogate!==-1?t.isLowSurrogate(p)?(f[d]=String.fromCharCode(this.prevHighSurrogate,p).codePointAt(0),d++,this.prevHighSurrogate=-1):(f[d]=this.prevHighSurrogate,d++,t.isHighSurrogate(p)?this.prevHighSurrogate=p:(f[d]=p,d++,this.prevHighSurrogate=-1)):t.isHighSurrogate(p)?this.prevHighSurrogate=p:(f[d]=p,d++)}this.prevHighSurrogate!==-1&&(f[d]=this.prevHighSurrogate,d++),this.position=d}byteToCharBuffer(a){let u=new Uint16Array(Math.max(this.position+a,this.buffer.length>>1));u.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=u}byteToIntBuffer(a){let u=new Int32Array(Math.max(this.position+a,this.buffer.length>>2));u.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=u}charToIntBuffer(a){let u=new Int32Array(Math.max(this.position+a,this.buffer.length>>1));u.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=u}}i.Builder=s}(r=n.CodePointBuffer||(n.CodePointBuffer={}))})(jp);var pa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Zr=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(pa,"__esModule",{value:!0});pa.CodePointCharStream=void 0;const Ig=jt(),Ya=pn,XD=Ct,en=J;class ir{constructor(e,t,r,i){Ig(t===0),this._array=e,this._size=r,this._name=i,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,t){return(t===void 0||t.length===0)&&(t=Ya.IntStream.UNKNOWN_SOURCE_NAME),new ir(e.array(),e.position,e.remaining,t)}consume(){if(this._size-this._position===0)throw Ig(this.LA(1)===Ya.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(XD.Interval.of(0,this.size-1))}LA(e){let t;switch(Math.sign(e)){case-1:return t=this.index+e,t<0?Ya.IntStream.EOF:this._array[t];case 0:return 0;case 1:return t=this.index+e-1,t>=this.size?Ya.IntStream.EOF:this._array[t]}throw new RangeError("Not reached")}getText(e){const t=Math.min(e.a,this.size),r=Math.min(e.b-e.a+1,this.size-t);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(t,t+r))):String.fromCharCode(...Array.from(this._array.subarray(t,t+r)))}}Zr([en.Override],ir.prototype,"consume",null);Zr([en.Override],ir.prototype,"index",null);Zr([en.Override],ir.prototype,"size",null);Zr([en.Override],ir.prototype,"mark",null);Zr([en.Override],ir.prototype,"release",null);Zr([en.Override],ir.prototype,"seek",null);Zr([en.Override],ir.prototype,"sourceName",null);Zr([en.Override],ir.prototype,"toString",null);Zr([en.Override],ir.prototype,"LA",null);Zr([en.Override],ir.prototype,"getText",null);pa.CodePointCharStream=ir;(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.CharStreams=void 0;const e=jp,t=pa,r=pn;(function(i){function o(s,l){(l===void 0||l.length===0)&&(l=r.IntStream.UNKNOWN_SOURCE_NAME);let a=e.CodePointBuffer.builder(s.length),u=new Uint16Array(s.length);for(let c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return a.append(u),t.CodePointCharStream.fromBuffer(a.build(),l)}i.fromString=o})(n.CharStreams||(n.CharStreams={}))})(Gc);var Wo={},ma={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ht=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ma,"__esModule",{value:!0});ma.BufferedTokenStream=void 0;const Fg=jt(),Mg=Wn,pf=Ct,mf=Yn(),pt=J,ei=ze;let Et=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===ei.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){Fg(e>=0);let t=e-this.tokens.length+1;return t>0?this.fetch(t)>=t:!0}fetch(e){if(this.fetchedEOF)return 0;for(let t=0;t<e;t++){let r=this.tokenSource.nextToken();if(this.isWritableToken(r)&&(r.tokenIndex=this.tokens.length),this.tokens.push(r),r.type===ei.Token.EOF)return this.fetchedEOF=!0,t+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,t){if(e<0||t<0)return[];this.lazyInit();let r=new Array;t>=this.tokens.length&&(t=this.tokens.length-1);for(let i=e;i<=t;i++){let o=this.tokens[i];if(o.type===ei.Token.EOF)break;r.push(o)}return r}LA(e){let t=this.LT(e);return t?t.type:ei.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let t=this.tryLT(e);if(t===void 0)throw new RangeError("requested lookback index out of range");return t}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p+e-1;return this.sync(t),t>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[t]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,t,r){if(this.lazyInit(),e===void 0)return Fg(t===void 0&&r===void 0),this.tokens;if(t===void 0&&(t=this.tokens.length-1),e<0||t>=this.tokens.length||t<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+t+" not in 0.."+(this.tokens.length-1));if(e>t)return[];if(r===void 0)return this.tokens.slice(e,t+1);typeof r=="number"&&(r=new Set().add(r));let i=r,o=this.tokens.slice(e,t+1);return o=o.filter(s=>i.has(s.type)),o}nextTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;let r=this.tokens[e];for(;r.channel!==t;){if(r.type===ei.Token.EOF)return e;e++,this.sync(e),r=this.tokens[e]}return e}previousTokenOnChannel(e,t){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let r=this.tokens[e];if(r.type===ei.Token.EOF||r.channel===t)return e;e--}return e}getHiddenTokensToRight(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let r=this.nextTokenOnChannel(e+1,mf.Lexer.DEFAULT_TOKEN_CHANNEL),i,o=e+1;return r===-1?i=this.size-1:i=r,this.filterForChannel(o,i,t)}getHiddenTokensToLeft(e,t=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let r=this.previousTokenOnChannel(e-1,mf.Lexer.DEFAULT_TOKEN_CHANNEL);if(r===e-1)return[];let i=r+1,o=e-1;return this.filterForChannel(i,o,t)}filterForChannel(e,t,r){let i=new Array;for(let o=e;o<=t;o++){let s=this.tokens[o];r===-1?s.channel!==mf.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(s):s.channel===r&&i.push(s)}return i}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=pf.Interval.of(0,this.size-1):e instanceof pf.Interval||(e=e.sourceInterval);let t=e.a,r=e.b;if(t<0||r<0)return"";this.fill(),r>=this.tokens.length&&(r=this.tokens.length-1);let i="";for(let o=t;o<=r;o++){let s=this.tokens[o];if(s.type===ei.Token.EOF)break;i+=s.text}return i.toString()}getTextFromRange(e,t){return this.isToken(e)&&this.isToken(t)?this.getText(pf.Interval.of(e.tokenIndex,t.tokenIndex)):""}fill(){this.lazyInit();const e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof Mg.CommonToken}isToken(e){return e instanceof Mg.CommonToken}};Ht([pt.NotNull],Et.prototype,"_tokenSource",void 0);Ht([pt.Override],Et.prototype,"tokenSource",null);Ht([pt.Override],Et.prototype,"index",null);Ht([pt.Override],Et.prototype,"mark",null);Ht([pt.Override],Et.prototype,"release",null);Ht([pt.Override],Et.prototype,"seek",null);Ht([pt.Override],Et.prototype,"size",null);Ht([pt.Override],Et.prototype,"consume",null);Ht([pt.Override],Et.prototype,"get",null);Ht([pt.Override],Et.prototype,"LA",null);Ht([pt.NotNull,pt.Override],Et.prototype,"LT",null);Ht([pt.Override],Et.prototype,"sourceName",null);Ht([pt.NotNull,pt.Override],Et.prototype,"getText",null);Ht([pt.NotNull,pt.Override],Et.prototype,"getTextFromRange",null);Et=Ht([YD(0,pt.NotNull)],Et);ma.BufferedTokenStream=Et;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Xc=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},JD=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.CommonTokenStream=void 0;const QD=ma,Yc=J,Bg=ze;let No=class extends QD.BufferedTokenStream{constructor(e,t=Bg.Token.DEFAULT_CHANNEL){super(e),this.channel=t}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let t=this.p,r=1;for(;r<=e&&t>0;)t=this.previousTokenOnChannel(t-1,this.channel),r++;if(!(t<0))return this.tokens[t]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let t=this.p,r=1;for(;r<e;)this.sync(t+1)&&(t=this.nextTokenOnChannel(t+1,this.channel)),r++;return this.tokens[t]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let t of this.tokens)if(t.channel===this.channel&&e++,t.type===Bg.Token.EOF)break;return e}};Xc([Yc.Override],No.prototype,"adjustSeekIndex",null);Xc([Yc.Override],No.prototype,"tryLB",null);Xc([Yc.Override],No.prototype,"tryLT",null);No=Xc([JD(0,Yc.NotNull)],No);Wo.CommonTokenStream=No;var ga={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Vi=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},BS=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(ga,"__esModule",{value:!0});ga.ListTokenSource=void 0;const ZD=Sc,sn=J,gf=ze;let hn=class{constructor(e,t){if(this.i=0,this._factory=ZD.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=t}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.text;if(t!=null){let r=t.lastIndexOf(`
`);if(r>=0)return t.length-r-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let t=-1;if(this.tokens.length>0){let i=this.tokens[this.tokens.length-1].stopIndex;i!==-1&&(t=i+1)}let r=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},gf.Token.EOF,"EOF",gf.Token.DEFAULT_CHANNEL,t,r,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===gf.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],t=e.line,r=e.text;if(r!=null)for(let i=0;i<r.length;i++)r.charAt(i)===`
`&&t++;return t}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};Vi([sn.Override],hn.prototype,"charPositionInLine",null);Vi([sn.Override],hn.prototype,"nextToken",null);Vi([sn.Override],hn.prototype,"line",null);Vi([sn.Override],hn.prototype,"inputStream",null);Vi([sn.Override],hn.prototype,"sourceName",null);Vi([sn.Override,sn.NotNull,BS(0,sn.NotNull)],hn.prototype,"tokenFactory",null);hn=Vi([BS(0,sn.NotNull)],hn);ga.ListTokenSource=hn;var Ts={},jg;function eP(){if(jg)return Ts;jg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.MultiMap=void 0;let n=class extends Map{constructor(){super()}map(t,r){let i=super.get(t);i||(i=[],super.set(t,i)),i.push(r)}getPairs(){let t=[];return this.forEach((r,i)=>{r.forEach(o=>{t.push([i,o])})}),t}};return Ts.MultiMap=n,Ts}var xa={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(xa,"__esModule",{value:!0});xa.ParseCancellationException=void 0;class tP extends Error{constructor(e){super(e.message),this.cause=e,this.stack=e.stack}getCause(){return this.cause}}xa.ParseCancellationException=tP;var Es={},Cs={},$g;function jS(){if($g)return Cs;$g=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(i,o,s,l){var a=arguments.length,u=a<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,o,s,l);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(u=(a<3?c(u):a>3?c(o,s,u):c(o,s))||u);return a>3&&u&&Object.defineProperty(o,s,u),u};Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.InterpreterRuleContext=void 0;const e=J,t=wr();let r=class extends t.ParserRuleContext{constructor(o,s,l){l!==void 0?super(s,l):super(),this._ruleIndex=o}get ruleIndex(){return this._ruleIndex}};return n([e.Override],r.prototype,"ruleIndex",null),Cs.InterpreterRuleContext=r,Cs}var Hg;function $S(){if(Hg)return Es;Hg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(y,g,x,S){var _=arguments.length,b=_<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,x):S,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,g,x,S);else for(var O=y.length-1;O>=0;O--)(C=y[O])&&(b=(_<3?C(b):_>3?C(g,x,b):C(g,x))||b);return _>3&&b&&Object.defineProperty(g,x,b),b},e=w&&w.__param||function(y,g){return function(x,S){g(x,S,y)}};Object.defineProperty(Es,"__esModule",{value:!0}),Es.ParserInterpreter=void 0;const t=Kr,r=mt,i=Er,o=ko,s=Fi,l=jS(),a=la,u=J,c=J,h=va(),f=ua(),d=Gr,p=Bo,v=ze;let m=class Pd extends h.Parser{constructor(g,x,S,_,b){if(super(g instanceof Pd?g.inputStream:b),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,g instanceof Pd){let C=g;this._grammarFileName=C._grammarFileName,this._atn=C._atn,this.pushRecursionContextStates=C.pushRecursionContextStates,this._ruleNames=C._ruleNames,this._vocabulary=C._vocabulary,this.interpreter=new f.ParserATNSimulator(this._atn,this)}else{x=x,S=S,_=_,this._grammarFileName=g,this._atn=_,this._ruleNames=S.slice(0),this._vocabulary=x,this.pushRecursionContextStates=new i.BitSet(_.states.length);for(let C of _.states)C instanceof p.StarLoopEntryState&&C.precedenceRuleDecision&&this.pushRecursionContextStates.set(C.stateNumber);this.interpreter=new f.ParserATNSimulator(_,this)}}reset(g){g===void 0?super.reset():super.reset(g),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(g){let x=this._atn.ruleToStartState[g];for(this._rootContext=this.createInterpreterRuleContext(void 0,t.ATNState.INVALID_STATE_NUMBER,g),x.isPrecedenceRule?this.enterRecursionRule(this._rootContext,x.stateNumber,g,0):this.enterRule(this._rootContext,x.stateNumber,g);;){let S=this.atnState;switch(S.stateType){case r.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(x.isPrecedenceRule){let _=this._ctx,b=this._parentContextStack.pop();return this.unrollRecursionContexts(b[0]),_}else return this.exitRule(),this._rootContext;this.visitRuleStopState(S);break;default:try{this.visitState(S)}catch(_){if(_ instanceof d.RecognitionException)this.state=this._atn.ruleToStopState[S.ruleIndex].stateNumber,this.context.exception=_,this.errorHandler.reportError(this,_),this.recover(_);else throw _}break}}}enterRecursionRule(g,x,S,_){this._parentContextStack.push([this._ctx,g.invokingState]),super.enterRecursionRule(g,x,S,_)}get atnState(){return this._atn.states[this.state]}visitState(g){let x=1;g.numberOfTransitions>1&&(x=this.visitDecisionState(g));let S=g.transition(x-1);switch(S.serializationType){case 1:if(this.pushRecursionContextStates.get(g.stateNumber)&&!(S.target instanceof a.LoopEndState)){let M=this._parentContextStack[this._parentContextStack.length-1],j=this.createInterpreterRuleContext(M[0],M[1],this._ctx.ruleIndex);this.pushNewRecursionContext(j,this._atn.ruleToStartState[g.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(S._label);break;case 2:case 7:case 8:S.matches(this._input.LA(1),v.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let _=S.target,b=_.ruleIndex,C=this.createInterpreterRuleContext(this._ctx,g.stateNumber,b);_.isPrecedenceRule?this.enterRecursionRule(C,_.stateNumber,b,S.precedence):this.enterRule(C,S.target.stateNumber,b);break;case 4:let O=S;if(!this.sempred(this._ctx,O.ruleIndex,O.predIndex))throw new o.FailedPredicateException(this);break;case 6:let D=S;this.action(this._ctx,D.ruleIndex,D.actionIndex);break;case 10:if(!this.precpred(this._ctx,S.precedence)){let M=S.precedence;throw new o.FailedPredicateException(this,`precpred(_ctx, ${M})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=S.target.stateNumber}visitDecisionState(g){let x;this.errorHandler.sync(this);let S=g.decision;return S===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(x=this.overrideDecisionAlt,this.overrideDecisionReached=!0):x=this.interpreter.adaptivePredict(this._input,S,this._ctx),x}createInterpreterRuleContext(g,x,S){return new l.InterpreterRuleContext(S,g,x)}visitRuleStopState(g){if(this._atn.ruleToStartState[g.ruleIndex].isPrecedenceRule){let _=this._parentContextStack.pop();this.unrollRecursionContexts(_[0]),this.state=_[1]}else this.exitRule();let S=this._atn.states[this.state].transition(0);this.state=S.followState.stateNumber}addDecisionOverride(g,x,S){this.overrideDecision=g,this.overrideDecisionInputIndex=x,this.overrideDecisionAlt=S}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(g){let x=this._input.index;if(this.errorHandler.recover(this,g),this._input.index===x){let S=g.getOffendingToken();if(!S)throw new Error("Expected exception to have an offending token");let _=S.tokenSource,b=_!==void 0?_.inputStream:void 0,C={source:_,stream:b};if(g instanceof s.InputMismatchException){let O=g.expectedTokens;if(O===void 0)throw new Error("Expected the exception to provide expected tokens");let D=v.Token.INVALID_TYPE;O.isNil||(D=O.minElement);let M=this.tokenFactory.create(C,D,S.text,v.Token.DEFAULT_CHANNEL,-1,-1,S.line,S.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,M))}else{S.tokenSource;let O=this.tokenFactory.create(C,v.Token.INVALID_TYPE,S.text,v.Token.DEFAULT_CHANNEL,-1,-1,S.line,S.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,O))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return n([u.NotNull],m.prototype,"_vocabulary",void 0),n([c.Override],m.prototype,"reset",null),n([c.Override],m.prototype,"atn",null),n([c.Override],m.prototype,"vocabulary",null),n([c.Override],m.prototype,"ruleNames",null),n([c.Override],m.prototype,"grammarFileName",null),n([c.Override],m.prototype,"enterRecursionRule",null),m=n([e(1,u.NotNull)],m),Es.ParserInterpreter=m,Es}var ws={},zg;function rP(){if(zg)return ws;zg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(i,o,s,l){var a=arguments.length,u=a<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,o,s,l);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(u=(a<3?c(u):a>3?c(o,s,u):c(o,s))||u);return a>3&&u&&Object.defineProperty(o,s,u),u},e=w&&w.__param||function(i,o){return function(s,l){o(s,l,i)}};Object.defineProperty(ws,"__esModule",{value:!0}),ws.ParseTreeMatch=void 0;const t=J;let r=class{constructor(o,s,l,a){if(!o)throw new Error("tree cannot be null");if(!s)throw new Error("pattern cannot be null");if(!l)throw new Error("labels cannot be null");this._tree=o,this._pattern=s,this._labels=l,this._mismatchedNode=a}get(o){let s=this._labels.get(o);if(!(!s||s.length===0))return s[s.length-1]}getAll(o){const s=this._labels.get(o);return s||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return n([t.NotNull,e(0,t.NotNull)],r.prototype,"getAll",null),n([t.NotNull],r.prototype,"labels",null),n([t.NotNull],r.prototype,"pattern",null),n([t.NotNull],r.prototype,"tree",null),n([t.Override],r.prototype,"toString",null),r=n([e(0,t.NotNull),e(1,t.NotNull),e(2,t.NotNull)],r),ws.ParseTreeMatch=r,ws}var Os={},Ns={},Ds={},qg;function nP(){if(qg)return Ds;qg=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.XPathLexer=void 0;const n=kp(),e=Yn(),t=wc(),r=gn,i=ut;let o=class Jt extends e.Lexer{constructor(l){super(l),this._interp=new t.LexerATNSimulator(Jt._ATN,this)}get vocabulary(){return Jt.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return Jt.ruleNames}get serializedATN(){return Jt._serializedATN}get channelNames(){return Jt.channelNames}get modeNames(){return Jt.modeNames}action(l,a,u){switch(a){case 4:this.ID_action(l,u);break}}ID_action(l,a){switch(a){case 0:let u=this.text;u.charAt(0)===u.charAt(0).toUpperCase()?this.type=Jt.TOKEN_REF:this.type=Jt.RULE_REF;break}}static get _ATN(){return Jt.__ATN||(Jt.__ATN=new n.ATNDeserializer().deserialize(i.toCharArray(Jt._serializedATN))),Jt.__ATN}};return Ds.XPathLexer=o,o.TOKEN_REF=1,o.RULE_REF=2,o.ANYWHERE=3,o.ROOT=4,o.WILDCARD=5,o.BANG=6,o.ID=7,o.STRING=8,o.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],o.modeNames=["DEFAULT_MODE"],o.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],o._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],o._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],o.VOCABULARY=new r.VocabularyImpl(o._LITERAL_NAMES,o._SYMBOLIC_NAMES,[]),o._serializedATNSegments=2,o._serializedATNSegment0=`줝쪺֍꾺体؇쉁
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
ʶ
2;C\\aac|¡¬¬¯¯··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰̂Ͷ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃҅҉ҌԱԳ՘՛՛գ։֓ֿׁׁ׃ׄ׆ׇ׉׉ג׬ײ״؂؇ؒ؜؞؞آ٫ٰەۗ۟ۡ۪۬۾܁܁ܑ݌ݏ޳߂߷߼߼ࠂ࠯ࡂ࡝ࢢࢶࢸࢿࣖ॥२ॱॳঅই঎঑঒কপবল঴঴স঻া৆৉৊্৐৙৙৞য়ৡ৥২৳ਃਅਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਾਾੀ੄੉੊੍੏੓੓ਜ਼ਫ਼੠੠੨੷ઃઅઇએઑઓકપબલ઴વષ઻ાેૉો્૏૒૒ૢ૥૨૱ૻૻଃଅଇ଎଑଒କପବଲ଴ଵଷ଻ା୆୉୊୍୏୘୙୞ୟୡ୥୨ୱ୳୳஄அஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻ீ௄ைொௌ௏௒௒௙௙௨௱ంఅఇఎఐఒఔపబ఻ిెైొౌ౏౗ౘౚ౜ౢ౥౨౱ಂಅಇಎಐಒಔಪಬವಷ಻ಾೆೈೊೌ೏೗೘ೠೠೢ೥೨ೱೳ೴ഃഅഇഎഐഒഔ഼ിെൈൊൌ൐ൖ൙ൡ൥൨൱ർඁ඄අඇ඘ගඳඵල඿඿ෂ෈෌෌ෑූෘෘේ෡෨෱෴෵ฃ฼โ๐๒๛຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯົຽ຿ໂໆ່່໊໏໒໛ໞ໡༂༂༚༛༢༫༷༷༹༹༻༻ཀཉཋ཮ཱི྆ྈྙྛ྾࿈࿈ဂ။ၒ႟ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜፟፡ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐ᜖ᜢ᜶ᝂ᝕ᝢᝮᝰᝲ᝴᝵គ៕៙៙៞៟២៫᠍᠐᠒᠛ᠢ᡹ᢂ᢬ᢲ᣷ᤂᤠᤢ᤭ᤲ᤽᥈᥯ᥲ᥶ᦂ᦭ᦲ᧋᧒᧛ᨂ᨝ᨢ᩠ᩢ᩾᪁᪋᪒᪛᪩᪩᪲ᪿᬂ᭍᭒᭛᭭᭵ᮂ᯵ᰂ᰹᱂᱋ᱏ᱿ᲂᲊ᳒᳔᳖᳸ᳺ᳻ᴂ᷷᷽἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾‍‑‬‰⁁⁂⁖⁖⁢⁦⁨ⁱ⁳⁳₁₁ₒ₞⃒⃞⃣⃣⃧⃲℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶁ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠⷢ⸁⸱⸱〇〉〣〱〳〷〺〾ぃ゘゛゜ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘭Ꙃ꙱ꙶꙿꚁ꛳ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹ꠩ꡂ꡵ꢂ꣇꣒꣛꣢꣹ꣽꣽꣿꣿ꤂꤯ꤲ꥕ꥢ꥾ꦂ꧂꧑꧛ꧢꨀꨂ꨸ꩂ꩏꩒꩛ꩢ꩸ꩼ꫄ꫝ꫟ꫢ꫱ꫴ꫸ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲ꯬꯮꯯꯲꯻갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽︂︑︢︱︵︶﹏﹑ﹲﹶﹸ﻾！！２；Ｃ＼ａａｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞￻�\r(*<>?AOR_üłŶǿǿʂʞʢ˒ˢˢ̂̡̲͌͒ͼ΂Ο΢υϊϑϓϗЂҟҢҫҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਅਇਈ਎ਕਗਙਛਵ਺਼ੁੁ੢੾ંઞૂૉો૨ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴ဂ၈ၨၱႁႼႿႿგცჲ჻ᄂᄶᄸᅁᅒᅵᅸᅸᆂᇆᇌᇎᇒᇜᇞᇞሂሓሕሹቀቀኂኈኊኊኌ኏ኑኟኡኪኲዬዲዻጂጅጇጎ጑ጒጕጪጬጲጴጵጷጻጾፆፉፊፍፏፒፒፙፙ፟፥፨፮፲፶ᐂᑌᑒᑛᒂᓇᓉᓉᓒᓛᖂᖷᖺᗂᗚᗟᘂᙂᙆᙆᙒᙛᚂᚹᛂᛋᜂ᜛ᜟᜭᜲ᜻ᢢᣫᤁᤁ᫂᫺ᰂᰊᰌ᰸᰺᱂᱒ᱛᱴᲑᲔᲩᲫᲸ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠橢橫櫒櫯櫲櫶欂欸歂歅歒歛步歹歿殑漂潆潒澀澑澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛벟베벢벥텧텫텯톄톇톍톬톯퉄퉆퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍퟐ\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1ꛘ꜂뜶띂렟렢캣﨟"ĂǱɀC\\c|¬¬··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰ͲͶ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃ҌԱԳ՘՛՛գ։ג׬ײ״آٌٰٱٳەۗۗۧۨ۰۱ۼ۾܁܁ܒܒܔܱݏާ޳޳ߌ߬߶߷߼߼ࠂࠗࠜࠜࠦࠦࠪࠪࡂ࡚ࢢࢶࢸࢿआऻिि॒॒ग़ॣॳংই঎঑঒কপবল঴঴স঻িি৐৐৞য়ৡৣ৲৳ਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਜ਼ਫ਼੠੠ੴ੶ઇએઑઓકપબલ઴વષ઻િિ૒૒ૢૣૻૻଇ଎଑଒କପବଲ଴ଵଷ଻ିି୞ୟୡୣ୳୳அஅஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻௒௒ఇఎఐఒఔపబ఻ిిౚ౜ౢౣಂಂಇಎಐಒಔಪಬವಷ಻ಿಿೠೠೢೣೳ೴ഇഎഐഒഔ഼ിി൐൐ൖ൘ൡൣർඁඇ඘ගඳඵල඿඿ෂ෈ฃาิีโ่຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯາິີ຿຿ໂໆ່່ໞ໡༂༂གཉཋ཮ྊྎဂာ၁၁ၒၗၜၟၣၣၧၨၰၲၷႃ႐႐ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐᜓᜢᜳᝂᝓᝢᝮᝰᝲគ឵៙៙៞៞ᠢ᡹ᢂᢆᢉᢪ᢬᢬ᢲ᣷ᤂᤠᥒ᥯ᥲ᥶ᦂ᦭ᦲ᧋ᨂᨘᨢᩖ᪩᪩ᬇᬵᭇ᭍ᮅᮢ᮰᮱ᮼᯧᰂᰥᱏ᱑ᱜ᱿ᲂᲊᳫᳮᳰᳳ᳷᳸ᴂ᷁Ḃ἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾⁳⁳₁₁ₒ₞℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳰⳴⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶂ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠ⸱⸱〇〉〣〫〳〷〺〾ぃ゘ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘡꘬꘭Ꙃ꙰ꚁꚟꚢ꛱ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹꠃꠅꠇꠉꠌꠎꠤꡂ꡵ꢄꢵꣴ꣹ꣽꣽꣿꣿꤌꤧꤲꥈꥢ꥾ꦆꦴ꧑꧑ꧢꧦꧨ꧱ꧼꨀꨂꨪꩂꩄꩆꩍꩢ꩸ꩼꩼꪀꪱꪳꪳꪷꪸꪻ꪿ꫂꫂ꫄꫄ꫝ꫟ꫢꫬꫴ꫶ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲꯤ갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַײַﬡשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽ﹲﹶﹸ﻾Ｃ＼ｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞\r(*<>?AOR_üłŶʂʞʢ˒̂̡̲͌͒ͷ΂Ο΢υϊϑϓϗЂҟҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਂ਒ਕਗਙਛਵ੢੾ંઞૂૉો૦ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴စ္ႅႱგცᄅᄨᅒᅴᅸᅸᆅᆴᇃᇆᇜᇜᇞᇞሂሓሕርኂኈኊኊኌ኏ኑኟኡኪኲዠጇጎ጑ጒጕጪጬጲጴጵጷጻጿጿፒፒ፟፣ᐂᐶᑉᑌᒂᒱᓆᓇᓉᓉᖂᖰᗚᗝᘂᘱᙆᙆᚂᚬᜂ᜛ᢢᣡᤁᤁ᫂᫺ᰂᰊᰌᰰ᱂᱂ᱴᲑ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠櫒櫯欂欱歂歅步歹歿殑漂潆潒潒澕澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈`,o._serializedATNSegment1=`핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍꛘ꜂뜶띂렟렢캣﨟1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,o._serializedATN=i.join([o._serializedATNSegment0,o._serializedATNSegment1],""),Ds}var Ps={},Ug;function iP(){if(Ug)return Ps;Ug=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(r,i,o,s){var l=arguments.length,a=l<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,i,o,s);else for(var c=r.length-1;c>=0;c--)(u=r[c])&&(a=(l<3?u(a):l>3?u(i,o,a):u(i,o))||a);return l>3&&a&&Object.defineProperty(i,o,a),a};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.XPathLexerErrorListener=void 0;const e=J;let t=class{syntaxError(i,o,s,l,a,u){}};return n([e.Override],t.prototype,"syntaxError",null),Ps.XPathLexerErrorListener=t,Ps}var Rs={},Ls={},Vg;function Ko(){if(Vg)return Ls;Vg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(r,i,o,s){var l=arguments.length,a=l<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,i,o,s);else for(var c=r.length-1;c>=0;c--)(u=r[c])&&(a=(l<3?u(a):l>3?u(i,o,a):u(i,o))||a);return l>3&&a&&Object.defineProperty(i,o,a),a};Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.XPathElement=void 0;const e=J;let t=class{constructor(i){this.nodeName=i,this.invert=!1}toString(){let i=this.invert?"!":"";return Object.constructor.name+"["+i+this.nodeName+"]"}};return n([e.Override],t.prototype,"toString",null),Ls.XPathElement=t,Ls}var Wg;function oP(){if(Wg)return Rs;Wg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c};Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.XPathRuleAnywhereElement=void 0;const e=J,t=Ui(),r=Ko();let i=class extends r.XPathElement{constructor(s,l){super(s),this.ruleIndex=l}evaluate(s){return t.Trees.findAllRuleNodes(s,this.ruleIndex)}};return n([e.Override],i.prototype,"evaluate",null),Rs.XPathRuleAnywhereElement=i,Rs}var ks={},Kg;function sP(){if(Kg)return ks;Kg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(ks,"__esModule",{value:!0}),ks.XPathRuleElement=void 0;const e=wr(),t=J,r=Ui(),i=Ko();let o=class extends i.XPathElement{constructor(l,a){super(l),this.ruleIndex=a}evaluate(l){let a=[];for(let u of r.Trees.getChildren(l))u instanceof e.ParserRuleContext&&(u.ruleIndex===this.ruleIndex&&!this.invert||u.ruleIndex!==this.ruleIndex&&this.invert)&&a.push(u);return a}};return n([t.Override],o.prototype,"evaluate",null),ks.XPathRuleElement=o,ks}var Is={},Gg;function lP(){if(Gg)return Is;Gg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c};Object.defineProperty(Is,"__esModule",{value:!0}),Is.XPathTokenAnywhereElement=void 0;const e=J,t=Ui(),r=Ko();let i=class extends r.XPathElement{constructor(s,l){super(s),this.tokenType=l}evaluate(s){return t.Trees.findAllTokenNodes(s,this.tokenType)}};return n([e.Override],i.prototype,"evaluate",null),Is.XPathTokenAnywhereElement=i,Is}var Fs={},Xg;function aP(){if(Xg)return Fs;Xg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.XPathTokenElement=void 0;const e=J,t=An,r=Ui(),i=Ko();let o=class extends i.XPathElement{constructor(l,a){super(l),this.tokenType=a}evaluate(l){let a=[];for(let u of r.Trees.getChildren(l))u instanceof t.TerminalNode&&(u.symbol.type===this.tokenType&&!this.invert||u.symbol.type!==this.tokenType&&this.invert)&&a.push(u);return a}};return n([e.Override],o.prototype,"evaluate",null),Fs.XPathTokenElement=o,Fs}var Ms={},Yg;function uP(){if(Yg)return Ms;Yg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.XPathWildcardAnywhereElement=void 0;const e=J,t=Ui(),r=$p(),i=Ko();let o=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(l){return this.invert?[]:t.Trees.getDescendants(l)}};return n([e.Override],o.prototype,"evaluate",null),Ms.XPathWildcardAnywhereElement=o,Ms}var Bs={},Jg;function cP(){if(Jg)return Bs;Jg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.XPathWildcardElement=void 0;const e=J,t=Ui(),r=$p(),i=Ko();let o=class extends i.XPathElement{constructor(){super(r.XPath.WILDCARD)}evaluate(l){let a=[];if(this.invert)return a;for(let u of t.Trees.getChildren(l))a.push(u);return a}};return n([e.Override],o.prototype,"evaluate",null),Bs.XPathWildcardElement=o,Bs}var Qg;function $p(){if(Qg)return Ns;Qg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.XPath=void 0;const n=Gc,e=Wo,t=Hi,r=wr(),i=ze,o=nP(),s=iP(),l=oP(),a=sP(),u=lP(),c=aP(),h=uP(),f=cP();let d=class HS{constructor(v,m){this.parser=v,this.path=m,this.elements=this.split(m)}split(v){let m=new o.XPathLexer(n.CharStreams.fromString(v));m.recover=b=>{throw b},m.removeErrorListeners(),m.addErrorListener(new s.XPathLexerErrorListener);let y=new e.CommonTokenStream(m);try{y.fill()}catch(b){if(b instanceof t.LexerNoViableAltException){let O="Invalid tokens or characters at index "+m.charPositionInLine+" in path '"+v+"' -- "+b.message;throw new RangeError(O)}throw b}let g=y.getTokens(),x=[],S=g.length,_=0;e:for(;_<S;){let b=g[_],C;switch(b.type){case o.XPathLexer.ROOT:case o.XPathLexer.ANYWHERE:let O=b.type===o.XPathLexer.ANYWHERE;_++,C=g[_];let D=C.type===o.XPathLexer.BANG;D&&(_++,C=g[_]);let M=this.getXPathElement(C,O);M.invert=D,x.push(M),_++;break;case o.XPathLexer.TOKEN_REF:case o.XPathLexer.RULE_REF:case o.XPathLexer.WILDCARD:x.push(this.getXPathElement(b,!1)),_++;break;case i.Token.EOF:break e;default:throw new Error("Unknowth path element "+b)}}return x}getXPathElement(v,m){if(v.type===i.Token.EOF)throw new Error("Missing path element at end of path");let y=v.text;if(y==null)throw new Error("Expected wordToken to have text content.");let g=this.parser.getTokenType(y),x=this.parser.getRuleIndex(y);switch(v.type){case o.XPathLexer.WILDCARD:return m?new h.XPathWildcardAnywhereElement:new f.XPathWildcardElement;case o.XPathLexer.TOKEN_REF:case o.XPathLexer.STRING:if(g===i.Token.INVALID_TYPE)throw new Error(y+" at index "+v.startIndex+" isn't a valid token name");return m?new u.XPathTokenAnywhereElement(y,g):new c.XPathTokenElement(y,g);default:if(x===-1)throw new Error(y+" at index "+v.startIndex+" isn't a valid rule name");return m?new l.XPathRuleAnywhereElement(y,x):new a.XPathRuleElement(y,x)}}static findAll(v,m,y){return new HS(y,m).evaluate(v)}evaluate(v){let m=new r.ParserRuleContext;m.addChild(v);let y=new Set([m]),g=0;for(;g<this.elements.length;){let x=new Set;for(let S of y)S.childCount>0&&this.elements[g].evaluate(S).forEach(x.add,x);g++,y=x}return y}};return Ns.XPath=d,d.WILDCARD="*",d.NOT="!",Ns}var Zg;function hP(){if(Zg)return Os;Zg=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(Os,"__esModule",{value:!0}),Os.ParseTreePattern=void 0;const t=J,r=$p();let i=class{constructor(s,l,a,u){this._matcher=s,this._patternRuleIndex=a,this._pattern=l,this._patternTree=u}match(s){return this._matcher.match(s,this)}matches(s){return this._matcher.match(s,this).succeeded}findAll(s,l){let a=r.XPath.findAll(s,l,this._matcher.parser),u=[];for(let c of a){let h=this.match(c);h.succeeded&&u.push(h)}return u}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return n([t.NotNull],i.prototype,"_pattern",void 0),n([t.NotNull],i.prototype,"_patternTree",void 0),n([t.NotNull],i.prototype,"_matcher",void 0),n([t.NotNull,e(0,t.NotNull)],i.prototype,"match",null),n([e(0,t.NotNull)],i.prototype,"matches",null),n([t.NotNull,e(0,t.NotNull),e(1,t.NotNull)],i.prototype,"findAll",null),n([t.NotNull],i.prototype,"matcher",null),n([t.NotNull],i.prototype,"pattern",null),n([t.NotNull],i.prototype,"patternTree",null),i=n([e(0,t.NotNull),e(1,t.NotNull),e(3,t.NotNull)],i),Os.ParseTreePattern=i,Os}var js={},ex;function fP(){if(ex)return js;ex=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(js,"__esModule",{value:!0}),js.RuleTagToken=void 0;const t=J,r=ze;let i=class{constructor(s,l,a){if(s==null||s.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=s,this.bypassTokenType=l,this._label=a}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return r.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return n([t.NotNull],i.prototype,"ruleName",null),n([t.Override],i.prototype,"channel",null),n([t.Override],i.prototype,"text",null),n([t.Override],i.prototype,"type",null),n([t.Override],i.prototype,"line",null),n([t.Override],i.prototype,"charPositionInLine",null),n([t.Override],i.prototype,"tokenIndex",null),n([t.Override],i.prototype,"startIndex",null),n([t.Override],i.prototype,"stopIndex",null),n([t.Override],i.prototype,"tokenSource",null),n([t.Override],i.prototype,"inputStream",null),n([t.Override],i.prototype,"toString",null),i=n([e(0,t.NotNull)],i),js.RuleTagToken=i,js}var $s={},Hs={},tx;function zS(){if(tx)return Hs;tx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.Chunk=void 0;let n=class{};return Hs.Chunk=n,Hs}var rx;function dP(){if(rx)return $s;rx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(i,o,s,l){var a=arguments.length,u=a<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,o,s,l);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(u=(a<3?c(u):a>3?c(o,s,u):c(o,s))||u);return a>3&&u&&Object.defineProperty(o,s,u),u};Object.defineProperty($s,"__esModule",{value:!0}),$s.TagChunk=void 0;const e=zS(),t=J;let r=class extends e.Chunk{constructor(o,s){if(super(),o==null||o.length===0)throw new Error("tag cannot be null or empty");this._tag=o,this._label=s}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}};return n([t.NotNull],r.prototype,"tag",null),n([t.Override],r.prototype,"toString",null),$s.TagChunk=r,$s}var zs={},nx;function pP(){if(nx)return zs;nx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(zs,"__esModule",{value:!0}),zs.TextChunk=void 0;const t=zS(),r=J;let i=class extends t.Chunk{constructor(s){if(super(),s==null)throw new Error("text cannot be null");this._text=s}get text(){return this._text}toString(){return"'"+this._text+"'"}};return n([r.NotNull],i.prototype,"_text",void 0),n([r.NotNull],i.prototype,"text",null),n([r.Override],i.prototype,"toString",null),i=n([e(0,r.NotNull)],i),zs.TextChunk=i,zs}var qs={},ix;function mP(){if(ix)return qs;ix=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.TokenTagToken=void 0;const t=Wn,r=J;let i=class extends t.CommonToken{constructor(s,l,a){super(l),this._tokenName=s,this._label=a}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return n([r.NotNull],i.prototype,"_tokenName",void 0),n([r.NotNull],i.prototype,"tokenName",null),n([r.Override],i.prototype,"text",null),n([r.Override],i.prototype,"toString",null),i=n([e(0,r.NotNull)],i),qs.TokenTagToken=i,qs}var ox;function gP(){return ox||(ox=1,function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__decorate||function(C,O,D,M){var j=arguments.length,k=j<3?O:M===null?M=Object.getOwnPropertyDescriptor(O,D):M,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(C,O,D,M);else for(var se=C.length-1;se>=0;se--)(V=C[se])&&(k=(j<3?V(k):j>3?V(O,D,k):V(O,D))||k);return j>3&&k&&Object.defineProperty(O,D,k),k},t=w&&w.__param||function(C,O){return function(D,M){O(D,M,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ParseTreePatternMatcher=void 0;const r=qS(),i=Gc,o=Wo,s=ga,l=eP(),a=J,u=xa,c=$S(),h=wr(),f=rP(),d=hP(),p=Gr,v=Vo,m=fP(),y=dP(),g=An,x=pP(),S=ze,_=mP();class b{constructor(O,D){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=O,this._parser=D}setDelimiters(O,D,M){if(!O)throw new Error("start cannot be null or empty");if(!D)throw new Error("stop cannot be null or empty");this.start=O,this.stop=D,this.escape=M,this.escapeRE=new RegExp(M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(O,D,M=0){if(typeof D=="string"){let j=this.compile(D,M);return this.matches(O,j)}else{let j=new l.MultiMap;return!this.matchImpl(O,D.patternTree,j)}}match(O,D,M=0){if(typeof D=="string"){let j=this.compile(D,M);return this.match(O,j)}else{let j=new l.MultiMap,k=this.matchImpl(O,D.patternTree,j);return new f.ParseTreeMatch(O,D,j,k)}}compile(O,D){let M=this.tokenize(O),j=new s.ListTokenSource(M),k=new o.CommonTokenStream(j);const V=this._parser;let se=new c.ParserInterpreter(V.grammarFileName,V.vocabulary,V.ruleNames,V.getATNWithBypassAlts(),k),ie;try{se.errorHandler=new r.BailErrorStrategy,ie=se.parse(D)}catch(fe){throw fe instanceof u.ParseCancellationException?fe.getCause():fe instanceof p.RecognitionException?fe:fe instanceof Error?new b.CannotInvokeStartRule(fe):fe}if(k.LA(1)!==S.Token.EOF)throw new b.StartRuleDoesNotConsumeFullPattern;return new d.ParseTreePattern(this,O,D,ie)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(O,D,M){if(!O)throw new TypeError("tree cannot be null");if(!D)throw new TypeError("patternTree cannot be null");if(O instanceof g.TerminalNode&&D instanceof g.TerminalNode){let j;if(O.symbol.type===D.symbol.type)if(D.symbol instanceof _.TokenTagToken){let k=D.symbol;M.map(k.tokenName,O);const V=k.label;V&&M.map(V,O)}else O.text===D.text||j||(j=O);else j||(j=O);return j}if(O instanceof h.ParserRuleContext&&D instanceof h.ParserRuleContext){let j,k=this.getRuleTagToken(D);if(k){if(O.ruleContext.ruleIndex===D.ruleContext.ruleIndex){M.map(k.ruleName,O);const se=k.label;se&&M.map(se,O)}else j||(j=O);return j}if(O.childCount!==D.childCount)return j||(j=O),j;let V=O.childCount;for(let se=0;se<V;se++){let ie=this.matchImpl(O.getChild(se),D.getChild(se),M);if(ie)return ie}return j}return O}getRuleTagToken(O){if(O instanceof v.RuleNode&&O.childCount===1&&O.getChild(0)instanceof g.TerminalNode){let D=O.getChild(0);if(D.symbol instanceof m.RuleTagToken)return D.symbol}}tokenize(O){let D=this.split(O),M=[];for(let j of D)if(j instanceof y.TagChunk){let k=j;const V=k.tag.substr(0,1);if(V===V.toUpperCase()){let se=this._parser.getTokenType(k.tag);if(se===S.Token.INVALID_TYPE)throw new Error("Unknown token "+k.tag+" in pattern: "+O);let ie=new _.TokenTagToken(k.tag,se,k.label);M.push(ie)}else if(V===V.toLowerCase()){let se=this._parser.getRuleIndex(k.tag);if(se===-1)throw new Error("Unknown rule "+k.tag+" in pattern: "+O);let ie=this._parser.getATNWithBypassAlts().ruleToTokenType[se];M.push(new m.RuleTagToken(k.tag,ie,k.label))}else throw new Error("invalid tag: "+k.tag+" in pattern: "+O)}else{let k=j;this._lexer.inputStream=i.CharStreams.fromString(k.text);let V=this._lexer.nextToken();for(;V.type!==S.Token.EOF;)M.push(V),V=this._lexer.nextToken()}return M}split(O){let D=0,M=O.length,j=[],k=[],V=[];for(;D<M;)D===O.indexOf(this.escape+this.start,D)?D+=this.escape.length+this.start.length:D===O.indexOf(this.escape+this.stop,D)?D+=this.escape.length+this.stop.length:D===O.indexOf(this.start,D)?(k.push(D),D+=this.start.length):D===O.indexOf(this.stop,D)?(V.push(D),D+=this.stop.length):D++;if(k.length>V.length)throw new Error("unterminated tag in pattern: "+O);if(k.length<V.length)throw new Error("missing start tag in pattern: "+O);let se=k.length;for(let ie=0;ie<se;ie++)if(k[ie]>=V[ie])throw new Error("tag delimiters out of order in pattern: "+O);if(se===0){let ie=O.substring(0,M);j.push(new x.TextChunk(ie))}if(se>0&&k[0]>0){let ie=O.substring(0,k[0]);j.push(new x.TextChunk(ie))}for(let ie=0;ie<se;ie++){let fe=O.substring(k[ie]+this.start.length,V[ie]),Ee=fe,me,ee=fe.indexOf(":");if(ee>=0&&(me=fe.substring(0,ee),Ee=fe.substring(ee+1,fe.length)),j.push(new y.TagChunk(Ee,me)),ie+1<se){let X=O.substring(V[ie]+this.stop.length,k[ie+1]);j.push(new x.TextChunk(X))}}if(se>0){let ie=V[se-1]+this.stop.length;if(ie<M){let fe=O.substring(ie,M);j.push(new x.TextChunk(fe))}}for(let ie=0;ie<j.length;ie++){let fe=j[ie];if(fe instanceof x.TextChunk){let Ee=fe.text.replace(this.escapeRE,"");Ee.length<fe.text.length&&(j[ie]=new x.TextChunk(Ee))}}return j}}e([a.NotNull,t(1,a.NotNull)],b.prototype,"match",null),e([a.NotNull],b.prototype,"lexer",null),e([a.NotNull],b.prototype,"parser",null),e([t(0,a.NotNull),t(1,a.NotNull),t(2,a.NotNull)],b.prototype,"matchImpl",null),n.ParseTreePatternMatcher=b,function(C){class O extends Error{constructor(j){super(`CannotInvokeStartRule: ${j}`),this.error=j}}C.CannotInvokeStartRule=O;class D extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}C.StartRuleDoesNotConsumeFullPattern=D}(b=n.ParseTreePatternMatcher||(n.ParseTreePatternMatcher={}))}(df)),df}var Us={},Vs={},Ws={},sx;function ya(){if(sx)return Ws;sx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(i,o,s,l){var a=arguments.length,u=a<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,o,s,l);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(u=(a<3?c(u):a>3?c(o,s,u):c(o,s))||u);return a>3&&u&&Object.defineProperty(o,s,u),u},e=w&&w.__param||function(i,o){return function(s,l){o(s,l,i)}};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.DecisionEventInfo=void 0;const t=J;let r=class{constructor(o,s,l,a,u,c){this.decision=o,this.fullCtx=c,this.stopIndex=u,this.input=l,this.startIndex=a,this.state=s}};return n([t.NotNull],r.prototype,"input",void 0),r=n([e(2,t.NotNull)],r),Ws.DecisionEventInfo=r,Ws}var lx;function xP(){if(lx)return Vs;lx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.AmbiguityInfo=void 0;const t=ya(),r=J;let i=class extends t.DecisionEventInfo{constructor(s,l,a,u,c,h){super(s,l,u,c,h,l.useContext),this.ambigAlts=a}get ambiguousAlternatives(){return this.ambigAlts}};return n([r.NotNull],i.prototype,"ambigAlts",void 0),n([r.NotNull],i.prototype,"ambiguousAlternatives",null),i=n([e(1,r.NotNull),e(2,r.NotNull),e(3,r.NotNull)],i),Vs.AmbiguityInfo=i,Vs}var Ks={},ax;function yP(){if(ax)return Ks;ax=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.ContextSensitivityInfo=void 0;const t=ya(),r=J;let i=class extends t.DecisionEventInfo{constructor(s,l,a,u,c){super(s,l,a,u,c,!0)}};return i=n([e(1,r.NotNull),e(2,r.NotNull)],i),Ks.ContextSensitivityInfo=i,Ks}var Gs={},ux;function vP(){if(ux)return Gs;ux=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(r,i,o,s){var l=arguments.length,a=l<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,o):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,i,o,s);else for(var c=r.length-1;c>=0;c--)(u=r[c])&&(a=(l<3?u(a):l>3?u(i,o,a):u(i,o))||a);return l>3&&a&&Object.defineProperty(i,o,a),a};Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.DecisionInfo=void 0;const e=J;let t=class{constructor(i){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=i}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}};return n([e.Override],t.prototype,"toString",null),Gs.DecisionInfo=t,Gs}var Xs={},cx;function SP(){if(cx)return Xs;cx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.ErrorInfo=void 0;const t=ya(),r=J;let i=class extends t.DecisionEventInfo{constructor(s,l,a,u,c){super(s,l,a,u,c,l.useContext)}};return i=n([e(1,r.NotNull),e(2,r.NotNull)],i),Xs.ErrorInfo=i,Xs}var Ys={},hx;function bP(){if(hx)return Ys;hx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.LookaheadEventInfo=void 0;const t=ya(),r=J;let i=class extends t.DecisionEventInfo{constructor(s,l,a,u,c,h,f){super(s,l,u,c,h,f),this.predictedAlt=a}};return i=n([e(3,r.NotNull)],i),Ys.LookaheadEventInfo=i,Ys}var Js={},fx;function AP(){if(fx)return Js;fx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c},e=w&&w.__param||function(o,s){return function(l,a){s(l,a,o)}};Object.defineProperty(Js,"__esModule",{value:!0}),Js.PredicateEvalInfo=void 0;const t=ya(),r=J;let i=class extends t.DecisionEventInfo{constructor(s,l,a,u,c,h,f,d){super(l,s,a,u,c,s.useContext),this.semctx=h,this.evalResult=f,this.predictedAlt=d}};return i=n([e(0,r.NotNull),e(2,r.NotNull),e(5,r.NotNull)],i),Js.PredicateEvalInfo=i,Js}var dx;function px(){if(dx)return Us;dx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(v,m,y,g){var x=arguments.length,S=x<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,y):g,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(v,m,y,g);else for(var b=v.length-1;b>=0;b--)(_=v[b])&&(S=(x<3?_(S):x>3?_(m,y,S):_(m,y))||S);return x>3&&S&&Object.defineProperty(m,y,S),S},e=w&&w.__param||function(v,m){return function(y,g){m(y,g,v)}};Object.defineProperty(Us,"__esModule",{value:!0}),Us.ProfilingATNSimulator=void 0;const t=xP(),r=xn(),i=Ac(),o=yP(),s=vP(),l=SP(),a=J,u=bP(),c=ua(),h=AP(),f=ki,d=PS();let p=class extends c.ParserATNSimulator{constructor(m){super(m.interpreter.atn,m),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let y=0;y<this.numDecisions;y++)this.decisions.push(new s.DecisionInfo(y))}adaptivePredict(m,y,g,x){if(x!==void 0)return super.adaptivePredict(m,y,g,x);try{this._input=m,this._startIndex=m.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=y,this.currentState=void 0,this.conflictingAltResolvedBySLL=r.ATN.INVALID_ALT_NUMBER;let S=tt.hrtime(),_=super.adaptivePredict(m,y,g),b=tt.hrtime(),C=(b[0]-S[0])*1e9;C===0?C=b[1]-S[1]:C+=1e9-S[1]+b[1],this.decisions[y].timeInPrediction+=C,this.decisions[y].invocations++;let O=this._sllStopIndex-this._startIndex+1;if(this.decisions[y].SLL_TotalLook+=O,this.decisions[y].SLL_MinLook=this.decisions[y].SLL_MinLook===0?O:Math.min(this.decisions[y].SLL_MinLook,O),O>this.decisions[y].SLL_MaxLook&&(this.decisions[y].SLL_MaxLook=O,this.decisions[y].SLL_MaxLookEvent=new u.LookaheadEventInfo(y,void 0,_,m,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let D=this._llStopIndex-this._startIndex+1;this.decisions[y].LL_TotalLook+=D,this.decisions[y].LL_MinLook=this.decisions[y].LL_MinLook===0?D:Math.min(this.decisions[y].LL_MinLook,D),D>this.decisions[y].LL_MaxLook&&(this.decisions[y].LL_MaxLook=D,this.decisions[y].LL_MaxLookEvent=new u.LookaheadEventInfo(y,void 0,_,m,this._startIndex,this._llStopIndex,!0))}return _}finally{this._input=void 0,this.currentDecision=-1}}getStartState(m,y,g,x){let S=super.getStartState(m,y,g,x);return this.currentState=S,S}computeStartState(m,y,g){let x=super.computeStartState(m,y,g);return this.currentState=x,x}computeReachSet(m,y,g,x){if(this._input===void 0)throw new Error("Invalid state");let S=super.computeReachSet(m,y,g,x);return S==null&&this.decisions[this.currentDecision].errors.push(new l.ErrorInfo(this.currentDecision,y,this._input,this._startIndex,this._input.index)),this.currentState=S,S}getExistingTargetState(m,y){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let g=super.getExistingTargetState(m,y);if(g!=null&&(this.currentState=new d.SimulatorState(this.currentState.outerContext,g,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,g===i.ATNSimulator.ERROR)){let x=new d.SimulatorState(this.currentState.outerContext,m,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new l.ErrorInfo(this.currentDecision,x,this._input,this._startIndex,this._input.index))}return g}computeTargetState(m,y,g,x,S,_){let b=super.computeTargetState(m,y,g,x,S,_);return S?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,b}evalSemanticContextImpl(m,y,g){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let x=super.evalSemanticContextImpl(m,y,g);if(!(m instanceof f.SemanticContext.PrecedencePredicate)){let _=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new h.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,_,m,x,g))}return x}reportContextSensitivity(m,y,g,x,S){if(this._input===void 0)throw new Error("Invalid state");y!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new o.ContextSensitivityInfo(this.currentDecision,g,this._input,x,S)),super.reportContextSensitivity(m,y,g,x,S)}reportAttemptingFullContext(m,y,g,x,S){y!=null?this.conflictingAltResolvedBySLL=y.nextSetBit(0):this.conflictingAltResolvedBySLL=g.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(m,y,g,x,S)}reportAmbiguity(m,y,g,x,S,_,b){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let C;_!=null?C=_.nextSetBit(0):C=b.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==r.ATN.INVALID_ALT_NUMBER&&C!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new o.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,g,x)),this.decisions[this.currentDecision].ambiguities.push(new t.AmbiguityInfo(this.currentDecision,this.currentState,_,this._input,g,x)),super.reportAmbiguity(m,y,g,x,S,_,b)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}};return n([a.Override,e(0,a.NotNull)],p.prototype,"adaptivePredict",null),n([a.Override],p.prototype,"getStartState",null),n([a.Override],p.prototype,"computeStartState",null),n([a.Override],p.prototype,"computeReachSet",null),n([a.Override],p.prototype,"getExistingTargetState",null),n([a.Override],p.prototype,"computeTargetState",null),n([a.Override],p.prototype,"evalSemanticContextImpl",null),n([a.Override],p.prototype,"reportContextSensitivity",null),n([a.Override],p.prototype,"reportAttemptingFullContext",null),n([a.Override,e(0,a.NotNull),e(5,a.NotNull),e(6,a.NotNull)],p.prototype,"reportAmbiguity",null),Us.ProfilingATNSimulator=p,Us}var mx;function va(){if(mx)return gs;mx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(x,S,_,b){var C=arguments.length,O=C<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,_):b,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(x,S,_,b);else for(var M=x.length-1;M>=0;M--)(D=x[M])&&(O=(C<3?D(O):C>3?D(S,_,O):D(S,_))||O);return C>3&&O&&Object.defineProperty(S,_,O),O},e=w&&w.__param||function(x,S){return function(_,b){S(_,b,x)}},t=w&&w.__awaiter||function(x,S,_,b){function C(O){return O instanceof _?O:new _(function(D){D(O)})}return new(_||(_=Promise))(function(O,D){function M(V){try{k(b.next(V))}catch(se){D(se)}}function j(V){try{k(b.throw(V))}catch(se){D(se)}}function k(V){V.done?O(V.value):C(V.value).then(M,j)}k((b=b.apply(x,S||[])).next())})};Object.defineProperty(gs,"__esModule",{value:!0}),gs.Parser=void 0;const r=ut,i=Zl,o=kp(),s=Hp(),l=Uo,a=Vl,u=Yn(),c=J,h=Wc,f=ua(),d=da,p=Kn,v=An,m=ze;class y{constructor(S,_){this.ruleNames=S,this.tokenStream=_}enterEveryRule(S){console.log("enter   "+this.ruleNames[S.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(S){console.log("exit    "+this.ruleNames[S.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(S){}visitTerminal(S){let _=S.parent.ruleContext,b=S.symbol;console.log("consume "+b+" rule "+this.ruleNames[_.ruleIndex])}}n([c.Override],y.prototype,"enterEveryRule",null),n([c.Override],y.prototype,"exitEveryRule",null),n([c.Override],y.prototype,"visitErrorNode",null),n([c.Override],y.prototype,"visitTerminal",null);let g=class gu extends p.Recognizer{constructor(S){super(),this._errHandler=new s.DefaultErrorStrategy,this._precedenceStack=new a.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=S}reset(S){(S===void 0||S)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let _=this.interpreter;_!=null&&_.reset()}match(S){let _=this.currentToken;return _.type===S?(S===m.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(_=this._errHandler.recoverInline(this),this._buildParseTrees&&_.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,_))),_}matchWildcard(){let S=this.currentToken;return S.type>0?(this._errHandler.reportMatch(this),this.consume()):(S=this._errHandler.recoverInline(this),this._buildParseTrees&&S.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,S))),S}set buildParseTree(S){this._buildParseTrees=S}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(S){if(S==null)throw new TypeError("listener cannot be null");this._parseListeners.push(S)}removeParseListener(S){let _=this._parseListeners.findIndex(b=>b===S);_!==-1&&this._parseListeners.splice(_,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let S of this._parseListeners)S.enterEveryRule&&S.enterEveryRule(this._ctx),this._ctx.enterRule(S)}triggerExitRuleEvent(){for(let S=this._parseListeners.length-1;S>=0;S--){let _=this._parseListeners[S];this._ctx.exitRule(_),_.exitEveryRule&&_.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let S=this.serializedATN;if(S==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let _=gu.bypassAltsAtnCache.get(S);if(_==null){let b=new i.ATNDeserializationOptions;b.isGenerateRuleBypassTransitions=!0,_=new o.ATNDeserializer(b).deserialize(r.toCharArray(S)),gu.bypassAltsAtnCache.set(S,_)}return _}compileParseTreePattern(S,_,b){return t(this,void 0,void 0,function*(){if(!b){if(this.inputStream){let M=this.inputStream.tokenSource;M instanceof u.Lexer&&(b=M)}if(!b)throw new Error("Parser can't discover a lexer to use")}let C=b,O=yield Promise.resolve().then(()=>gP());return new O.ParseTreePatternMatcher(C,this).compile(S,_)})}get errorHandler(){return this._errHandler}set errorHandler(S){this._errHandler=S}get inputStream(){return this._input}set inputStream(S){this.reset(!1),this._input=S}get currentToken(){return this._input.LT(1)}notifyErrorListeners(S,_,b){_===void 0?_=this.currentToken:_===null&&(_=void 0),this._syntaxErrors++;let C=-1,O=-1;_!=null&&(C=_.line,O=_.charPositionInLine);let D=this.getErrorListenerDispatch();D.syntaxError&&D.syntaxError(this,_,C,O,S,b)}consume(){let S=this.currentToken;S.type!==gu.EOF&&this.inputStream.consume();let _=this._parseListeners.length!==0;if(this._buildParseTrees||_)if(this._errHandler.inErrorRecoveryMode(this)){let b=this._ctx.addErrorNode(this.createErrorNode(this._ctx,S));if(_)for(let C of this._parseListeners)C.visitErrorNode&&C.visitErrorNode(b)}else{let b=this.createTerminalNode(this._ctx,S);if(this._ctx.addChild(b),_)for(let C of this._parseListeners)C.visitTerminal&&C.visitTerminal(b)}return S}createTerminalNode(S,_){return new v.TerminalNode(_)}createErrorNode(S,_){return new l.ErrorNode(_)}addContextToParseTree(){let S=this._ctx._parent;S!=null&&S.addChild(this._ctx)}enterRule(S,_,b){this.state=_,this._ctx=S,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(S,_,b){if(this.state=_,this._buildParseTrees){let C=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),C._parent=S,S.addChild(C)}this._ctx=S,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(S,_){if(S.altNumber=_,this._buildParseTrees&&this._ctx!==S){let b=this._ctx._parent;b!=null&&(b.removeLastChild(),b.addChild(S))}this._ctx=S}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(S,_,b,C){this.state=_,this._precedenceStack.push(C),this._ctx=S,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(S,_,b){let C=this._ctx;C._parent=S,C.invokingState=_,C._stop=this._input.tryLT(-1),this._ctx=S,this._ctx._start=C._start,this._buildParseTrees&&this._ctx.addChild(C),this.triggerEnterRuleEvent()}unrollRecursionContexts(S){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let _=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==S;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=S;_._parent=S,this._buildParseTrees&&S!=null&&S.addChild(_)}getInvokingContext(S){let _=this._ctx;for(;_&&_.ruleIndex!==S;)_=_._parent;return _}get context(){return this._ctx}set context(S){this._ctx=S}precpred(S,_){return _>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new d.ProxyParserErrorListener(this.getErrorListeners())}inContext(S){return!1}isExpectedToken(S){let _=this.interpreter.atn,b=this._ctx,C=_.states[this.state],O=_.nextTokens(C);if(O.contains(S))return!0;if(!O.contains(m.Token.EPSILON))return!1;for(;b!=null&&b.invokingState>=0&&O.contains(m.Token.EPSILON);){let M=_.states[b.invokingState].transition(0);if(O=_.nextTokens(M.followState),O.contains(S))return!0;b=b._parent}return!!(O.contains(m.Token.EPSILON)&&S===m.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let S=this.interpreter.atn,_=S.states[this.state];return S.nextTokens(_)}getRuleIndex(S){let _=this.getRuleIndexMap().get(S);return _??-1}get ruleContext(){return this._ctx}getRuleInvocationStack(S=this._ctx){let _=S,b=this.ruleNames,C=[];for(;_!=null;){let O=_.ruleIndex;O<0?C.push("n/a"):C.push(b[O]),_=_._parent}return C}getDFAStrings(){let S=[];for(let _ of this._interp.atn.decisionToDFA)S.push(_.toString(this.vocabulary,this.ruleNames));return S}dumpDFA(){let S=!1;for(let _ of this._interp.atn.decisionToDFA)_.isEmpty||(S&&console.log(),console.log("Decision "+_.decision+":"),tt.stdout.write(_.toString(this.vocabulary,this.ruleNames)),S=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>px()).then(S=>{let _=this.interpreter;if(_ instanceof S.ProfilingATNSimulator)return new h.ParseInfo(_)})}setProfile(S){return t(this,void 0,void 0,function*(){let _=yield Promise.resolve().then(()=>px()),b=this.interpreter;S?b instanceof _.ProfilingATNSimulator||(this.interpreter=new _.ProfilingATNSimulator(this)):b instanceof _.ProfilingATNSimulator&&(this.interpreter=new f.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(b.getPredictionMode())})}set isTrace(S){S?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new y(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}};return g.bypassAltsAtnCache=new Map,n([c.NotNull],g.prototype,"_errHandler",void 0),n([c.NotNull],g.prototype,"match",null),n([c.NotNull],g.prototype,"matchWildcard",null),n([c.NotNull],g.prototype,"getParseListeners",null),n([e(0,c.NotNull)],g.prototype,"addParseListener",null),n([c.NotNull],g.prototype,"getATNWithBypassAlts",null),n([c.NotNull,e(0,c.NotNull)],g.prototype,"errorHandler",null),n([c.Override],g.prototype,"inputStream",null),n([c.NotNull],g.prototype,"currentToken",null),n([e(0,c.NotNull)],g.prototype,"enterRule",null),n([c.Override,e(0,c.Nullable)],g.prototype,"precpred",null),n([c.Override],g.prototype,"getErrorListenerDispatch",null),n([c.NotNull],g.prototype,"getExpectedTokens",null),n([c.NotNull],g.prototype,"getExpectedTokensWithinCurrentRule",null),n([c.Override],g.prototype,"parseInfo",null),gs.Parser=g,gs}var gx;function Jc(){if(gx)return ms;gx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(o,s,l,a){var u=arguments.length,c=u<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,l):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(o,s,l,a);else for(var f=o.length-1;f>=0;f--)(h=o[f])&&(c=(u<3?h(c):u>3?h(s,l,c):h(s,l))||c);return u>3&&c&&Object.defineProperty(s,l,c),c};Object.defineProperty(ms,"__esModule",{value:!0}),ms.NoViableAltException=void 0;const e=va(),t=Gr,r=J;let i=class extends t.RecognitionException{constructor(s,l,a,u,c,h){s instanceof e.Parser&&(l===void 0&&(l=s.inputStream),a===void 0&&(a=s.currentToken),u===void 0&&(u=s.currentToken),h===void 0&&(h=s.context)),super(s,l,h),this._deadEndConfigs=c,this._startToken=a,this.setOffendingToken(s,u)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}};return n([r.NotNull],i.prototype,"_startToken",void 0),ms.NoViableAltException=i,ms}var xx;function Hp(){if(xx)return ns;xx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(f,d,p,v){var m=arguments.length,y=m<3?d:v===null?v=Object.getOwnPropertyDescriptor(d,p):v,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,v);else for(var x=f.length-1;x>=0;x--)(g=f[x])&&(y=(m<3?g(y):m>3?g(d,p,y):g(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},e=w&&w.__param||function(f,d){return function(p,v){d(p,v,f)}};Object.defineProperty(ns,"__esModule",{value:!0}),ns.DefaultErrorStrategy=void 0;const t=Kr,r=mt,i=ko,o=Fi,s=zi(),l=Jc(),a=Tr(),u=ze,c=J;let h=class{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=t.ATNState.INVALID_STATE_NUMBER}reset(d){this.endErrorCondition(d)}beginErrorCondition(d){this.errorRecoveryMode=!0}inErrorRecoveryMode(d){return this.errorRecoveryMode}endErrorCondition(d){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(d){this.endErrorCondition(d)}reportError(d,p){this.inErrorRecoveryMode(d)||(this.beginErrorCondition(d),p instanceof l.NoViableAltException?this.reportNoViableAlternative(d,p):p instanceof o.InputMismatchException?this.reportInputMismatch(d,p):p instanceof i.FailedPredicateException?this.reportFailedPredicate(d,p):(console.error(`unknown recognition error type: ${p}`),this.notifyErrorListeners(d,p.toString(),p)))}notifyErrorListeners(d,p,v){let m=v.getOffendingToken(d);m===void 0&&(m=null),d.notifyErrorListeners(p,m,v)}recover(d,p){this.lastErrorIndex===d.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(d.state)&&d.consume(),this.lastErrorIndex=d.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new s.IntervalSet),this.lastErrorStates.add(d.state);let v=this.getErrorRecoverySet(d);this.consumeUntil(d,v)}sync(d){let p=d.interpreter.atn.states[d.state];if(this.inErrorRecoveryMode(d))return;let m=d.inputStream.LA(1),y=d.atn.nextTokens(p);if(y.contains(m)){this.nextTokensContext=void 0,this.nextTokensState=t.ATNState.INVALID_STATE_NUMBER;return}if(y.contains(u.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=d.context,this.nextTokensState=d.state);return}switch(p.stateType){case r.ATNStateType.BLOCK_START:case r.ATNStateType.STAR_BLOCK_START:case r.ATNStateType.PLUS_BLOCK_START:case r.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(d))return;throw new o.InputMismatchException(d);case r.ATNStateType.PLUS_LOOP_BACK:case r.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(d);let x=d.getExpectedTokens().or(this.getErrorRecoverySet(d));this.consumeUntil(d,x);break}}reportNoViableAlternative(d,p){let v=d.inputStream,m;v?p.startToken.type===u.Token.EOF?m="<EOF>":m=v.getTextFromRange(p.startToken,p.getOffendingToken()):m="<unknown input>";let y="no viable alternative at input "+this.escapeWSAndQuote(m);this.notifyErrorListeners(d,y,p)}reportInputMismatch(d,p){let v=p.expectedTokens,m=v?v.toStringVocabulary(d.vocabulary):"",y="mismatched input "+this.getTokenErrorDisplay(p.getOffendingToken(d))+" expecting "+m;this.notifyErrorListeners(d,y,p)}reportFailedPredicate(d,p){let m="rule "+d.ruleNames[d.context.ruleIndex]+" "+p.message;this.notifyErrorListeners(d,m,p)}reportUnwantedToken(d){if(this.inErrorRecoveryMode(d))return;this.beginErrorCondition(d);let p=d.currentToken,v=this.getTokenErrorDisplay(p),m=this.getExpectedTokens(d),y="extraneous input "+v+" expecting "+m.toStringVocabulary(d.vocabulary);d.notifyErrorListeners(y,p,void 0)}reportMissingToken(d){if(this.inErrorRecoveryMode(d))return;this.beginErrorCondition(d);let p=d.currentToken,m="missing "+this.getExpectedTokens(d).toStringVocabulary(d.vocabulary)+" at "+this.getTokenErrorDisplay(p);d.notifyErrorListeners(m,p,void 0)}recoverInline(d){let p=this.singleTokenDeletion(d);if(p)return d.consume(),p;if(this.singleTokenInsertion(d))return this.getMissingSymbol(d);throw this.nextTokensContext===void 0?new o.InputMismatchException(d):new o.InputMismatchException(d,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(d){let p=d.inputStream.LA(1),m=d.interpreter.atn.states[d.state].transition(0).target,y=d.interpreter.atn;return y.nextTokens(m,a.PredictionContext.fromRuleContext(y,d.context)).contains(p)?(this.reportMissingToken(d),!0):!1}singleTokenDeletion(d){let p=d.inputStream.LA(2);if(this.getExpectedTokens(d).contains(p)){this.reportUnwantedToken(d),d.consume();let m=d.currentToken;return this.reportMatch(d),m}}getMissingSymbol(d){let p=d.currentToken,v=this.getExpectedTokens(d),m=u.Token.INVALID_TYPE;v.isNil||(m=v.minElement);let y;m===u.Token.EOF?y="<missing EOF>":y="<missing "+d.vocabulary.getDisplayName(m)+">";let g=p,x=d.inputStream.tryLT(-1);return g.type===u.Token.EOF&&x!=null&&(g=x),this.constructToken(d.inputStream.tokenSource,m,y,g)}constructToken(d,p,v,m){let y=d.tokenFactory,g=m.tokenSource,x=g?g.inputStream:void 0;return y.create({source:d,stream:x},p,v,u.Token.DEFAULT_CHANNEL,-1,-1,m.line,m.charPositionInLine)}getExpectedTokens(d){return d.getExpectedTokens()}getTokenErrorDisplay(d){if(!d)return"<no token>";let p=this.getSymbolText(d);return p||(this.getSymbolType(d)===u.Token.EOF?p="<EOF>":p=`<${this.getSymbolType(d)}>`),this.escapeWSAndQuote(p)}getSymbolText(d){return d.text}getSymbolType(d){return d.type}escapeWSAndQuote(d){return d=d.replace(`
`,"\\n"),d=d.replace("\r","\\r"),d=d.replace("	","\\t"),"'"+d+"'"}getErrorRecoverySet(d){let p=d.interpreter.atn,v=d.context,m=new s.IntervalSet;for(;v&&v.invokingState>=0;){let g=p.states[v.invokingState].transition(0),x=p.nextTokens(g.followState);m.addAll(x),v=v._parent}return m.remove(u.Token.EPSILON),m}consumeUntil(d,p){let v=d.inputStream.LA(1);for(;v!==u.Token.EOF&&!p.contains(v);)d.consume(),v=d.inputStream.LA(1)}};return n([c.Override],h.prototype,"reset",null),n([e(0,c.NotNull)],h.prototype,"beginErrorCondition",null),n([c.Override],h.prototype,"inErrorRecoveryMode",null),n([e(0,c.NotNull)],h.prototype,"endErrorCondition",null),n([c.Override],h.prototype,"reportMatch",null),n([c.Override],h.prototype,"reportError",null),n([e(0,c.NotNull)],h.prototype,"notifyErrorListeners",null),n([c.Override],h.prototype,"recover",null),n([c.Override],h.prototype,"sync",null),n([e(0,c.NotNull),e(1,c.NotNull)],h.prototype,"reportNoViableAlternative",null),n([e(0,c.NotNull),e(1,c.NotNull)],h.prototype,"reportInputMismatch",null),n([e(0,c.NotNull),e(1,c.NotNull)],h.prototype,"reportFailedPredicate",null),n([e(0,c.NotNull)],h.prototype,"reportUnwantedToken",null),n([e(0,c.NotNull)],h.prototype,"reportMissingToken",null),n([c.Override],h.prototype,"recoverInline",null),n([e(0,c.NotNull)],h.prototype,"singleTokenInsertion",null),n([e(0,c.NotNull)],h.prototype,"singleTokenDeletion",null),n([c.NotNull,e(0,c.NotNull)],h.prototype,"getMissingSymbol",null),n([c.NotNull,e(0,c.NotNull)],h.prototype,"getExpectedTokens",null),n([e(0,c.NotNull)],h.prototype,"getSymbolText",null),n([e(0,c.NotNull)],h.prototype,"getSymbolType",null),n([c.NotNull,e(0,c.NotNull)],h.prototype,"escapeWSAndQuote",null),n([c.NotNull,e(0,c.NotNull)],h.prototype,"getErrorRecoverySet",null),n([e(0,c.NotNull),e(1,c.NotNull)],h.prototype,"consumeUntil",null),ns.DefaultErrorStrategy=h,ns}var yx;function qS(){if(yx)return rs;yx=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var n=w&&w.__decorate||function(s,l,a,u){var c=arguments.length,h=c<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(s,l,a,u);else for(var d=s.length-1;d>=0;d--)(f=s[d])&&(h=(c<3?f(h):c>3?f(l,a,h):f(l,a))||h);return c>3&&h&&Object.defineProperty(l,a,h),h};Object.defineProperty(rs,"__esModule",{value:!0}),rs.BailErrorStrategy=void 0;const e=Hp(),t=Fi,r=J,i=xa;let o=class extends e.DefaultErrorStrategy{recover(l,a){for(let u=l.context;u;u=u.parent)u.exception=a;throw new i.ParseCancellationException(a)}recoverInline(l){let a=new t.InputMismatchException(l);for(let u=l.context;u;u=u.parent)u.exception=a;throw new i.ParseCancellationException(a)}sync(l){}};return n([r.Override],o.prototype,"recover",null),n([r.Override],o.prototype,"recoverInline",null),n([r.Override],o.prototype,"sync",null),rs.BailErrorStrategy=o,rs}var US={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(US,"__esModule",{value:!0});var VS={};(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(n,"__esModule",{value:!0}),n.Dependents=void 0,function(e){e[e.SELF=0]="SELF",e[e.PARENTS=1]="PARENTS",e[e.CHILDREN=2]="CHILDREN",e[e.ANCESTORS=3]="ANCESTORS",e[e.DESCENDANTS=4]="DESCENDANTS",e[e.SIBLINGS=5]="SIBLINGS",e[e.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",e[e.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",e[e.PRECEEDING=8]="PRECEEDING",e[e.FOLLOWING=9]="FOLLOWING"}(n.Dependents||(n.Dependents={}))})(VS);var Qc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Go=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fr=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.DiagnosticErrorListener=void 0;const _P=Er,_t=J,xf=Ct;class Wi{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,t,r,i,o,s){}reportAmbiguity(e,t,r,i,o,s,l){if(this.exactOnly&&!o)return;let a=this.getDecisionDescription(e,t),u=this.getConflictingAlts(s,l),c=e.inputStream.getText(xf.Interval.of(r,i)),h=`reportAmbiguity d=${a}: ambigAlts=${u}, input='${c}'`;e.notifyErrorListeners(h)}reportAttemptingFullContext(e,t,r,i,o,s){let l=this.getDecisionDescription(e,t),a=e.inputStream.getText(xf.Interval.of(r,i)),u=`reportAttemptingFullContext d=${l}, input='${a}'`;e.notifyErrorListeners(u)}reportContextSensitivity(e,t,r,i,o,s){let l=this.getDecisionDescription(e,t),a=e.inputStream.getText(xf.Interval.of(r,i)),u=`reportContextSensitivity d=${l}, input='${a}'`;e.notifyErrorListeners(u)}getDecisionDescription(e,t){let r=t.decision,i=t.atnStartState.ruleIndex,o=e.ruleNames;if(i<0||i>=o.length)return r.toString();let s=o[i];return s?`${r} (${s})`:r.toString()}getConflictingAlts(e,t){if(e!=null)return e;let r=new _P.BitSet;for(let i of t)r.set(i.alt);return r}}Go([_t.Override],Wi.prototype,"syntaxError",null);Go([_t.Override,fr(0,_t.NotNull),fr(1,_t.NotNull),fr(6,_t.NotNull)],Wi.prototype,"reportAmbiguity",null);Go([_t.Override,fr(0,_t.NotNull),fr(1,_t.NotNull),fr(5,_t.NotNull)],Wi.prototype,"reportAttemptingFullContext",null);Go([_t.Override,fr(0,_t.NotNull),fr(1,_t.NotNull),fr(5,_t.NotNull)],Wi.prototype,"reportContextSensitivity",null);Go([fr(0,_t.NotNull),fr(1,_t.NotNull)],Wi.prototype,"getDecisionDescription",null);Go([_t.NotNull,fr(1,_t.NotNull)],Wi.prototype,"getConflictingAlts",null);Qc.DiagnosticErrorListener=Wi;var Zc={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Qn=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TP=w&&w.__param||function(n,e){return function(t,r){e(t,r,n)}};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.LexerInterpreter=void 0;const EP=Yn(),CP=wc(),WS=J,Xo=J;let qr=class extends EP.Lexer{constructor(e,t,r,i,o,s,l){if(super(l),s.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=s,this._ruleNames=r.slice(0),this._channelNames=i.slice(0),this._modeNames=o.slice(0),this._vocabulary=t,this._interp=new CP.LexerATNSimulator(s,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};Qn([WS.NotNull],qr.prototype,"_vocabulary",void 0);Qn([Xo.Override],qr.prototype,"atn",null);Qn([Xo.Override],qr.prototype,"grammarFileName",null);Qn([Xo.Override],qr.prototype,"ruleNames",null);Qn([Xo.Override],qr.prototype,"channelNames",null);Qn([Xo.Override],qr.prototype,"modeNames",null);Qn([Xo.Override],qr.prototype,"vocabulary",null);qr=Qn([TP(1,WS.NotNull)],qr);Zc.LexerInterpreter=qr;var KS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(KS,"__esModule",{value:!0});var eh={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var wP=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(eh,"__esModule",{value:!0});eh.RuleContextWithAltNum=void 0;const OP=xn(),NP=J,DP=wr();class GS extends DP.ParserRuleContext{constructor(e,t){t!==void 0?super(e,t):super(),this._altNumber=OP.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}}wP([NP.Override],GS.prototype,"altNumber",null);eh.RuleContextWithAltNum=GS;var th={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(th,"__esModule",{value:!0});th.RuleDependency=void 0;function PP(n){return(e,t,r)=>{}}th.RuleDependency=PP;var rh={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(rh,"__esModule",{value:!0});rh.RuleVersion=void 0;function RP(n){return(e,t,r)=>{}}rh.RuleVersion=RP;var XS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(XS,"__esModule",{value:!0});var YS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(YS,"__esModule",{value:!0});var JS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(JS,"__esModule",{value:!0});var Do={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var nh=w&&w.__decorate||function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(s=n[l])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};Object.defineProperty(Do,"__esModule",{value:!0});Do.RewriteOperation=Do.TokenStreamRewriter=void 0;const vx=Ct,ih=J,QS=ze;class wt{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(wt.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,t=wt.DEFAULT_PROGRAM_NAME){let r=this.programs.get(t);r!=null&&this.programs.set(t,r.slice(wt.MIN_TOKEN_INDEX,e))}deleteProgram(e=wt.DEFAULT_PROGRAM_NAME){this.rollback(wt.MIN_TOKEN_INDEX,e)}insertAfter(e,t,r=wt.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let o=this.getProgram(r),s=new Sx(this.tokens,i,o.length,t);o.push(s)}insertBefore(e,t,r=wt.DEFAULT_PROGRAM_NAME){let i;typeof e=="number"?i=e:i=e.tokenIndex;let o=this.getProgram(r),s=new oi(this.tokens,i,o.length,t);o.push(s)}replaceSingle(e,t){typeof e=="number"?this.replace(e,e,t):this.replace(e,e,t)}replace(e,t,r,i=wt.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof t!="number"&&(t=t.tokenIndex),e>t||e<0||t<0||t>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${t}(size=${this.tokens.size})`);let o=this.getProgram(i),s=new io(this.tokens,e,t,o.length,r);o.push(s)}delete(e,t,r=wt.DEFAULT_PROGRAM_NAME){t===void 0&&(t=e),typeof e=="number"?this.replace(e,t,"",r):this.replace(e,t,"",r)}getLastRewriteTokenIndex(e=wt.DEFAULT_PROGRAM_NAME){let t=this.lastRewriteTokenIndexes.get(e);return t??-1}setLastRewriteTokenIndex(e,t){this.lastRewriteTokenIndexes.set(e,t)}getProgram(e){let t=this.programs.get(e);return t==null&&(t=this.initializeProgram(e)),t}initializeProgram(e){let t=[];return this.programs.set(e,t),t}getText(e,t=wt.DEFAULT_PROGRAM_NAME){let r;e instanceof vx.Interval?r=e:r=vx.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(t=e);let i=this.programs.get(t),o=r.a,s=r.b;if(s>this.tokens.size-1&&(s=this.tokens.size-1),o<0&&(o=0),i==null||i.length===0)return this.tokens.getText(r);let l=[],a=this.reduceToSingleOperationPerIndex(i),u=o;for(;u<=s&&u<this.tokens.size;){let c=a.get(u);a.delete(u);let h=this.tokens.get(u);c==null?(h.type!==QS.Token.EOF&&l.push(String(h.text)),u++):u=c.execute(l)}if(s===this.tokens.size-1)for(let c of a.values())c.index>=this.tokens.size-1&&l.push(c.text.toString());return l.join("")}reduceToSingleOperationPerIndex(e){for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof io))continue;let o=i,s=this.getKindOfOps(e,oi,r);for(let a of s)a.index===o.index?(e[a.instructionIndex]=void 0,o.text=a.text.toString()+(o.text!=null?o.text.toString():"")):a.index>o.index&&a.index<=o.lastIndex&&(e[a.instructionIndex]=void 0);let l=this.getKindOfOps(e,io,r);for(let a of l){if(a.index>=o.index&&a.lastIndex<=o.lastIndex){e[a.instructionIndex]=void 0;continue}let u=a.lastIndex<o.index||a.index>o.lastIndex;if(a.text==null&&o.text==null&&!u)e[a.instructionIndex]=void 0,o.index=Math.min(a.index,o.index),o.lastIndex=Math.max(a.lastIndex,o.lastIndex);else if(!u)throw new Error(`replace op boundaries of ${o} overlap with previous ${a}`)}}for(let r=0;r<e.length;r++){let i=e[r];if(i==null||!(i instanceof oi))continue;let o=i,s=this.getKindOfOps(e,oi,r);for(let a of s)a.index===o.index&&(a instanceof Sx?(o.text=this.catOpText(a.text,o.text),e[a.instructionIndex]=void 0):a instanceof oi&&(o.text=this.catOpText(o.text,a.text),e[a.instructionIndex]=void 0));let l=this.getKindOfOps(e,io,r);for(let a of l){if(o.index===a.index){a.text=this.catOpText(o.text,a.text),e[r]=void 0;continue}if(o.index>=a.index&&o.index<=a.lastIndex)throw new Error(`insert op ${o} within boundaries of previous ${a}`)}}let t=new Map;for(let r of e)if(r!=null){if(t.get(r.index)!=null)throw new Error("should only be one op per index");t.set(r.index,r)}return t}catOpText(e,t){let r="",i="";return e!=null&&(r=e.toString()),t!=null&&(i=t.toString()),r+i}getKindOfOps(e,t,r){let i=[];for(let o=0;o<r&&o<e.length;o++){let s=e[o];s!=null&&s instanceof t&&i.push(s)}return i}}Do.TokenStreamRewriter=wt;wt.DEFAULT_PROGRAM_NAME="default";wt.PROGRAM_INIT_SIZE=100;wt.MIN_TOKEN_INDEX=0;class oh{constructor(e,t,r,i){this.tokens=e,this.instructionIndex=r,this.index=t,this.text=i===void 0?"":i}execute(e){return this.index}toString(){let e=this.constructor.name,t=e.indexOf("$");return e=e.substring(t+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}nh([ih.Override],oh.prototype,"toString",null);Do.RewriteOperation=oh;class oi extends oh{constructor(e,t,r,i){super(e,t,r,i)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==QS.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}}nh([ih.Override],oi.prototype,"execute",null);class Sx extends oi{constructor(e,t,r,i){super(e,t+1,r,i)}}class io extends oh{constructor(e,t,r,i,o){super(e,t,i,o),this.lastIndex=r}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}nh([ih.Override],io.prototype,"execute",null);nh([ih.Override],io.prototype,"toString",null);var ZS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ZS,"__esModule",{value:!0});var e2={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e2,"__esModule",{value:!0});(function(n){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=w&&w.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[o]}})}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),t=w&&w.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,r,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(vv,n),t(Sv,n),t(cc,n),t(qS(),n),t(ma,n),t(US,n),t(Gc,n),t(jp,n),t(pa,n),t(Wn,n),t(Sc,n),t(Wo,n),t(Gl,n),t(Hp(),n),t(VS,n),t(Qc,n),t(ko,n),t(Fi,n),t(jS(),n),t(pn,n),t(Yn(),n),t(Zc,n),t(Hi,n),t(ga,n),t(Jc(),n),t(va(),n),t(KS,n),t($S(),n),t(wr(),n),t(Mo,n),t(da,n),t(Gr,n),t(Kn,n),t(NS(),n),t(eh,n),t(th,n),t(rh,n),t(ze,n),t(XS,n),t(YS,n),t(JS,n),t(Do,n),t(ZS,n),t(gn,n),t(e2,n)})(pd);var t2=kp(),LP=Yn(),kP=wc();const Se=class Se extends LP.Lexer{get vocabulary(){return Se.VOCABULARY}constructor(e){super(e),this._interp=new kP.LexerATNSimulator(Se._ATN,this)}get grammarFileName(){return"YorkieSchema.g4"}get ruleNames(){return Se.ruleNames}get serializedATN(){return Se._serializedATN}get channelNames(){return Se.channelNames}get modeNames(){return Se.modeNames}static get _ATN(){return Se.__ATN||(Se.__ATN=new t2.ATNDeserializer().deserialize(_p(Se._serializedATN))),Se.__ATN}};te(Se,"T__0",1),te(Se,"T__1",2),te(Se,"T__2",3),te(Se,"T__3",4),te(Se,"T__4",5),te(Se,"T__5",6),te(Se,"T__6",7),te(Se,"T__7",8),te(Se,"T__8",9),te(Se,"T__9",10),te(Se,"T__10",11),te(Se,"T__11",12),te(Se,"T__12",13),te(Se,"T__13",14),te(Se,"T__14",15),te(Se,"T__15",16),te(Se,"T__16",17),te(Se,"T__17",18),te(Se,"T__18",19),te(Se,"T__19",20),te(Se,"T__20",21),te(Se,"T__21",22),te(Se,"T__22",23),te(Se,"T__23",24),te(Se,"T__24",25),te(Se,"T__25",26),te(Se,"T__26",27),te(Se,"T__27",28),te(Se,"T__28",29),te(Se,"T__29",30),te(Se,"Identifier",31),te(Se,"StringLiteral",32),te(Se,"NumberLiteral",33),te(Se,"BooleanLiteral",34),te(Se,"SingleLineComment",35),te(Se,"MultiLineComment",36),te(Se,"WS",37),te(Se,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),te(Se,"modeNames",["DEFAULT_MODE"]),te(Se,"ruleNames",["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","T__9","T__10","T__11","T__12","T__13","T__14","T__15","T__16","T__17","T__18","T__19","T__20","T__21","T__22","T__23","T__24","T__25","T__26","T__27","T__28","T__29","Identifier","StringLiteral","NumberLiteral","BooleanLiteral","SingleLineComment","MultiLineComment","WS"]),te(Se,"_LITERAL_NAMES",[void 0,"'type'","'='","';'","'let'","':'","'|'","'&'","'['","']'","'number'","'string'","'boolean'","'any'","'void'","'null'","'undefined'","'{'","'}'","'?'","'yorkie.Object'","'yorkie.Array'","'yorkie.Counter'","'yorkie.Text'","'yorkie.Tree'","'('","')'","'<'","','","'>'","'extends'"]),te(Se,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"Identifier","StringLiteral","NumberLiteral","BooleanLiteral","SingleLineComment","MultiLineComment","WS"]),te(Se,"VOCABULARY",new wp(Se._LITERAL_NAMES,Se._SYMBOLIC_NAMES,[])),te(Se,"_serializedATN",`줝쪺֍꾺体؇쉁'Ĵ\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&\x07\x07\b\b		

\v\v\v\v\v\v\v\f\f\f\f\f\f\f\r\r\r\r\r\r\r\r\x1B\x1B  \x07 ï
 \f  ò\v !!\x07!ö
!\f!!ù\v!!!""þ
"\r""ÿ"""Ą
"\r""ą"Ĉ
"##########ē
#$$$$\x07$ę
$\f$$Ĝ\v$$$%%%%\x07%Ĥ
%\f%%ħ\v%%%%%%&&į
&\r&&İ&&ĥ'\x07	\v\x07\r\b	
\v\f\r\x1B!#%')+-/13\x1B579;= ?!A"C#E$G%I&K'\bC\\aac|2;C\\aac|\f\f$$2;\f\f\v\f""ļ\x07	\v\r\x1B!#%')+-/13579;=?ACEGIKMR\x07T	V\vZ\r\\^\`bdkr\x1Bz~!#%')+¦-³/Â1Î3Ú5Ü7Þ9à;â=ä?ìAóCýEĒGĔIğKĮMN\x07vNO\x07{OP\x07rPQ\x07gQRS\x07?STU\x07=U\bVW\x07nWX\x07gXY\x07vY
Z[\x07<[\f\\]\x07~]^_\x07(_\`a\x07]abc\x07_cde\x07pef\x07wfg\x07ogh\x07dhi\x07gij\x07tjkl\x07ulm\x07vmn\x07tno\x07kop\x07ppq\x07iqrs\x07dst\x07qtu\x07quv\x07nvw\x07gwx\x07cxy\x07pyz{\x07c{|\x07p|}\x07{}~\x07x\x07q\x07k\x07f\x07p\x07w\x07n\x07n \x07w\x07p\x07f\x07g\x07h\x07k\x07p\x07g\x07f"\x07}$\x07&\x07A(\x07{\x07q\x07t\x07m\x07k\x07g\x070 \x07Q ¡\x07d¡¢\x07l¢£\x07g£¤\x07e¤¥\x07v¥*¦§\x07{§¨\x07q¨©\x07t©ª\x07mª«\x07k«¬\x07g¬­\x070­®\x07C®¯\x07t¯°\x07t°±\x07c±²\x07{²,³´\x07{´µ\x07qµ¶\x07t¶·\x07m·¸\x07k¸¹\x07g¹º\x070º»\x07E»¼\x07q¼½\x07w½¾\x07p¾¿\x07v¿À\x07gÀÁ\x07tÁ.ÂÃ\x07{ÃÄ\x07qÄÅ\x07tÅÆ\x07mÆÇ\x07kÇÈ\x07gÈÉ\x070ÉÊ\x07VÊË\x07gËÌ\x07zÌÍ\x07vÍ0ÎÏ\x07{ÏÐ\x07qÐÑ\x07tÑÒ\x07mÒÓ\x07kÓÔ\x07gÔÕ\x070ÕÖ\x07VÖ×\x07t×Ø\x07gØÙ\x07gÙ2ÚÛ\x07*Û4ÜÝ\x07+Ý6Þß\x07>ß8àá\x07.á:âã\x07@ã<äå\x07gåæ\x07zæç\x07vçè\x07gèé\x07péê\x07fêë\x07uë>ìð	íï	îíïòðîðññ@òðó÷\x07$ôö
õôöù÷õ÷øøúù÷úû\x07$ûBüþ	ýüþÿÿýÿĀĀćāă\x070ĂĄ	ăĂĄąąăąĆĆĈćāćĈĈDĉĊ\x07vĊċ\x07tċČ\x07wČē\x07gčĎ\x07hĎď\x07cďĐ\x07nĐđ\x07uđē\x07gĒĉĒčēFĔĕ\x071ĕĖ\x071ĖĚėę
ĘėęĜĚĘĚěěĝĜĚĝĞ\b$ĞHğĠ\x071Ġġ\x07,ġĥĢĤ\vģĢĤħĥĦĥģĦĨħĥĨĩ\x07,ĩĪ\x071ĪīīĬ\b%ĬJĭį	\x07ĮĭįİİĮİııĲĲĳ\b&ĳL\fð÷ÿąćĒĚĥİ\b`),te(Se,"__ATN");let Rd=Se;var Ja=Jc(),IP=va(),Qe=wr(),FP=ua();const $=class $ extends IP.Parser{get vocabulary(){return $.VOCABULARY}get grammarFileName(){return"YorkieSchema.g4"}get ruleNames(){return $.ruleNames}get serializedATN(){return $._serializedATN}createFailedPredicateException(e,t){return new nS(this,e,t)}constructor(e){super(e),this._interp=new FP.ParserATNSimulator($._ATN,this)}document(){let e=new MP(this._ctx,this.state);this.enterRule(e,0,$.RULE_document);let t;try{this.enterOuterAlt(e,1);{for(this.state=47,this._errHandler.sync(this),t=this._input.LA(1);t===$.T__0||t===$.T__3;)this.state=44,this.declaration(),this.state=49,this._errHandler.sync(this),t=this._input.LA(1);this.state=50,this.match($.EOF)}}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}declaration(){let e=new Ld(this._ctx,this.state);this.enterRule(e,2,$.RULE_declaration);try{switch(this.state=54,this._errHandler.sync(this),this._input.LA(1)){case $.T__0:this.enterOuterAlt(e,1),this.state=52,this.typeAliasDeclaration();break;case $.T__3:this.enterOuterAlt(e,2),this.state=53,this.variableDeclaration();break;default:throw new Ja.NoViableAltException(this)}}catch(t){if(t instanceof Ye)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}typeAliasDeclaration(){let e=new r2(this._ctx,this.state);this.enterRule(e,4,$.RULE_typeAliasDeclaration);let t;try{this.enterOuterAlt(e,1),this.state=56,this.match($.T__0),this.state=57,this.match($.Identifier),this.state=59,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__26&&(this.state=58,this.typeParameters()),this.state=61,this.match($.T__1),this.state=62,this.type(),this.state=63,this.match($.T__2)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}variableDeclaration(){let e=new n2(this._ctx,this.state);this.enterRule(e,6,$.RULE_variableDeclaration);let t;try{this.enterOuterAlt(e,1),this.state=65,this.match($.T__3),this.state=66,this.match($.Identifier),this.state=68,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__4&&(this.state=67,this.typeAnnotation()),this.state=72,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__1&&(this.state=70,this.match($.T__1),this.state=71,this.expression()),this.state=74,this.match($.T__2)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}typeAnnotation(){let e=new zp(this._ctx,this.state);this.enterRule(e,8,$.RULE_typeAnnotation);try{this.enterOuterAlt(e,1),this.state=76,this.match($.T__4),this.state=77,this.type()}catch(t){if(t instanceof Ye)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}type(){let e=new Ri(this._ctx,this.state);this.enterRule(e,10,$.RULE_type);try{this.enterOuterAlt(e,1),this.state=79,this.unionType()}catch(t){if(t instanceof Ye)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}unionType(){let e=new i2(this._ctx,this.state);this.enterRule(e,12,$.RULE_unionType);let t;try{for(this.enterOuterAlt(e,1),this.state=81,this.intersectionType(),this.state=86,this._errHandler.sync(this),t=this._input.LA(1);t===$.T__5;)this.state=82,this.match($.T__5),this.state=83,this.intersectionType(),this.state=88,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}intersectionType(){let e=new kd(this._ctx,this.state);this.enterRule(e,14,$.RULE_intersectionType);let t;try{for(this.enterOuterAlt(e,1),this.state=89,this.arrayType(),this.state=94,this._errHandler.sync(this),t=this._input.LA(1);t===$.T__6;)this.state=90,this.match($.T__6),this.state=91,this.arrayType(),this.state=96,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}arrayType(){let e=new Id(this._ctx,this.state);this.enterRule(e,16,$.RULE_arrayType);let t;try{for(this.enterOuterAlt(e,1),this.state=97,this.primaryType(),this.state=102,this._errHandler.sync(this),t=this._input.LA(1);t===$.T__7;)this.state=98,this.match($.T__7),this.state=99,this.match($.T__8),this.state=104,this._errHandler.sync(this),t=this._input.LA(1)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}primaryType(){let e=new o2(this._ctx,this.state);this.enterRule(e,18,$.RULE_primaryType);try{switch(this.state=111,this._errHandler.sync(this),this._input.LA(1)){case $.T__24:this.enterOuterAlt(e,1),this.state=105,this.parenthesizedType();break;case $.T__9:case $.T__10:case $.T__11:case $.T__12:case $.T__13:case $.T__14:case $.T__15:this.enterOuterAlt(e,2),this.state=106,this.primitiveType();break;case $.T__16:this.enterOuterAlt(e,3),this.state=107,this.objectType();break;case $.T__19:case $.T__20:case $.T__21:case $.T__22:case $.T__23:this.enterOuterAlt(e,4),this.state=108,this.yorkieType();break;case $.Identifier:this.enterOuterAlt(e,5),this.state=109,this.typeReference();break;case $.StringLiteral:case $.NumberLiteral:case $.BooleanLiteral:this.enterOuterAlt(e,6),this.state=110,this.literal();break;default:throw new Ja.NoViableAltException(this)}}catch(t){if(t instanceof Ye)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}primitiveType(){let e=new s2(this._ctx,this.state);this.enterRule(e,20,$.RULE_primitiveType);let t;try{this.enterOuterAlt(e,1),this.state=113,t=this._input.LA(1),!(t&-32)&&1<<t&(1<<$.T__9|1<<$.T__10|1<<$.T__11|1<<$.T__12|1<<$.T__13|1<<$.T__14|1<<$.T__15)?(this._input.LA(1)===ze.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}objectType(){let e=new l2(this._ctx,this.state);this.enterRule(e,22,$.RULE_objectType);let t;try{this.enterOuterAlt(e,1);{for(this.state=115,this.match($.T__16),this.state=119,this._errHandler.sync(this),t=this._input.LA(1);t===$.Identifier||t===$.StringLiteral;)this.state=116,this.propertySignature(),this.state=121,this._errHandler.sync(this),t=this._input.LA(1);this.state=122,this.match($.T__17)}}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}propertySignature(){let e=new Fd(this._ctx,this.state);this.enterRule(e,24,$.RULE_propertySignature);let t;try{this.enterOuterAlt(e,1),this.state=124,this.propertyName(),this.state=126,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__18&&(this.state=125,this.match($.T__18)),this.state=128,this.typeAnnotation(),this.state=129,this.match($.T__2)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}propertyName(){let e=new a2(this._ctx,this.state);this.enterRule(e,26,$.RULE_propertyName);let t;try{this.enterOuterAlt(e,1),this.state=131,t=this._input.LA(1),t===$.Identifier||t===$.StringLiteral?(this._input.LA(1)===ze.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}yorkieType(){let e=new u2(this._ctx,this.state);this.enterRule(e,28,$.RULE_yorkieType);let t;try{switch(this.state=149,this._errHandler.sync(this),this._input.LA(1)){case $.T__19:this.enterOuterAlt(e,1),this.state=133,this.match($.T__19),this.state=134,this.typeArguments();break;case $.T__20:this.enterOuterAlt(e,2),this.state=135,this.match($.T__20),this.state=136,this.typeArguments();break;case $.T__21:this.enterOuterAlt(e,3),this.state=137,this.match($.T__21),this.state=139,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__26&&(this.state=138,this.typeArguments());break;case $.T__22:this.enterOuterAlt(e,4),this.state=141,this.match($.T__22),this.state=143,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__26&&(this.state=142,this.typeArguments());break;case $.T__23:this.enterOuterAlt(e,5),this.state=145,this.match($.T__23),this.state=147,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__26&&(this.state=146,this.typeArguments());break;default:throw new Ja.NoViableAltException(this)}}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}typeReference(){let e=new c2(this._ctx,this.state);this.enterRule(e,30,$.RULE_typeReference);let t;try{this.enterOuterAlt(e,1),this.state=151,this.match($.Identifier),this.state=153,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__26&&(this.state=152,this.typeArguments())}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}parenthesizedType(){let e=new h2(this._ctx,this.state);this.enterRule(e,32,$.RULE_parenthesizedType);try{this.enterOuterAlt(e,1),this.state=155,this.match($.T__24),this.state=156,this.type(),this.state=157,this.match($.T__25)}catch(t){if(t instanceof Ye)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}typeParameters(){let e=new f2(this._ctx,this.state);this.enterRule(e,34,$.RULE_typeParameters);let t;try{this.enterOuterAlt(e,1);{for(this.state=159,this.match($.T__26),this.state=160,this.typeParameter(),this.state=165,this._errHandler.sync(this),t=this._input.LA(1);t===$.T__27;)this.state=161,this.match($.T__27),this.state=162,this.typeParameter(),this.state=167,this._errHandler.sync(this),t=this._input.LA(1);this.state=168,this.match($.T__28)}}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}typeParameter(){let e=new Md(this._ctx,this.state);this.enterRule(e,36,$.RULE_typeParameter);let t;try{this.enterOuterAlt(e,1),this.state=170,this.match($.Identifier),this.state=173,this._errHandler.sync(this),t=this._input.LA(1),t===$.T__29&&(this.state=171,this.match($.T__29),this.state=172,this.type())}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}typeArguments(){let e=new qp(this._ctx,this.state);this.enterRule(e,38,$.RULE_typeArguments);let t;try{this.enterOuterAlt(e,1);{for(this.state=175,this.match($.T__26),this.state=176,this.type(),this.state=181,this._errHandler.sync(this),t=this._input.LA(1);t===$.T__27;)this.state=177,this.match($.T__27),this.state=178,this.type(),this.state=183,this._errHandler.sync(this),t=this._input.LA(1);this.state=184,this.match($.T__28)}}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}expression(){let e=new d2(this._ctx,this.state);this.enterRule(e,40,$.RULE_expression);try{switch(this.state=188,this._errHandler.sync(this),this._input.LA(1)){case $.Identifier:this.enterOuterAlt(e,1),this.state=186,this.match($.Identifier);break;case $.StringLiteral:case $.NumberLiteral:case $.BooleanLiteral:this.enterOuterAlt(e,2),this.state=187,this.literal();break;default:throw new Ja.NoViableAltException(this)}}catch(t){if(t instanceof Ye)e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t);else throw t}finally{this.exitRule()}return e}literal(){let e=new Up(this._ctx,this.state);this.enterRule(e,42,$.RULE_literal);let t;try{this.enterOuterAlt(e,1),this.state=190,t=this._input.LA(1),!(t-32&-32)&&1<<t-32&(1<<$.StringLiteral-32|1<<$.NumberLiteral-32|1<<$.BooleanLiteral-32)?(this._input.LA(1)===ze.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(r){if(r instanceof Ye)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}static get _ATN(){return $.__ATN||($.__ATN=new t2.ATNDeserializer().deserialize(_p($._serializedATN))),$.__ATN}};te($,"T__0",1),te($,"T__1",2),te($,"T__2",3),te($,"T__3",4),te($,"T__4",5),te($,"T__5",6),te($,"T__6",7),te($,"T__7",8),te($,"T__8",9),te($,"T__9",10),te($,"T__10",11),te($,"T__11",12),te($,"T__12",13),te($,"T__13",14),te($,"T__14",15),te($,"T__15",16),te($,"T__16",17),te($,"T__17",18),te($,"T__18",19),te($,"T__19",20),te($,"T__20",21),te($,"T__21",22),te($,"T__22",23),te($,"T__23",24),te($,"T__24",25),te($,"T__25",26),te($,"T__26",27),te($,"T__27",28),te($,"T__28",29),te($,"T__29",30),te($,"Identifier",31),te($,"StringLiteral",32),te($,"NumberLiteral",33),te($,"BooleanLiteral",34),te($,"SingleLineComment",35),te($,"MultiLineComment",36),te($,"WS",37),te($,"RULE_document",0),te($,"RULE_declaration",1),te($,"RULE_typeAliasDeclaration",2),te($,"RULE_variableDeclaration",3),te($,"RULE_typeAnnotation",4),te($,"RULE_type",5),te($,"RULE_unionType",6),te($,"RULE_intersectionType",7),te($,"RULE_arrayType",8),te($,"RULE_primaryType",9),te($,"RULE_primitiveType",10),te($,"RULE_objectType",11),te($,"RULE_propertySignature",12),te($,"RULE_propertyName",13),te($,"RULE_yorkieType",14),te($,"RULE_typeReference",15),te($,"RULE_parenthesizedType",16),te($,"RULE_typeParameters",17),te($,"RULE_typeParameter",18),te($,"RULE_typeArguments",19),te($,"RULE_expression",20),te($,"RULE_literal",21),te($,"ruleNames",["document","declaration","typeAliasDeclaration","variableDeclaration","typeAnnotation","type","unionType","intersectionType","arrayType","primaryType","primitiveType","objectType","propertySignature","propertyName","yorkieType","typeReference","parenthesizedType","typeParameters","typeParameter","typeArguments","expression","literal"]),te($,"_LITERAL_NAMES",[void 0,"'type'","'='","';'","'let'","':'","'|'","'&'","'['","']'","'number'","'string'","'boolean'","'any'","'void'","'null'","'undefined'","'{'","'}'","'?'","'yorkie.Object'","'yorkie.Array'","'yorkie.Counter'","'yorkie.Text'","'yorkie.Tree'","'('","')'","'<'","','","'>'","'extends'"]),te($,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"Identifier","StringLiteral","NumberLiteral","BooleanLiteral","SingleLineComment","MultiLineComment","WS"]),te($,"VOCABULARY",new wp($._LITERAL_NAMES,$._SYMBOLIC_NAMES,[])),te($,"_serializedATN",`줝쪺֍꾺体؇쉁'Ã					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r										\x070
\f3\v9
>
G
K
\x07\x07\b\b\b\x07\bW
\b\f\b\bZ\v\b			\x07	_
	\f		b\v	


\x07
g

\f

j\v
\v\v\v\v\v\v\vr
\v\f\f\r\r\x07\rx
\r\f\r\r{\v\r\r\r





\x07¦
\f©\v°
\x07¶
\f¹\v¿
\b
\f "$&(*,\f!""$Ç18:\bC
N\fQS[cqsu~ "$¡&¬(±*¾,À.0/.031/12243145\x0756979\b86879:;\x07;=\x07!<>$=<=>>??@\x07@A\f\x07AB\x07B\x07CD\x07DF\x07!EG
FEFGGJHI\x07IK*JHJKKLLM\x07M	NO\x07\x07OP\f\x07P\vQR\bR\rSX	TU\x07\bUW	VTWZXVXYYZX[\`
\\]\x07	]_
^\\_b\`^\`aab\`ch\vde\x07
eg\x07\vfdgjhfhiijhkr"lr\fmr\rnror pr,qkqlqmqnqoqprst	tuy\x07vxwvx{ywyzz|{y|}\x07}~\x07
\x07\x1B	\x07(\x07(\x07(\x07(\x07(\x07!(!\x07\x1B\f\x07 \x07 #¡¢\x07¢§&£¤\x07¤¦&¥£¦©§¥§¨¨ª©§ª«\x07«%¬¯\x07!­®\x07 ®°\f\x07¯­¯°°'±²\x07²·\f\x07³´\x07´¶\f\x07µ³¶¹·µ·¸¸º¹·º»\x07»)¼¿\x07!½¿,¾¼¾½¿+ÀÁ	Á-18=FJX\`hqy§¯·¾`),te($,"__ATN");let Pe=$;class MP extends Qe.ParserRuleContext{EOF(){return this.getToken(Pe.EOF,0)}declaration(e){return e===void 0?this.getRuleContexts(Ld):this.getRuleContext(e,Ld)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_document}enterRule(e){e.enterDocument&&e.enterDocument(this)}exitRule(e){e.exitDocument&&e.exitDocument(this)}accept(e){return e.visitDocument?e.visitDocument(this):e.visitChildren(this)}}class Ld extends Qe.ParserRuleContext{typeAliasDeclaration(){return this.tryGetRuleContext(0,r2)}variableDeclaration(){return this.tryGetRuleContext(0,n2)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_declaration}enterRule(e){e.enterDeclaration&&e.enterDeclaration(this)}exitRule(e){e.exitDeclaration&&e.exitDeclaration(this)}accept(e){return e.visitDeclaration?e.visitDeclaration(this):e.visitChildren(this)}}class r2 extends Qe.ParserRuleContext{Identifier(){return this.getToken(Pe.Identifier,0)}type(){return this.getRuleContext(0,Ri)}typeParameters(){return this.tryGetRuleContext(0,f2)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_typeAliasDeclaration}enterRule(e){e.enterTypeAliasDeclaration&&e.enterTypeAliasDeclaration(this)}exitRule(e){e.exitTypeAliasDeclaration&&e.exitTypeAliasDeclaration(this)}accept(e){return e.visitTypeAliasDeclaration?e.visitTypeAliasDeclaration(this):e.visitChildren(this)}}class n2 extends Qe.ParserRuleContext{Identifier(){return this.getToken(Pe.Identifier,0)}typeAnnotation(){return this.tryGetRuleContext(0,zp)}expression(){return this.tryGetRuleContext(0,d2)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_variableDeclaration}enterRule(e){e.enterVariableDeclaration&&e.enterVariableDeclaration(this)}exitRule(e){e.exitVariableDeclaration&&e.exitVariableDeclaration(this)}accept(e){return e.visitVariableDeclaration?e.visitVariableDeclaration(this):e.visitChildren(this)}}class zp extends Qe.ParserRuleContext{type(){return this.getRuleContext(0,Ri)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_typeAnnotation}enterRule(e){e.enterTypeAnnotation&&e.enterTypeAnnotation(this)}exitRule(e){e.exitTypeAnnotation&&e.exitTypeAnnotation(this)}accept(e){return e.visitTypeAnnotation?e.visitTypeAnnotation(this):e.visitChildren(this)}}class Ri extends Qe.ParserRuleContext{unionType(){return this.getRuleContext(0,i2)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_type}enterRule(e){e.enterType&&e.enterType(this)}exitRule(e){e.exitType&&e.exitType(this)}accept(e){return e.visitType?e.visitType(this):e.visitChildren(this)}}class i2 extends Qe.ParserRuleContext{intersectionType(e){return e===void 0?this.getRuleContexts(kd):this.getRuleContext(e,kd)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_unionType}enterRule(e){e.enterUnionType&&e.enterUnionType(this)}exitRule(e){e.exitUnionType&&e.exitUnionType(this)}accept(e){return e.visitUnionType?e.visitUnionType(this):e.visitChildren(this)}}class kd extends Qe.ParserRuleContext{arrayType(e){return e===void 0?this.getRuleContexts(Id):this.getRuleContext(e,Id)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_intersectionType}enterRule(e){e.enterIntersectionType&&e.enterIntersectionType(this)}exitRule(e){e.exitIntersectionType&&e.exitIntersectionType(this)}accept(e){return e.visitIntersectionType?e.visitIntersectionType(this):e.visitChildren(this)}}class Id extends Qe.ParserRuleContext{primaryType(){return this.getRuleContext(0,o2)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_arrayType}enterRule(e){e.enterArrayType&&e.enterArrayType(this)}exitRule(e){e.exitArrayType&&e.exitArrayType(this)}accept(e){return e.visitArrayType?e.visitArrayType(this):e.visitChildren(this)}}class o2 extends Qe.ParserRuleContext{parenthesizedType(){return this.tryGetRuleContext(0,h2)}primitiveType(){return this.tryGetRuleContext(0,s2)}objectType(){return this.tryGetRuleContext(0,l2)}yorkieType(){return this.tryGetRuleContext(0,u2)}typeReference(){return this.tryGetRuleContext(0,c2)}literal(){return this.tryGetRuleContext(0,Up)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_primaryType}enterRule(e){e.enterPrimaryType&&e.enterPrimaryType(this)}exitRule(e){e.exitPrimaryType&&e.exitPrimaryType(this)}accept(e){return e.visitPrimaryType?e.visitPrimaryType(this):e.visitChildren(this)}}class s2 extends Qe.ParserRuleContext{constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_primitiveType}enterRule(e){e.enterPrimitiveType&&e.enterPrimitiveType(this)}exitRule(e){e.exitPrimitiveType&&e.exitPrimitiveType(this)}accept(e){return e.visitPrimitiveType?e.visitPrimitiveType(this):e.visitChildren(this)}}class l2 extends Qe.ParserRuleContext{propertySignature(e){return e===void 0?this.getRuleContexts(Fd):this.getRuleContext(e,Fd)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_objectType}enterRule(e){e.enterObjectType&&e.enterObjectType(this)}exitRule(e){e.exitObjectType&&e.exitObjectType(this)}accept(e){return e.visitObjectType?e.visitObjectType(this):e.visitChildren(this)}}class Fd extends Qe.ParserRuleContext{propertyName(){return this.getRuleContext(0,a2)}typeAnnotation(){return this.getRuleContext(0,zp)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_propertySignature}enterRule(e){e.enterPropertySignature&&e.enterPropertySignature(this)}exitRule(e){e.exitPropertySignature&&e.exitPropertySignature(this)}accept(e){return e.visitPropertySignature?e.visitPropertySignature(this):e.visitChildren(this)}}class a2 extends Qe.ParserRuleContext{Identifier(){return this.tryGetToken(Pe.Identifier,0)}StringLiteral(){return this.tryGetToken(Pe.StringLiteral,0)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_propertyName}enterRule(e){e.enterPropertyName&&e.enterPropertyName(this)}exitRule(e){e.exitPropertyName&&e.exitPropertyName(this)}accept(e){return e.visitPropertyName?e.visitPropertyName(this):e.visitChildren(this)}}class u2 extends Qe.ParserRuleContext{typeArguments(){return this.tryGetRuleContext(0,qp)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_yorkieType}enterRule(e){e.enterYorkieType&&e.enterYorkieType(this)}exitRule(e){e.exitYorkieType&&e.exitYorkieType(this)}accept(e){return e.visitYorkieType?e.visitYorkieType(this):e.visitChildren(this)}}class c2 extends Qe.ParserRuleContext{Identifier(){return this.getToken(Pe.Identifier,0)}typeArguments(){return this.tryGetRuleContext(0,qp)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_typeReference}enterRule(e){e.enterTypeReference&&e.enterTypeReference(this)}exitRule(e){e.exitTypeReference&&e.exitTypeReference(this)}accept(e){return e.visitTypeReference?e.visitTypeReference(this):e.visitChildren(this)}}class h2 extends Qe.ParserRuleContext{type(){return this.getRuleContext(0,Ri)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_parenthesizedType}enterRule(e){e.enterParenthesizedType&&e.enterParenthesizedType(this)}exitRule(e){e.exitParenthesizedType&&e.exitParenthesizedType(this)}accept(e){return e.visitParenthesizedType?e.visitParenthesizedType(this):e.visitChildren(this)}}class f2 extends Qe.ParserRuleContext{typeParameter(e){return e===void 0?this.getRuleContexts(Md):this.getRuleContext(e,Md)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_typeParameters}enterRule(e){e.enterTypeParameters&&e.enterTypeParameters(this)}exitRule(e){e.exitTypeParameters&&e.exitTypeParameters(this)}accept(e){return e.visitTypeParameters?e.visitTypeParameters(this):e.visitChildren(this)}}class Md extends Qe.ParserRuleContext{Identifier(){return this.getToken(Pe.Identifier,0)}type(){return this.tryGetRuleContext(0,Ri)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_typeParameter}enterRule(e){e.enterTypeParameter&&e.enterTypeParameter(this)}exitRule(e){e.exitTypeParameter&&e.exitTypeParameter(this)}accept(e){return e.visitTypeParameter?e.visitTypeParameter(this):e.visitChildren(this)}}class qp extends Qe.ParserRuleContext{type(e){return e===void 0?this.getRuleContexts(Ri):this.getRuleContext(e,Ri)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_typeArguments}enterRule(e){e.enterTypeArguments&&e.enterTypeArguments(this)}exitRule(e){e.exitTypeArguments&&e.exitTypeArguments(this)}accept(e){return e.visitTypeArguments?e.visitTypeArguments(this):e.visitChildren(this)}}class d2 extends Qe.ParserRuleContext{Identifier(){return this.tryGetToken(Pe.Identifier,0)}literal(){return this.tryGetRuleContext(0,Up)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_expression}enterRule(e){e.enterExpression&&e.enterExpression(this)}exitRule(e){e.exitExpression&&e.exitExpression(this)}accept(e){return e.visitExpression?e.visitExpression(this):e.visitChildren(this)}}class Up extends Qe.ParserRuleContext{StringLiteral(){return this.tryGetToken(Pe.StringLiteral,0)}NumberLiteral(){return this.tryGetToken(Pe.NumberLiteral,0)}BooleanLiteral(){return this.tryGetToken(Pe.BooleanLiteral,0)}constructor(e,t){super(e,t)}get ruleIndex(){return Pe.RULE_literal}enterRule(e){e.enterLiteral&&e.enterLiteral(this)}exitRule(e){e.exitLiteral&&e.exitLiteral(this)}accept(e){return e.visitLiteral?e.visitLiteral(this):e.visitChildren(this)}}class BP{constructor(e){this.errorList=e}syntaxError(e,t,r,i,o,s){let l={severity:"error",message:o,range:{start:{column:i,line:r},end:{column:i+1,line:r}}};this.errorList.push(l)}}class jP{constructor(e){this.errorList=e}syntaxError(e,t,r,i,o,s){const l={severity:"error",message:o,range:{start:{column:i,line:r},end:{column:i+1,line:r}}};t&&(l.range.end.column=i+t.stopIndex-t.startIndex+1),this.errorList.push(l)}}function $P(n){const e=[],t=pd.CharStreams.fromString(n),r=new Rd(t);r.removeErrorListeners(),r.addErrorListener(new BP(e));const i=new pd.CommonTokenStream(r),o=new Pe(i);return o.removeErrorListeners(),o.addErrorListener(new jP(e)),o.declaration(),e}const HP=y_(n=>{const e=n.state.doc.toString();return $P(e).map(t=>({from:n.state.doc.line(t.range.start.line).from+t.range.start.column,to:n.state.doc.line(t.range.end.line).from+t.range.end.column,message:t.message,severity:t.severity}))});new de({state:Me.create({doc:`// 🐾 Yorkie Schema Example

// Every document should start with 'Document' type.
type Document = {
  theme: "light" | "dark";
  history: Array<Change>;
  tree: yorkie.Tree;
  text: yorkie.Text;
  object: yorkie.Object; // Error: yorkie.Object requires a generic type
  array: yorkie.Array;   // Error: yorkie.Array requires a generic type
};`,extensions:[cw,HP,C_()]}),parent:document.getElementById("editor")});
